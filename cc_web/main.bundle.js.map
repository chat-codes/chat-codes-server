{"version":3,"sources":["../chat-codes-services/node_modules/difflib/index.js","../chat-codes-services/node_modules/difflib/lib/difflib.js","../chat-codes-services/node_modules/fuzzyset.js/index.js","../chat-codes-services/node_modules/fuzzyset.js/lib/fuzzyset.js","../chat-codes-services/node_modules/heap/index.js","../chat-codes-services/node_modules/heap/lib/heap.js","../chat-codes-services/node_modules/make-error/index.js","../chat-codes-services/node_modules/ot-json0/lib/bootstrapTransform.js","../chat-codes-services/node_modules/ot-json0/lib/index.js","../chat-codes-services/node_modules/ot-json0/lib/json0.js","../chat-codes-services/node_modules/ot-json0/lib/text0.js","../chat-codes-services/node_modules/ot-text/lib/api.js","../chat-codes-services/node_modules/ot-text/lib/index.js","../chat-codes-services/node_modules/ot-text/lib/text.js","../chat-codes-services/node_modules/sharedb/lib/client/connection.js","../chat-codes-services/node_modules/sharedb/lib/client/doc.js","../chat-codes-services/node_modules/sharedb/lib/client/index.js","../chat-codes-services/node_modules/sharedb/lib/client/query.js","../chat-codes-services/node_modules/sharedb/lib/emitter.js","../chat-codes-services/node_modules/sharedb/lib/error.js","../chat-codes-services/node_modules/sharedb/lib/types.js","../chat-codes-services/node_modules/sharedb/lib/util.js","../chat-codes-services/node_modules/showdown/dist/showdown.js","../chat-codes-services/node_modules/underscore/underscore.js","../chat-codes-services/src/chat-messages.ts","../chat-codes-services/src/chat-user.ts","../chat-codes-services/src/communication-service.ts","../chat-codes-services/src/editor-state-tracker.ts","../chat-codes-services/src/event.ts","../chat-codes-services/src/socket-communication-layer.ts","./node_modules/moment/locale ^\\.\\/.*$","./node_modules/xterm/lib/addons ^\\.\\/.*$","./src/$_gendir lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/chat-input/chat-input.component.css","./src/app/chat-input/chat-input.component.html","./src/app/chat-input/chat-input.component.ts","./src/app/chat-messages/chat-messages.component.css","./src/app/chat-messages/chat-messages.component.html","./src/app/chat-messages/chat-messages.component.ts","./src/app/chat-messages/connection-message.component.css","./src/app/chat-messages/connection-message.component.html","./src/app/chat-messages/connection-message.component.ts","./src/app/chat-messages/edit-message.component.css","./src/app/chat-messages/edit-message.component.html","./src/app/chat-messages/edit-message.component.ts","./src/app/chat-messages/single-message.component.css","./src/app/chat-messages/single-message.component.html","./src/app/chat-messages/single-message.component.ts","./src/app/editor/ace-editor-wrapper.ts","./src/app/editor/editor.component.css","./src/app/editor/editor.component.html","./src/app/editor/editor.component.ts","./src/app/editor/sharedb-ace-binding.ts","./src/app/name-entry/name-entry.component.css","./src/app/name-entry/name-entry.component.html","./src/app/name-entry/name-entry.component.ts","./src/app/python_out/python_out.component.css","./src/app/python_out/python_out.component.html","./src/app/python_out/python_out.component.ts","./src/app/terminal/terminal.component.css","./src/app/terminal/terminal.component.html","./src/app/terminal/terminal.component.ts","./src/app/timestamp/timestamp.component.html","./src/app/timestamp/timestamp.component.ts","./src/app/user/user-display.component.css","./src/app/user/user-display.component.html","./src/app/user/user-display.component.ts","./src/environments/environment.ts","./src/main.ts","fs (ignored)"],"names":[],"mappings":";;;;;AAAA;;;;;;;;ACAA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,8CAA8C,iCAAiC,OAAO,OAAO,6CAA6C,EAAE,WAAW;;AAEvJ;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC,sCAAsC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gEAAgE;AAChE,yEAAyE;;AAEzE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B,EAAE,UAAU,EAAE,cAAc,KAAK;AAC9D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA2B,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG;AAC3D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C;;AAE5C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,kCAAkC;AAC1D;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,WAAW;AAC3D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,WAAW;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD;AAClD;AACA;;AAEA;;AAEA;AACA;AACA,yCAAyC;;AAEzC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,8BAA8B;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA,sCAAsC,YAAY;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kCAAkC;AAC1D;AACA;AACA,0BAA0B,kCAAkC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,WAAW;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC;AACA,qCAAqC;;AAErC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA,4CAA4C,YAAY;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,YAAY;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,YAAY;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC;AACA,qCAAqC;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,wCAAwC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,YAAY;AACxD;AACA;AACA;AACA;AACA,SAAS;AACT,4CAA4C,YAAY;AACxD;AACA;AACA;AACA,gDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,YAAY;AACxD;AACA;AACA;AACA;AACA,SAAS;AACT,4CAA4C,YAAY;AACxD;AACA;AACA;AACA,gDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C;;AAE7C;AACA;;AAEA;AACA;AACA,oB;;AAEA;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,CAAC;;;;;;;;AC78CD;;;;;;;;ACAA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,kBAAkB;AACzC,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,aAAa;AACxC;AACA;AACA;AACA,uBAAuB,sCAAsC;AAC7D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+CAA+C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,iCAAiC;AAC5D;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,cAAc;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,gCAAgC;AAC3C;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA,CAAC;;;;;;;;ACtSD;;;;;;;;ACAA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,mCAAmC,0BAA0B,oBAAoB;AACvI;AACA,KAAK;AACL;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,sCAAsC;AACxF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AAAA;AAAA;AAAA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA,GAAG;;AAEH,CAAC;;;;;;;;;ACtXD;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;AClJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yBAAyB,oBAAoB;AAC7C;AACA;AACA,yBAAyB,oBAAoB;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7EA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACNA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,YAAY;;AAEZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,iBAAiB,eAAe;AAChC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,gBAAgB;AACnC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,eAAe;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,+BAA+B;AAC/B,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,iBAAiB,eAAe;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kCAAkC,OAAO;AACzC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4BAA4B,qBAAqB;AACjD,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACrpBA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,eAAe;AACpB,KAAK,eAAe;AACpB;AACA;AACA;AACA;AACA;AACA,OAAO,aAAa;AACpB;AACA,OAAO,WAAW,GAAG,WAAW,GAAG,WAAW;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,iCAAiC;;AAEjC,KAAK;AACL;AACA,iCAAiC;;AAEjC,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM,eAAe;AACrB;AACA;AACA;AACA;;AAEA,iBAAiB,eAAe;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAkB,0DAA0D;AAC5E,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,sBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA,sBAAsB,+BAA+B;;AAErD,KAAK;AACL;AACA;AACA,sBAAsB,iCAAiC;AACvD;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0BAA0B,aAAa,IAAI;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;;;;;;;;AC/PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB,EAAE;;AAE7C;AACA,2BAA2B,6BAA6B,EAAE;;AAE1D;AACA;AACA;AACA,KAAK;;AAEL;AACA,6BAA6B,SAAS;AACtC,KAAK;;AAEL;AACA;AACA,sCAAsC;AACtC,+CAA+C;;AAE/C;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;;;;;;;AChEhB;AACA;;AAEA;AACA;AACA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAI;AACV;AACA,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,uCAAuC,IAAI;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;;AAEA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,OAAO;AACP;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,6BAA6B,gBAAgB;;AAE7C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,oBAAoB;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;AC/ZA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;;AAEA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gCAAgC;AAC/C,GAAG;AACH,eAAe,uCAAuC;AACtD;AACA;AACA;AACA,eAAe,mDAAmD;AAClE,GAAG;AACH,eAAe,4CAA4C;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E,2DAA2D;AAC3D;AACA;AACA;AACA,GAAG;AACH;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,sCAAsC;;AAEtC;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACjkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,SAAS,IAAI;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,iCAAiC,4BAA4B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC74BA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,mEAAmE;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,qBAAqB;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;ACtMA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;ACTA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;ACRA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACTA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACPA,mCAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,yCAAyC,EAAE;AAC3C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB,gBAAgB;AAChB,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,mBAAmB,gBAAgB;AACnC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC,oBAAoB,uBAAuB;AAC3C,oBAAoB,yBAAyB;AAC7C,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,IAAI;AACf,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,IAAI;AACf,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,KAAK;AACL;AACA,uDAAuD;AACvD,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,iBAAiB;AACjE,oDAAoD,iBAAiB;AACrE,yCAAyC,iBAAiB,iBAAiB;AAC3E;AACA,6CAA6C,iBAAiB,iBAAiB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,yCAAyC,iBAAiB;AAC1D,sCAAsC;AACtC,0CAA0C,iBAAiB;AAC3D,2CAA2C,iBAAiB;AAC5D,yCAAyC,iBAAiB;AAC1D,6CAA6C,iBAAiB,iBAAiB;AAC/E,0CAA0C,iBAAiB;AAC3D,8CAA8C,iBAAiB,iBAAiB;AAChF,+CAA+C,iBAAiB,iBAAiB;AACjF,+CAA+C,iBAAiB,iBAAiB;AACjF,4CAA4C,iBAAiB;AAC7D,gDAAgD,iBAAiB,iBAAiB;AAClF,iDAAiD,iBAAiB,iBAAiB;AACnF,uCAAuC;AACvC,2CAA2C,iBAAiB;AAC5D,wCAAwC;AACxC,4CAA4C,iBAAiB;AAC7D,6CAA6C,iBAAiB;AAC9D,6CAA6C,iBAAiB;AAC9D,iDAAiD,iBAAiB,iBAAiB;AACnF,8CAA8C,iBAAiB;AAC/D,kDAAkD,iBAAiB,iBAAiB;AACpF,mDAAmD,iBAAiB,iBAAiB;AACrF;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,oCAAoC;AACpC,uCAAuC;AACvC,+BAA+B;AAC/B;AACA,sCAAsC;AACtC,yCAAyC;AACzC,iCAAiC;AACjC,sCAAsC;AACtC,wCAAwC;AACxC;AACA,gCAAgC;AAChC,mCAAmC;AACnC,mCAAmC;AACnC,wCAAwC;AACxC,gCAAgC;AAChC,2CAA2C;AAC3C,6CAA6C;AAC7C,oCAAoC;AACpC,oCAAoC;AACpC,iCAAiC;AACjC,kCAAkC;AAClC,kCAAkC;AAClC,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,sCAAsC;AACtC,yCAAyC;AACzC,iCAAiC;AACjC,wCAAwC;AACxC,2CAA2C;AAC3C,mCAAmC;AACnC,wCAAwC;AACxC,0CAA0C;AAC1C,kCAAkC;AAClC,qCAAqC;AACrC,qCAAqC;AACrC,0CAA0C;AAC1C,kCAAkC;AAClC,6CAA6C;AAC7C,+CAA+C;AAC/C,sCAAsC;AACtC,sCAAsC;AACtC,mCAAmC;AACnC,oCAAoC;AACpC,oCAAoC;AACpC,yCAAyC;AACzC,wCAAwC;AACxC;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iFAAiF;AACjF,iFAAiF;AACjF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;;AAElB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,EAAE;AACf,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;;AAEA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,gBAAgB;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa,EAAE;AACf,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,cAAc;AAC7C;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,gBAAgB;AAChB,gBAAgB;AAChB,eAAe;AACf;AACA;AACA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,yBAAyB;AACzB,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC;AACvC,qCAAqC;;AAErC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,sBAAsB,6BAA6B;AACnD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,+DAA+D;AAC/D;;AAEA;;AAEA;AACA,yCAAyC;AACzC,qEAAqE;AACrE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,CAAC;;AAED,+CAA+C;;AAE/C;AACA;AACA;AACA,oEAAoE,EAAE;AACtE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,IAAI;;AAErB;AACA,cAAc,IAAI;AAClB;;AAEA;AACA;AACA;AACA,4CAA4C;;AAE5C;AACA;;AAEA,sCAAsC;AACtC;AACA,gEAAgE;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,sCAAsC,EAAE,oBAAoB,IAAI;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C,+CAA+C;;AAE/C;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C;;AAE3C;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;;AAE/C;AACA,mBAAmB,eAAe;AAClC;AACA;;AAEA;AACA,GAAG;;AAEH;AACA,qCAAqC;AACrC;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,WAAW;;AAElE;AACA,gDAAgD;;AAEhD;AACA,iCAAiC;;AAEjC;AACA,iCAAiC;;AAEjC;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;;AAEhC;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,2BAA2B;AAC3B;AACA;AACA,yBAAyB;AACzB;AACA,wBAAwB;AACxB,wBAAwB;AACxB;AACA,oBAAoB;;AAEpB;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,EAAE;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C,+CAA+C;;AAE/C;;AAEA;;AAEA;AACA;AACA;AACA,kDAAkD,uCAAuC;AACzF,GAAG;;AAEH;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC,KAAK;AACL;;AAEA;AACA,iBAAiB,sBAAsB;;AAEvC;AACA,kCAAkC,IAAI;AACtC;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,IAAI,kCAAkC,GAAG;AACrE;;AAEA;AACA;AACA;AACA,GAAG,MAAM,IAAI;;AAEb;AACA,kCAAkC,IAAI,iCAAiC,GAAG;AAC1E;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH,kFAAkF;;AAElF;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,+BAA+B;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD,uCAAuC;AACzF;;AAEA;AACA,mEAAmE,IAAI,sCAAsC,IAAI;;AAEjH;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,GAAG;AACvE,oEAAoE,GAAG;;AAEvE;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,IAAI,kCAAkC,IAAI;;AAE1G;AACA;AACA;AACA,+BAA+B,IAAI,KAAK;AACxC;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,IAAI,KAAK;AACtC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC;AACA,KAAK;AACL;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,IAAI,MAAM,GAAG;AACvC,0BAA0B,IAAI,OAAO,GAAG;AACxC,0BAA0B,IAAI,MAAM,GAAG;;AAEvC;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;;AAEA,+GAA+G,IAAI,mBAAmB,IAAI;AAC1I,uFAAuF,IAAI,mBAAmB,IAAI;AAClH,yEAAyE,kDAAkD,IAAI,mBAAmB,IAAI;AACtJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;;AAEA;AACA,kCAAkC,GAAG;;AAErC;AACA;;AAEA,wBAAwB,IAAI,qDAAqD,IAAI,cAAc,IAAI;AACvG;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,IAAI,qDAAqD,IAAI;AACnF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4EAA4E;AAC5E;AACA,6FAA6F,wBAAwB;AACrH;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,iCAAiC,GAAG;AACpC;AACA;AACA,OAAO;AACP;AACA;AACA,uCAAuC;AACvC;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA,yFAAyF,IAAI;AAC7F,yFAAyF,IAAI;AAC7F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,IAAI,mCAAmC,GAAG;AACxE;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,wCAAwC,IAAI,mCAAmC,GAAG;AAClF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,4BAA4B;;AAE5B,mCAAmC,EAAE;AACrC;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,IAAI,YAAY;;AAEhD;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B,GAAG;AAChC;AACA,yBAAyB;;AAEzB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,EAAE,gBAAgB,EAAE,wBAAwB,yBAAyB,EAAE;AACtG;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,IAAI,0DAA0D,IAAI,mBAAmB,IAAI;AACjH,wBAAwB,IAAI,wCAAwC,kDAAkD,IAAI,mBAAmB,IAAI;;AAEjJ;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,KAAK;AACL,+FAA+F;AAC/F;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B,IAAI,aAAa,IAAI,0BAA0B,GAAG,uCAAuC,GAAG;AACvH,2BAA2B,IAAI,UAAU,IAAI,yBAAyB,GAAG,6BAA6B,IAAI;AAC1G,2BAA2B,IAAI,gBAAgB,IAAI,yBAAyB,GAAG,2BAA2B,IAAI;;AAE9G;AACA;AACA,sCAAsC;AACtC,KAAK;AACL,uCAAuC;AACvC,KAAK;AACL,wCAAwC;AACxC,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,YAAY;AAC/B;AACA;AACA;;AAEA,eAAe,kBAAkB;AACjC;AACA,sBAAsB,aAAa;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,uBAAuB;AACtC;AACA,cAAc,IAAI;AAClB,kDAAkD,IAAI;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gEAAgE,kBAAkB;AAClF,+DAA+D,kBAAkB;AACjF;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA,eAAe,sBAAsB;AACrC;AACA;;AAEA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;;AAEA,eAAe,qBAAqB;AACpC;AACA,sBAAsB,qBAAqB;AAC3C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AAAA;;AAEH;AACA,CAAC;AACD;;AAEA;AACA,CAAC;AACD;AACA;AACA,CAAC;;AAED;;;;;;;;ACv5IA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA,KAAK;AACL;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,oDAAoD;AACpD,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4DAA4D,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAe;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,eAAe;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,4CAA4C,mBAAmB;AAC/D;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,qBAAqB;AACrB;;AAEA;AACA;AACA,KAAK;AACL,iBAAiB;;AAEjB;AACA,kDAAkD,EAAE,iBAAiB;;AAErE;AACA,wBAAwB,8BAA8B;AACtD,2BAA2B;;AAE3B;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,iBAAiB;;AAEnE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AAAA;AACL;AACA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3gD+B;AAIO;AACF;AACF;AAGnC,gBAAgB,CA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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wE;;;;;;;ACtQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"main.bundle.js","sourcesContent":["module.exports = require('./lib/difflib');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/difflib/index.js\n// module id = ../chat-codes-services/node_modules/difflib/index.js\n// module chunks = main","// Generated by CoffeeScript 1.3.1\n\n/*\nModule difflib -- helpers for computing deltas between objects.\n\nFunction getCloseMatches(word, possibilities, n=3, cutoff=0.6):\n    Use SequenceMatcher to return list of the best \"good enough\" matches.\n\nFunction contextDiff(a, b):\n    For two lists of strings, return a delta in context diff format.\n\nFunction ndiff(a, b):\n    Return a delta: the difference between `a` and `b` (lists of strings).\n\nFunction restore(delta, which):\n    Return one of the two sequences that generated an ndiff delta.\n\nFunction unifiedDiff(a, b):\n    For two lists of strings, return a delta in unified diff format.\n\nClass SequenceMatcher:\n    A flexible class for comparing pairs of sequences of any type.\n\nClass Differ:\n    For producing human-readable deltas from sequences of lines of text.\n*/\n\n\n(function() {\n  var Differ, Heap, IS_CHARACTER_JUNK, IS_LINE_JUNK, SequenceMatcher, assert, contextDiff, floor, getCloseMatches, max, min, ndiff, restore, unifiedDiff, _any, _arrayCmp, _calculateRatio, _countLeading, _formatRangeContext, _formatRangeUnified, _has,\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  floor = Math.floor, max = Math.max, min = Math.min;\n\n  Heap = require('heap');\n\n  assert = require('assert');\n\n  _calculateRatio = function(matches, length) {\n    if (length) {\n      return 2.0 * matches / length;\n    } else {\n      return 1.0;\n    }\n  };\n\n  _arrayCmp = function(a, b) {\n    var i, la, lb, _i, _ref, _ref1;\n    _ref = [a.length, b.length], la = _ref[0], lb = _ref[1];\n    for (i = _i = 0, _ref1 = min(la, lb); 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {\n      if (a[i] < b[i]) {\n        return -1;\n      }\n      if (a[i] > b[i]) {\n        return 1;\n      }\n    }\n    return la - lb;\n  };\n\n  _has = function(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n  };\n\n  _any = function(items) {\n    var item, _i, _len;\n    for (_i = 0, _len = items.length; _i < _len; _i++) {\n      item = items[_i];\n      if (item) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  SequenceMatcher = (function() {\n\n    SequenceMatcher.name = 'SequenceMatcher';\n\n    /*\n      SequenceMatcher is a flexible class for comparing pairs of sequences of\n      any type, so long as the sequence elements are hashable.  The basic\n      algorithm predates, and is a little fancier than, an algorithm\n      published in the late 1980's by Ratcliff and Obershelp under the\n      hyperbolic name \"gestalt pattern matching\".  The basic idea is to find\n      the longest contiguous matching subsequence that contains no \"junk\"\n      elements (R-O doesn't address junk).  The same idea is then applied\n      recursively to the pieces of the sequences to the left and to the right\n      of the matching subsequence.  This does not yield minimal edit\n      sequences, but does tend to yield matches that \"look right\" to people.\n    \n      SequenceMatcher tries to compute a \"human-friendly diff\" between two\n      sequences.  Unlike e.g. UNIX(tm) diff, the fundamental notion is the\n      longest *contiguous* & junk-free matching subsequence.  That's what\n      catches peoples' eyes.  The Windows(tm) windiff has another interesting\n      notion, pairing up elements that appear uniquely in each sequence.\n      That, and the method here, appear to yield more intuitive difference\n      reports than does diff.  This method appears to be the least vulnerable\n      to synching up on blocks of \"junk lines\", though (like blank lines in\n      ordinary text files, or maybe \"<P>\" lines in HTML files).  That may be\n      because this is the only method of the 3 that has a *concept* of\n      \"junk\" <wink>.\n    \n      Example, comparing two strings, and considering blanks to be \"junk\":\n    \n      >>> isjunk = (c) -> c is ' '\n      >>> s = new SequenceMatcher(isjunk,\n                                  'private Thread currentThread;',\n                                  'private volatile Thread currentThread;')\n    \n      .ratio() returns a float in [0, 1], measuring the \"similarity\" of the\n      sequences.  As a rule of thumb, a .ratio() value over 0.6 means the\n      sequences are close matches:\n    \n      >>> s.ratio().toPrecision(3)\n      '0.866'\n    \n      If you're only interested in where the sequences match,\n      .getMatchingBlocks() is handy:\n    \n      >>> for [a, b, size] in s.getMatchingBlocks()\n      ...   console.log(\"a[#{a}] and b[#{b}] match for #{size} elements\");\n      a[0] and b[0] match for 8 elements\n      a[8] and b[17] match for 21 elements\n      a[29] and b[38] match for 0 elements\n    \n      Note that the last tuple returned by .get_matching_blocks() is always a\n      dummy, (len(a), len(b), 0), and this is the only case in which the last\n      tuple element (number of elements matched) is 0.\n    \n      If you want to know how to change the first sequence into the second,\n      use .get_opcodes():\n    \n      >>> for [op, a1, a2, b1, b2] in s.getOpcodes()\n      ...   console.log \"#{op} a[#{a1}:#{a2}] b[#{b1}:#{b2}]\"\n      equal a[0:8] b[0:8]\n      insert a[8:8] b[8:17]\n      equal a[8:29] b[17:38]\n    \n      See the Differ class for a fancy human-friendly file differencer, which\n      uses SequenceMatcher both to compare sequences of lines, and to compare\n      sequences of characters within similar (near-matching) lines.\n    \n      See also function getCloseMatches() in this module, which shows how\n      simple code building on SequenceMatcher can be used to do useful work.\n    \n      Timing:  Basic R-O is cubic time worst case and quadratic time expected\n      case.  SequenceMatcher is quadratic time for the worst case and has\n      expected-case behavior dependent in a complicated way on how many\n      elements the sequences have in common; best case time is linear.\n    \n      Methods:\n    \n      constructor(isjunk=null, a='', b='')\n          Construct a SequenceMatcher.\n    \n      setSeqs(a, b)\n          Set the two sequences to be compared.\n    \n      setSeq1(a)\n          Set the first sequence to be compared.\n    \n      setSeq2(b)\n          Set the second sequence to be compared.\n    \n      findLongestMatch(alo, ahi, blo, bhi)\n          Find longest matching block in a[alo:ahi] and b[blo:bhi].\n    \n      getMatchingBlocks()\n          Return list of triples describing matching subsequences.\n    \n      getOpcodes()\n          Return list of 5-tuples describing how to turn a into b.\n    \n      ratio()\n          Return a measure of the sequences' similarity (float in [0,1]).\n    \n      quickRatio()\n          Return an upper bound on .ratio() relatively quickly.\n    \n      realQuickRatio()\n          Return an upper bound on ratio() very quickly.\n    */\n\n\n    function SequenceMatcher(isjunk, a, b, autojunk) {\n      this.isjunk = isjunk;\n      if (a == null) {\n        a = '';\n      }\n      if (b == null) {\n        b = '';\n      }\n      this.autojunk = autojunk != null ? autojunk : true;\n      /*\n          Construct a SequenceMatcher.\n      \n          Optional arg isjunk is null (the default), or a one-argument\n          function that takes a sequence element and returns true iff the\n          element is junk.  Null is equivalent to passing \"(x) -> 0\", i.e.\n          no elements are considered to be junk.  For example, pass\n              (x) -> x in ' \\t'\n          if you're comparing lines as sequences of characters, and don't\n          want to synch up on blanks or hard tabs.\n      \n          Optional arg a is the first of two sequences to be compared.  By\n          default, an empty string.  The elements of a must be hashable.  See\n          also .setSeqs() and .setSeq1().\n      \n          Optional arg b is the second of two sequences to be compared.  By\n          default, an empty string.  The elements of b must be hashable. See\n          also .setSeqs() and .setSeq2().\n      \n          Optional arg autojunk should be set to false to disable the\n          \"automatic junk heuristic\" that treats popular elements as junk\n          (see module documentation for more information).\n      */\n\n      this.a = this.b = null;\n      this.setSeqs(a, b);\n    }\n\n    SequenceMatcher.prototype.setSeqs = function(a, b) {\n      /* \n      Set the two sequences to be compared. \n      \n      >>> s = new SequenceMatcher()\n      >>> s.setSeqs('abcd', 'bcde')\n      >>> s.ratio()\n      0.75\n      */\n      this.setSeq1(a);\n      return this.setSeq2(b);\n    };\n\n    SequenceMatcher.prototype.setSeq1 = function(a) {\n      /* \n      Set the first sequence to be compared. \n      \n      The second sequence to be compared is not changed.\n      \n      >>> s = new SequenceMatcher(null, 'abcd', 'bcde')\n      >>> s.ratio()\n      0.75\n      >>> s.setSeq1('bcde')\n      >>> s.ratio()\n      1.0\n      \n      SequenceMatcher computes and caches detailed information about the\n      second sequence, so if you want to compare one sequence S against\n      many sequences, use .setSeq2(S) once and call .setSeq1(x)\n      repeatedly for each of the other sequences.\n      \n      See also setSeqs() and setSeq2().\n      */\n      if (a === this.a) {\n        return;\n      }\n      this.a = a;\n      return this.matchingBlocks = this.opcodes = null;\n    };\n\n    SequenceMatcher.prototype.setSeq2 = function(b) {\n      /*\n          Set the second sequence to be compared. \n      \n          The first sequence to be compared is not changed.\n      \n          >>> s = new SequenceMatcher(null, 'abcd', 'bcde')\n          >>> s.ratio()\n          0.75\n          >>> s.setSeq2('abcd')\n          >>> s.ratio()\n          1.0\n      \n          SequenceMatcher computes and caches detailed information about the\n          second sequence, so if you want to compare one sequence S against\n          many sequences, use .setSeq2(S) once and call .setSeq1(x)\n          repeatedly for each of the other sequences.\n      \n          See also setSeqs() and setSeq1().\n      */\n      if (b === this.b) {\n        return;\n      }\n      this.b = b;\n      this.matchingBlocks = this.opcodes = null;\n      this.fullbcount = null;\n      return this._chainB();\n    };\n\n    SequenceMatcher.prototype._chainB = function() {\n      var b, b2j, elt, i, idxs, indices, isjunk, junk, n, ntest, popular, _i, _j, _len, _len1, _ref;\n      b = this.b;\n      this.b2j = b2j = {};\n      for (i = _i = 0, _len = b.length; _i < _len; i = ++_i) {\n        elt = b[i];\n        indices = _has(b2j, elt) ? b2j[elt] : b2j[elt] = [];\n        indices.push(i);\n      }\n      junk = {};\n      isjunk = this.isjunk;\n      if (isjunk) {\n        _ref = Object.keys(b2j);\n        for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n          elt = _ref[_j];\n          if (isjunk(elt)) {\n            junk[elt] = true;\n            delete b2j[elt];\n          }\n        }\n      }\n      popular = {};\n      n = b.length;\n      if (this.autojunk && n >= 200) {\n        ntest = floor(n / 100) + 1;\n        for (elt in b2j) {\n          idxs = b2j[elt];\n          if (idxs.length > ntest) {\n            popular[elt] = true;\n            delete b2j[elt];\n          }\n        }\n      }\n      this.isbjunk = function(b) {\n        return _has(junk, b);\n      };\n      return this.isbpopular = function(b) {\n        return _has(popular, b);\n      };\n    };\n\n    SequenceMatcher.prototype.findLongestMatch = function(alo, ahi, blo, bhi) {\n      /* \n      Find longest matching block in a[alo...ahi] and b[blo...bhi].  \n      \n      If isjunk is not defined:\n      \n      Return [i,j,k] such that a[i...i+k] is equal to b[j...j+k], where\n          alo <= i <= i+k <= ahi\n          blo <= j <= j+k <= bhi\n      and for all [i',j',k'] meeting those conditions,\n          k >= k'\n          i <= i'\n          and if i == i', j <= j'\n      \n      In other words, of all maximal matching blocks, return one that\n      starts earliest in a, and of all those maximal matching blocks that\n      start earliest in a, return the one that starts earliest in b.\n      \n      >>> isjunk = (x) -> x is ' '\n      >>> s = new SequenceMatcher(isjunk, ' abcd', 'abcd abcd')\n      >>> s.findLongestMatch(0, 5, 0, 9)\n      [1, 0, 4]\n      \n      >>> s = new SequenceMatcher(null, 'ab', 'c')\n      >>> s.findLongestMatch(0, 2, 0, 1)\n      [0, 0, 0]\n      */\n\n      var a, b, b2j, besti, bestj, bestsize, i, isbjunk, j, j2len, k, newj2len, _i, _j, _len, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\n      _ref = [this.a, this.b, this.b2j, this.isbjunk], a = _ref[0], b = _ref[1], b2j = _ref[2], isbjunk = _ref[3];\n      _ref1 = [alo, blo, 0], besti = _ref1[0], bestj = _ref1[1], bestsize = _ref1[2];\n      j2len = {};\n      for (i = _i = alo; alo <= ahi ? _i < ahi : _i > ahi; i = alo <= ahi ? ++_i : --_i) {\n        newj2len = {};\n        _ref2 = (_has(b2j, a[i]) ? b2j[a[i]] : []);\n        for (_j = 0, _len = _ref2.length; _j < _len; _j++) {\n          j = _ref2[_j];\n          if (j < blo) {\n            continue;\n          }\n          if (j >= bhi) {\n            break;\n          }\n          k = newj2len[j] = (j2len[j - 1] || 0) + 1;\n          if (k > bestsize) {\n            _ref3 = [i - k + 1, j - k + 1, k], besti = _ref3[0], bestj = _ref3[1], bestsize = _ref3[2];\n          }\n        }\n        j2len = newj2len;\n      }\n      while (besti > alo && bestj > blo && !isbjunk(b[bestj - 1]) && a[besti - 1] === b[bestj - 1]) {\n        _ref4 = [besti - 1, bestj - 1, bestsize + 1], besti = _ref4[0], bestj = _ref4[1], bestsize = _ref4[2];\n      }\n      while (besti + bestsize < ahi && bestj + bestsize < bhi && !isbjunk(b[bestj + bestsize]) && a[besti + bestsize] === b[bestj + bestsize]) {\n        bestsize++;\n      }\n      while (besti > alo && bestj > blo && isbjunk(b[bestj - 1]) && a[besti - 1] === b[bestj - 1]) {\n        _ref5 = [besti - 1, bestj - 1, bestsize + 1], besti = _ref5[0], bestj = _ref5[1], bestsize = _ref5[2];\n      }\n      while (besti + bestsize < ahi && bestj + bestsize < bhi && isbjunk(b[bestj + bestsize]) && a[besti + bestsize] === b[bestj + bestsize]) {\n        bestsize++;\n      }\n      return [besti, bestj, bestsize];\n    };\n\n    SequenceMatcher.prototype.getMatchingBlocks = function() {\n      /*\n          Return list of triples describing matching subsequences.\n      \n          Each triple is of the form [i, j, n], and means that\n          a[i...i+n] == b[j...j+n].  The triples are monotonically increasing in\n          i and in j.  it's also guaranteed that if\n          [i, j, n] and [i', j', n'] are adjacent triples in the list, and\n          the second is not the last triple in the list, then i+n != i' or\n          j+n != j'.  IOW, adjacent triples never describe adjacent equal\n          blocks.\n      \n          The last triple is a dummy, [a.length, b.length, 0], and is the only\n          triple with n==0.\n      \n          >>> s = new SequenceMatcher(null, 'abxcd', 'abcd')\n          >>> s.getMatchingBlocks()\n          [[0, 0, 2], [3, 2, 2], [5, 4, 0]]\n      */\n\n      var ahi, alo, bhi, blo, i, i1, i2, j, j1, j2, k, k1, k2, la, lb, matchingBlocks, nonAdjacent, queue, x, _i, _len, _ref, _ref1, _ref2, _ref3, _ref4;\n      if (this.matchingBlocks) {\n        return this.matchingBlocks;\n      }\n      _ref = [this.a.length, this.b.length], la = _ref[0], lb = _ref[1];\n      queue = [[0, la, 0, lb]];\n      matchingBlocks = [];\n      while (queue.length) {\n        _ref1 = queue.pop(), alo = _ref1[0], ahi = _ref1[1], blo = _ref1[2], bhi = _ref1[3];\n        _ref2 = x = this.findLongestMatch(alo, ahi, blo, bhi), i = _ref2[0], j = _ref2[1], k = _ref2[2];\n        if (k) {\n          matchingBlocks.push(x);\n          if (alo < i && blo < j) {\n            queue.push([alo, i, blo, j]);\n          }\n          if (i + k < ahi && j + k < bhi) {\n            queue.push([i + k, ahi, j + k, bhi]);\n          }\n        }\n      }\n      matchingBlocks.sort(_arrayCmp);\n      i1 = j1 = k1 = 0;\n      nonAdjacent = [];\n      for (_i = 0, _len = matchingBlocks.length; _i < _len; _i++) {\n        _ref3 = matchingBlocks[_i], i2 = _ref3[0], j2 = _ref3[1], k2 = _ref3[2];\n        if (i1 + k1 === i2 && j1 + k1 === j2) {\n          k1 += k2;\n        } else {\n          if (k1) {\n            nonAdjacent.push([i1, j1, k1]);\n          }\n          _ref4 = [i2, j2, k2], i1 = _ref4[0], j1 = _ref4[1], k1 = _ref4[2];\n        }\n      }\n      if (k1) {\n        nonAdjacent.push([i1, j1, k1]);\n      }\n      nonAdjacent.push([la, lb, 0]);\n      return this.matchingBlocks = nonAdjacent;\n    };\n\n    SequenceMatcher.prototype.getOpcodes = function() {\n      /* \n      Return list of 5-tuples describing how to turn a into b.\n      \n      Each tuple is of the form [tag, i1, i2, j1, j2].  The first tuple\n      has i1 == j1 == 0, and remaining tuples have i1 == the i2 from the\n      tuple preceding it, and likewise for j1 == the previous j2.\n      \n      The tags are strings, with these meanings:\n      \n      'replace':  a[i1...i2] should be replaced by b[j1...j2]\n      'delete':   a[i1...i2] should be deleted.\n                  Note that j1==j2 in this case.\n      'insert':   b[j1...j2] should be inserted at a[i1...i1].\n                  Note that i1==i2 in this case.\n      'equal':    a[i1...i2] == b[j1...j2]\n      \n      >>> s = new SequenceMatcher(null, 'qabxcd', 'abycdf')\n      >>> s.getOpcodes()\n      [ [ 'delete'  , 0 , 1 , 0 , 0 ] ,\n        [ 'equal'   , 1 , 3 , 0 , 2 ] ,\n        [ 'replace' , 3 , 4 , 2 , 3 ] ,\n        [ 'equal'   , 4 , 6 , 3 , 5 ] ,\n        [ 'insert'  , 6 , 6 , 5 , 6 ] ]\n      */\n\n      var ai, answer, bj, i, j, size, tag, _i, _len, _ref, _ref1, _ref2;\n      if (this.opcodes) {\n        return this.opcodes;\n      }\n      i = j = 0;\n      this.opcodes = answer = [];\n      _ref = this.getMatchingBlocks();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        _ref1 = _ref[_i], ai = _ref1[0], bj = _ref1[1], size = _ref1[2];\n        tag = '';\n        if (i < ai && j < bj) {\n          tag = 'replace';\n        } else if (i < ai) {\n          tag = 'delete';\n        } else if (j < bj) {\n          tag = 'insert';\n        }\n        if (tag) {\n          answer.push([tag, i, ai, j, bj]);\n        }\n        _ref2 = [ai + size, bj + size], i = _ref2[0], j = _ref2[1];\n        if (size) {\n          answer.push(['equal', ai, i, bj, j]);\n        }\n      }\n      return answer;\n    };\n\n    SequenceMatcher.prototype.getGroupedOpcodes = function(n) {\n      var codes, group, groups, i1, i2, j1, j2, nn, tag, _i, _len, _ref, _ref1, _ref2, _ref3;\n      if (n == null) {\n        n = 3;\n      }\n      /* \n      Isolate change clusters by eliminating ranges with no changes.\n      \n      Return a list groups with upto n lines of context.\n      Each group is in the same format as returned by get_opcodes().\n      \n      >>> a = [1...40].map(String)\n      >>> b = a.slice()\n      >>> b[8...8] = 'i'\n      >>> b[20] += 'x'\n      >>> b[23...28] = []\n      >>> b[30] += 'y'\n      >>> s = new SequenceMatcher(null, a, b)\n      >>> s.getGroupedOpcodes()\n      [ [ [ 'equal'  , 5 , 8  , 5 , 8 ],\n          [ 'insert' , 8 , 8  , 8 , 9 ],\n          [ 'equal'  , 8 , 11 , 9 , 12 ] ],\n        [ [ 'equal'   , 16 , 19 , 17 , 20 ],\n          [ 'replace' , 19 , 20 , 20 , 21 ],\n          [ 'equal'   , 20 , 22 , 21 , 23 ],\n          [ 'delete'  , 22 , 27 , 23 , 23 ],\n          [ 'equal'   , 27 , 30 , 23 , 26 ] ],\n        [ [ 'equal'   , 31 , 34 , 27 , 30 ],\n          [ 'replace' , 34 , 35 , 30 , 31 ],\n          [ 'equal'   , 35 , 38 , 31 , 34 ] ] ]\n      */\n\n      codes = this.getOpcodes();\n      if (!codes.length) {\n        codes = [['equal', 0, 1, 0, 1]];\n      }\n      if (codes[0][0] === 'equal') {\n        _ref = codes[0], tag = _ref[0], i1 = _ref[1], i2 = _ref[2], j1 = _ref[3], j2 = _ref[4];\n        codes[0] = [tag, max(i1, i2 - n), i2, max(j1, j2 - n), j2];\n      }\n      if (codes[codes.length - 1][0] === 'equal') {\n        _ref1 = codes[codes.length - 1], tag = _ref1[0], i1 = _ref1[1], i2 = _ref1[2], j1 = _ref1[3], j2 = _ref1[4];\n        codes[codes.length - 1] = [tag, i1, min(i2, i1 + n), j1, min(j2, j1 + n)];\n      }\n      nn = n + n;\n      groups = [];\n      group = [];\n      for (_i = 0, _len = codes.length; _i < _len; _i++) {\n        _ref2 = codes[_i], tag = _ref2[0], i1 = _ref2[1], i2 = _ref2[2], j1 = _ref2[3], j2 = _ref2[4];\n        if (tag === 'equal' && i2 - i1 > nn) {\n          group.push([tag, i1, min(i2, i1 + n), j1, min(j2, j1 + n)]);\n          groups.push(group);\n          group = [];\n          _ref3 = [max(i1, i2 - n), max(j1, j2 - n)], i1 = _ref3[0], j1 = _ref3[1];\n        }\n        group.push([tag, i1, i2, j1, j2]);\n      }\n      if (group.length && !(group.length === 1 && group[0][0] === 'equal')) {\n        groups.push(group);\n      }\n      return groups;\n    };\n\n    SequenceMatcher.prototype.ratio = function() {\n      /*\n          Return a measure of the sequences' similarity (float in [0,1]).\n      \n          Where T is the total number of elements in both sequences, and\n          M is the number of matches, this is 2.0*M / T.\n          Note that this is 1 if the sequences are identical, and 0 if\n          they have nothing in common.\n      \n          .ratio() is expensive to compute if you haven't already computed\n          .getMatchingBlocks() or .getOpcodes(), in which case you may\n          want to try .quickRatio() or .realQuickRatio() first to get an\n          upper bound.\n          \n          >>> s = new SequenceMatcher(null, 'abcd', 'bcde')\n          >>> s.ratio()\n          0.75\n          >>> s.quickRatio()\n          0.75\n          >>> s.realQuickRatio()\n          1.0\n      */\n\n      var match, matches, _i, _len, _ref;\n      matches = 0;\n      _ref = this.getMatchingBlocks();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        match = _ref[_i];\n        matches += match[2];\n      }\n      return _calculateRatio(matches, this.a.length + this.b.length);\n    };\n\n    SequenceMatcher.prototype.quickRatio = function() {\n      /*\n          Return an upper bound on ratio() relatively quickly.\n      \n          This isn't defined beyond that it is an upper bound on .ratio(), and\n          is faster to compute.\n      */\n\n      var avail, elt, fullbcount, matches, numb, _i, _j, _len, _len1, _ref, _ref1;\n      if (!this.fullbcount) {\n        this.fullbcount = fullbcount = {};\n        _ref = this.b;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          elt = _ref[_i];\n          fullbcount[elt] = (fullbcount[elt] || 0) + 1;\n        }\n      }\n      fullbcount = this.fullbcount;\n      avail = {};\n      matches = 0;\n      _ref1 = this.a;\n      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n        elt = _ref1[_j];\n        if (_has(avail, elt)) {\n          numb = avail[elt];\n        } else {\n          numb = fullbcount[elt] || 0;\n        }\n        avail[elt] = numb - 1;\n        if (numb > 0) {\n          matches++;\n        }\n      }\n      return _calculateRatio(matches, this.a.length + this.b.length);\n    };\n\n    SequenceMatcher.prototype.realQuickRatio = function() {\n      /*\n          Return an upper bound on ratio() very quickly.\n      \n          This isn't defined beyond that it is an upper bound on .ratio(), and\n          is faster to compute than either .ratio() or .quickRatio().\n      */\n\n      var la, lb, _ref;\n      _ref = [this.a.length, this.b.length], la = _ref[0], lb = _ref[1];\n      return _calculateRatio(min(la, lb), la + lb);\n    };\n\n    return SequenceMatcher;\n\n  })();\n\n  getCloseMatches = function(word, possibilities, n, cutoff) {\n    var result, s, score, x, _i, _j, _len, _len1, _ref, _results;\n    if (n == null) {\n      n = 3;\n    }\n    if (cutoff == null) {\n      cutoff = 0.6;\n    }\n    /*\n      Use SequenceMatcher to return list of the best \"good enough\" matches.\n    \n      word is a sequence for which close matches are desired (typically a\n      string).\n    \n      possibilities is a list of sequences against which to match word\n      (typically a list of strings).\n    \n      Optional arg n (default 3) is the maximum number of close matches to\n      return.  n must be > 0.\n    \n      Optional arg cutoff (default 0.6) is a float in [0, 1].  Possibilities\n      that don't score at least that similar to word are ignored.\n    \n      The best (no more than n) matches among the possibilities are returned\n      in a list, sorted by similarity score, most similar first.\n    \n      >>> getCloseMatches('appel', ['ape', 'apple', 'peach', 'puppy'])\n      ['apple', 'ape']\n      >>> KEYWORDS = require('coffee-script').RESERVED\n      >>> getCloseMatches('wheel', KEYWORDS)\n      ['when', 'while']\n      >>> getCloseMatches('accost', KEYWORDS)\n      ['const']\n    */\n\n    if (!(n > 0)) {\n      throw new Error(\"n must be > 0: (\" + n + \")\");\n    }\n    if (!((0.0 <= cutoff && cutoff <= 1.0))) {\n      throw new Error(\"cutoff must be in [0.0, 1.0]: (\" + cutoff + \")\");\n    }\n    result = [];\n    s = new SequenceMatcher();\n    s.setSeq2(word);\n    for (_i = 0, _len = possibilities.length; _i < _len; _i++) {\n      x = possibilities[_i];\n      s.setSeq1(x);\n      if (s.realQuickRatio() >= cutoff && s.quickRatio() >= cutoff && s.ratio() >= cutoff) {\n        result.push([s.ratio(), x]);\n      }\n    }\n    result = Heap.nlargest(result, n, _arrayCmp);\n    _results = [];\n    for (_j = 0, _len1 = result.length; _j < _len1; _j++) {\n      _ref = result[_j], score = _ref[0], x = _ref[1];\n      _results.push(x);\n    }\n    return _results;\n  };\n\n  _countLeading = function(line, ch) {\n    /*\n      Return number of `ch` characters at the start of `line`.\n    \n      >>> _countLeading('   abc', ' ')\n      3\n    */\n\n    var i, n, _ref;\n    _ref = [0, line.length], i = _ref[0], n = _ref[1];\n    while (i < n && line[i] === ch) {\n      i++;\n    }\n    return i;\n  };\n\n  Differ = (function() {\n\n    Differ.name = 'Differ';\n\n    /*\n      Differ is a class for comparing sequences of lines of text, and\n      producing human-readable differences or deltas.  Differ uses\n      SequenceMatcher both to compare sequences of lines, and to compare\n      sequences of characters within similar (near-matching) lines.\n    \n      Each line of a Differ delta begins with a two-letter code:\n    \n          '- '    line unique to sequence 1\n          '+ '    line unique to sequence 2\n          '  '    line common to both sequences\n          '? '    line not present in either input sequence\n    \n      Lines beginning with '? ' attempt to guide the eye to intraline\n      differences, and were not present in either input sequence.  These lines\n      can be confusing if the sequences contain tab characters.\n    \n      Note that Differ makes no claim to produce a *minimal* diff.  To the\n      contrary, minimal diffs are often counter-intuitive, because they synch\n      up anywhere possible, sometimes accidental matches 100 pages apart.\n      Restricting synch points to contiguous matches preserves some notion of\n      locality, at the occasional cost of producing a longer diff.\n    \n      Example: Comparing two texts.\n    \n      >>> text1 = ['1. Beautiful is better than ugly.\\n',\n      ...   '2. Explicit is better than implicit.\\n',\n      ...   '3. Simple is better than complex.\\n',\n      ...   '4. Complex is better than complicated.\\n']\n      >>> text1.length\n      4\n      >>> text2 = ['1. Beautiful is better than ugly.\\n',\n      ...   '3.   Simple is better than complex.\\n',\n      ...   '4. Complicated is better than complex.\\n',\n      ...   '5. Flat is better than nested.\\n']\n    \n      Next we instantiate a Differ object:\n    \n      >>> d = new Differ()\n    \n      Note that when instantiating a Differ object we may pass functions to\n      filter out line and character 'junk'.\n    \n      Finally, we compare the two:\n    \n      >>> result = d.compare(text1, text2)\n      [ '  1. Beautiful is better than ugly.\\n',\n        '- 2. Explicit is better than implicit.\\n',\n        '- 3. Simple is better than complex.\\n',\n        '+ 3.   Simple is better than complex.\\n',\n        '?   ++\\n',\n        '- 4. Complex is better than complicated.\\n',\n        '?          ^                     ---- ^\\n',\n        '+ 4. Complicated is better than complex.\\n',\n        '?         ++++ ^                      ^\\n',\n        '+ 5. Flat is better than nested.\\n' ]\n    \n      Methods:\n    \n      constructor(linejunk=null, charjunk=null)\n          Construct a text differencer, with optional filters.\n      compare(a, b)\n          Compare two sequences of lines; generate the resulting delta.\n    */\n\n\n    function Differ(linejunk, charjunk) {\n      this.linejunk = linejunk;\n      this.charjunk = charjunk;\n      /*\n          Construct a text differencer, with optional filters.\n      \n          The two optional keyword parameters are for filter functions:\n      \n          - `linejunk`: A function that should accept a single string argument,\n            and return true iff the string is junk. The module-level function\n            `IS_LINE_JUNK` may be used to filter out lines without visible\n            characters, except for at most one splat ('#').  It is recommended\n            to leave linejunk null. \n      \n          - `charjunk`: A function that should accept a string of length 1. The\n            module-level function `IS_CHARACTER_JUNK` may be used to filter out\n            whitespace characters (a blank or tab; **note**: bad idea to include\n            newline in this!).  Use of IS_CHARACTER_JUNK is recommended.\n      */\n\n    }\n\n    Differ.prototype.compare = function(a, b) {\n      /*\n          Compare two sequences of lines; generate the resulting delta.\n      \n          Each sequence must contain individual single-line strings ending with\n          newlines. Such sequences can be obtained from the `readlines()` method\n          of file-like objects.  The delta generated also consists of newline-\n          terminated strings, ready to be printed as-is via the writeline()\n          method of a file-like object.\n      \n          Example:\n      \n          >>> d = new Differ\n          >>> d.compare(['one\\n', 'two\\n', 'three\\n'],\n          ...           ['ore\\n', 'tree\\n', 'emu\\n'])\n          [ '- one\\n',\n            '?  ^\\n',\n            '+ ore\\n',\n            '?  ^\\n',\n            '- two\\n',\n            '- three\\n',\n            '?  -\\n',\n            '+ tree\\n',\n            '+ emu\\n' ]\n      */\n\n      var ahi, alo, bhi, blo, cruncher, g, line, lines, tag, _i, _j, _len, _len1, _ref, _ref1;\n      cruncher = new SequenceMatcher(this.linejunk, a, b);\n      lines = [];\n      _ref = cruncher.getOpcodes();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        _ref1 = _ref[_i], tag = _ref1[0], alo = _ref1[1], ahi = _ref1[2], blo = _ref1[3], bhi = _ref1[4];\n        switch (tag) {\n          case 'replace':\n            g = this._fancyReplace(a, alo, ahi, b, blo, bhi);\n            break;\n          case 'delete':\n            g = this._dump('-', a, alo, ahi);\n            break;\n          case 'insert':\n            g = this._dump('+', b, blo, bhi);\n            break;\n          case 'equal':\n            g = this._dump(' ', a, alo, ahi);\n            break;\n          default:\n            throw new Error(\"unknow tag (\" + tag + \")\");\n        }\n        for (_j = 0, _len1 = g.length; _j < _len1; _j++) {\n          line = g[_j];\n          lines.push(line);\n        }\n      }\n      return lines;\n    };\n\n    Differ.prototype._dump = function(tag, x, lo, hi) {\n      /*\n          Generate comparison results for a same-tagged range.\n      */\n\n      var i, _i, _results;\n      _results = [];\n      for (i = _i = lo; lo <= hi ? _i < hi : _i > hi; i = lo <= hi ? ++_i : --_i) {\n        _results.push(\"\" + tag + \" \" + x[i]);\n      }\n      return _results;\n    };\n\n    Differ.prototype._plainReplace = function(a, alo, ahi, b, blo, bhi) {\n      var first, g, line, lines, second, _i, _j, _len, _len1, _ref;\n      assert(alo < ahi && blo < bhi);\n      if (bhi - blo < ahi - alo) {\n        first = this._dump('+', b, blo, bhi);\n        second = this._dump('-', a, alo, ahi);\n      } else {\n        first = this._dump('-', a, alo, ahi);\n        second = this._dump('+', b, blo, bhi);\n      }\n      lines = [];\n      _ref = [first, second];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        g = _ref[_i];\n        for (_j = 0, _len1 = g.length; _j < _len1; _j++) {\n          line = g[_j];\n          lines.push(line);\n        }\n      }\n      return lines;\n    };\n\n    Differ.prototype._fancyReplace = function(a, alo, ahi, b, blo, bhi) {\n      /*\n          When replacing one block of lines with another, search the blocks\n          for *similar* lines; the best-matching pair (if any) is used as a\n          synch point, and intraline difference marking is done on the\n          similar pair. Lots of work, but often worth it.\n      \n          Example:\n          >>> d = new Differ\n          >>> d._fancyReplace(['abcDefghiJkl\\n'], 0, 1,\n          ...                 ['abcdefGhijkl\\n'], 0, 1)\n          [ '- abcDefghiJkl\\n',\n            '?    ^  ^  ^\\n',\n            '+ abcdefGhijkl\\n',\n            '?    ^  ^  ^\\n' ]\n      */\n\n      var aelt, ai, ai1, ai2, atags, belt, bestRatio, besti, bestj, bj, bj1, bj2, btags, cruncher, cutoff, eqi, eqj, i, j, la, lb, line, lines, tag, _i, _j, _k, _l, _len, _len1, _len2, _len3, _len4, _m, _n, _o, _ref, _ref1, _ref10, _ref11, _ref12, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;\n      _ref = [0.74, 0.75], bestRatio = _ref[0], cutoff = _ref[1];\n      cruncher = new SequenceMatcher(this.charjunk);\n      _ref1 = [null, null], eqi = _ref1[0], eqj = _ref1[1];\n      lines = [];\n      for (j = _i = blo; blo <= bhi ? _i < bhi : _i > bhi; j = blo <= bhi ? ++_i : --_i) {\n        bj = b[j];\n        cruncher.setSeq2(bj);\n        for (i = _j = alo; alo <= ahi ? _j < ahi : _j > ahi; i = alo <= ahi ? ++_j : --_j) {\n          ai = a[i];\n          if (ai === bj) {\n            if (eqi === null) {\n              _ref2 = [i, j], eqi = _ref2[0], eqj = _ref2[1];\n            }\n            continue;\n          }\n          cruncher.setSeq1(ai);\n          if (cruncher.realQuickRatio() > bestRatio && cruncher.quickRatio() > bestRatio && cruncher.ratio() > bestRatio) {\n            _ref3 = [cruncher.ratio(), i, j], bestRatio = _ref3[0], besti = _ref3[1], bestj = _ref3[2];\n          }\n        }\n      }\n      if (bestRatio < cutoff) {\n        if (eqi === null) {\n          _ref4 = this._plainReplace(a, alo, ahi, b, blo, bhi);\n          for (_k = 0, _len = _ref4.length; _k < _len; _k++) {\n            line = _ref4[_k];\n            lines.push(line);\n          }\n          return lines;\n        }\n        _ref5 = [eqi, eqj, 1.0], besti = _ref5[0], bestj = _ref5[1], bestRatio = _ref5[2];\n      } else {\n        eqi = null;\n      }\n      _ref6 = this._fancyHelper(a, alo, besti, b, blo, bestj);\n      for (_l = 0, _len1 = _ref6.length; _l < _len1; _l++) {\n        line = _ref6[_l];\n        lines.push(line);\n      }\n      _ref7 = [a[besti], b[bestj]], aelt = _ref7[0], belt = _ref7[1];\n      if (eqi === null) {\n        atags = btags = '';\n        cruncher.setSeqs(aelt, belt);\n        _ref8 = cruncher.getOpcodes();\n        for (_m = 0, _len2 = _ref8.length; _m < _len2; _m++) {\n          _ref9 = _ref8[_m], tag = _ref9[0], ai1 = _ref9[1], ai2 = _ref9[2], bj1 = _ref9[3], bj2 = _ref9[4];\n          _ref10 = [ai2 - ai1, bj2 - bj1], la = _ref10[0], lb = _ref10[1];\n          switch (tag) {\n            case 'replace':\n              atags += Array(la + 1).join('^');\n              btags += Array(lb + 1).join('^');\n              break;\n            case 'delete':\n              atags += Array(la + 1).join('-');\n              break;\n            case 'insert':\n              btags += Array(lb + 1).join('+');\n              break;\n            case 'equal':\n              atags += Array(la + 1).join(' ');\n              btags += Array(lb + 1).join(' ');\n              break;\n            default:\n              throw new Error(\"unknow tag (\" + tag + \")\");\n          }\n        }\n        _ref11 = this._qformat(aelt, belt, atags, btags);\n        for (_n = 0, _len3 = _ref11.length; _n < _len3; _n++) {\n          line = _ref11[_n];\n          lines.push(line);\n        }\n      } else {\n        lines.push('  ' + aelt);\n      }\n      _ref12 = this._fancyHelper(a, besti + 1, ahi, b, bestj + 1, bhi);\n      for (_o = 0, _len4 = _ref12.length; _o < _len4; _o++) {\n        line = _ref12[_o];\n        lines.push(line);\n      }\n      return lines;\n    };\n\n    Differ.prototype._fancyHelper = function(a, alo, ahi, b, blo, bhi) {\n      var g;\n      g = [];\n      if (alo < ahi) {\n        if (blo < bhi) {\n          g = this._fancyReplace(a, alo, ahi, b, blo, bhi);\n        } else {\n          g = this._dump('-', a, alo, ahi);\n        }\n      } else if (blo < bhi) {\n        g = this._dump('+', b, blo, bhi);\n      }\n      return g;\n    };\n\n    Differ.prototype._qformat = function(aline, bline, atags, btags) {\n      /*\n          Format \"?\" output and deal with leading tabs.\n      \n          Example:\n      \n          >>> d = new Differ\n          >>> d._qformat('\\tabcDefghiJkl\\n', '\\tabcdefGhijkl\\n',\n          [ '- \\tabcDefghiJkl\\n',\n            '? \\t ^ ^  ^\\n',\n            '+ \\tabcdefGhijkl\\n',\n            '? \\t ^ ^  ^\\n' ]\n      */\n\n      var common, lines;\n      lines = [];\n      common = min(_countLeading(aline, '\\t'), _countLeading(bline, '\\t'));\n      common = min(common, _countLeading(atags.slice(0, common), ' '));\n      common = min(common, _countLeading(btags.slice(0, common), ' '));\n      atags = atags.slice(common).replace(/\\s+$/, '');\n      btags = btags.slice(common).replace(/\\s+$/, '');\n      lines.push('- ' + aline);\n      if (atags.length) {\n        lines.push(\"? \" + (Array(common + 1).join('\\t')) + atags + \"\\n\");\n      }\n      lines.push('+ ' + bline);\n      if (btags.length) {\n        lines.push(\"? \" + (Array(common + 1).join('\\t')) + btags + \"\\n\");\n      }\n      return lines;\n    };\n\n    return Differ;\n\n  })();\n\n  IS_LINE_JUNK = function(line, pat) {\n    if (pat == null) {\n      pat = /^\\s*#?\\s*$/;\n    }\n    /*\n      Return 1 for ignorable line: iff `line` is blank or contains a single '#'.\n        \n      Examples:\n    \n      >>> IS_LINE_JUNK('\\n')\n      true\n      >>> IS_LINE_JUNK('  #   \\n')\n      true\n      >>> IS_LINE_JUNK('hello\\n')\n      false\n    */\n\n    return pat.test(line);\n  };\n\n  IS_CHARACTER_JUNK = function(ch, ws) {\n    if (ws == null) {\n      ws = ' \\t';\n    }\n    /*\n      Return 1 for ignorable character: iff `ch` is a space or tab.\n    \n      Examples:\n      >>> IS_CHARACTER_JUNK(' ').should.be.true\n      true\n      >>> IS_CHARACTER_JUNK('\\t').should.be.true\n      true\n      >>> IS_CHARACTER_JUNK('\\n').should.be.false\n      false\n      >>> IS_CHARACTER_JUNK('x').should.be.false\n      false\n    */\n\n    return __indexOf.call(ws, ch) >= 0;\n  };\n\n  _formatRangeUnified = function(start, stop) {\n    /*\n      Convert range to the \"ed\" format'\n    */\n\n    var beginning, length;\n    beginning = start + 1;\n    length = stop - start;\n    if (length === 1) {\n      return \"\" + beginning;\n    }\n    if (!length) {\n      beginning--;\n    }\n    return \"\" + beginning + \",\" + length;\n  };\n\n  unifiedDiff = function(a, b, _arg) {\n    var file1Range, file2Range, first, fromdate, fromfile, fromfiledate, group, i1, i2, j1, j2, last, line, lines, lineterm, n, started, tag, todate, tofile, tofiledate, _i, _j, _k, _l, _len, _len1, _len2, _len3, _len4, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6;\n    _ref = _arg != null ? _arg : {}, fromfile = _ref.fromfile, tofile = _ref.tofile, fromfiledate = _ref.fromfiledate, tofiledate = _ref.tofiledate, n = _ref.n, lineterm = _ref.lineterm;\n    /*\n      Compare two sequences of lines; generate the delta as a unified diff.\n    \n      Unified diffs are a compact way of showing line changes and a few\n      lines of context.  The number of context lines is set by 'n' which\n      defaults to three.\n    \n      By default, the diff control lines (those with ---, +++, or @@) are\n      created with a trailing newline.  \n    \n      For inputs that do not have trailing newlines, set the lineterm\n      argument to \"\" so that the output will be uniformly newline free.\n    \n      The unidiff format normally has a header for filenames and modification\n      times.  Any or all of these may be specified using strings for\n      'fromfile', 'tofile', 'fromfiledate', and 'tofiledate'.\n      The modification times are normally expressed in the ISO 8601 format.\n    \n      Example:\n    \n      >>> unifiedDiff('one two three four'.split(' '),\n      ...             'zero one tree four'.split(' '), {\n      ...               fromfile: 'Original'\n      ...               tofile: 'Current',\n      ...               fromfiledate: '2005-01-26 23:30:50',\n      ...               tofiledate: '2010-04-02 10:20:52',\n      ...               lineterm: ''\n      ...             })\n      [ '--- Original\\t2005-01-26 23:30:50',\n        '+++ Current\\t2010-04-02 10:20:52',\n        '@@ -1,4 +1,4 @@',\n        '+zero',\n        ' one',\n        '-two',\n        '-three',\n        '+tree',\n        ' four' ]\n    */\n\n    if (fromfile == null) {\n      fromfile = '';\n    }\n    if (tofile == null) {\n      tofile = '';\n    }\n    if (fromfiledate == null) {\n      fromfiledate = '';\n    }\n    if (tofiledate == null) {\n      tofiledate = '';\n    }\n    if (n == null) {\n      n = 3;\n    }\n    if (lineterm == null) {\n      lineterm = '\\n';\n    }\n    lines = [];\n    started = false;\n    _ref1 = (new SequenceMatcher(null, a, b)).getGroupedOpcodes();\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      group = _ref1[_i];\n      if (!started) {\n        started = true;\n        fromdate = fromfiledate ? \"\\t\" + fromfiledate : '';\n        todate = tofiledate ? \"\\t\" + tofiledate : '';\n        lines.push(\"--- \" + fromfile + fromdate + lineterm);\n        lines.push(\"+++ \" + tofile + todate + lineterm);\n      }\n      _ref2 = [group[0], group[group.length - 1]], first = _ref2[0], last = _ref2[1];\n      file1Range = _formatRangeUnified(first[1], last[2]);\n      file2Range = _formatRangeUnified(first[3], last[4]);\n      lines.push(\"@@ -\" + file1Range + \" +\" + file2Range + \" @@\" + lineterm);\n      for (_j = 0, _len1 = group.length; _j < _len1; _j++) {\n        _ref3 = group[_j], tag = _ref3[0], i1 = _ref3[1], i2 = _ref3[2], j1 = _ref3[3], j2 = _ref3[4];\n        if (tag === 'equal') {\n          _ref4 = a.slice(i1, i2);\n          for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {\n            line = _ref4[_k];\n            lines.push(' ' + line);\n          }\n          continue;\n        }\n        if (tag === 'replace' || tag === 'delete') {\n          _ref5 = a.slice(i1, i2);\n          for (_l = 0, _len3 = _ref5.length; _l < _len3; _l++) {\n            line = _ref5[_l];\n            lines.push('-' + line);\n          }\n        }\n        if (tag === 'replace' || tag === 'insert') {\n          _ref6 = b.slice(j1, j2);\n          for (_m = 0, _len4 = _ref6.length; _m < _len4; _m++) {\n            line = _ref6[_m];\n            lines.push('+' + line);\n          }\n        }\n      }\n    }\n    return lines;\n  };\n\n  _formatRangeContext = function(start, stop) {\n    /*\n      Convert range to the \"ed\" format'\n    */\n\n    var beginning, length;\n    beginning = start + 1;\n    length = stop - start;\n    if (!length) {\n      beginning--;\n    }\n    if (length <= 1) {\n      return \"\" + beginning;\n    }\n    return \"\" + beginning + \",\" + (beginning + length - 1);\n  };\n\n  contextDiff = function(a, b, _arg) {\n    var file1Range, file2Range, first, fromdate, fromfile, fromfiledate, group, i1, i2, j1, j2, last, line, lines, lineterm, n, prefix, started, tag, todate, tofile, tofiledate, _, _i, _j, _k, _l, _len, _len1, _len2, _len3, _len4, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6;\n    _ref = _arg != null ? _arg : {}, fromfile = _ref.fromfile, tofile = _ref.tofile, fromfiledate = _ref.fromfiledate, tofiledate = _ref.tofiledate, n = _ref.n, lineterm = _ref.lineterm;\n    /*\n      Compare two sequences of lines; generate the delta as a context diff.\n    \n      Context diffs are a compact way of showing line changes and a few\n      lines of context.  The number of context lines is set by 'n' which\n      defaults to three.\n    \n      By default, the diff control lines (those with *** or ---) are\n      created with a trailing newline.  This is helpful so that inputs\n      created from file.readlines() result in diffs that are suitable for\n      file.writelines() since both the inputs and outputs have trailing\n      newlines.\n    \n      For inputs that do not have trailing newlines, set the lineterm\n      argument to \"\" so that the output will be uniformly newline free.\n    \n      The context diff format normally has a header for filenames and\n      modification times.  Any or all of these may be specified using\n      strings for 'fromfile', 'tofile', 'fromfiledate', and 'tofiledate'.\n      The modification times are normally expressed in the ISO 8601 format.\n      If not specified, the strings default to blanks.\n    \n      Example:\n      >>> a = ['one\\n', 'two\\n', 'three\\n', 'four\\n']\n      >>> b = ['zero\\n', 'one\\n', 'tree\\n', 'four\\n']\n      >>> contextDiff(a, b, {fromfile: 'Original', tofile: 'Current'})\n      [ '*** Original\\n',\n        '--- Current\\n',\n        '***************\\n',\n        '*** 1,4 ****\\n',\n        '  one\\n',\n        '! two\\n',\n        '! three\\n',\n        '  four\\n',\n        '--- 1,4 ----\\n',\n        '+ zero\\n',\n        '  one\\n',\n        '! tree\\n',\n        '  four\\n' ]\n    */\n\n    if (fromfile == null) {\n      fromfile = '';\n    }\n    if (tofile == null) {\n      tofile = '';\n    }\n    if (fromfiledate == null) {\n      fromfiledate = '';\n    }\n    if (tofiledate == null) {\n      tofiledate = '';\n    }\n    if (n == null) {\n      n = 3;\n    }\n    if (lineterm == null) {\n      lineterm = '\\n';\n    }\n    prefix = {\n      insert: '+ ',\n      \"delete\": '- ',\n      replace: '! ',\n      equal: '  '\n    };\n    started = false;\n    lines = [];\n    _ref1 = (new SequenceMatcher(null, a, b)).getGroupedOpcodes();\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      group = _ref1[_i];\n      if (!started) {\n        started = true;\n        fromdate = fromfiledate ? \"\\t\" + fromfiledate : '';\n        todate = tofiledate ? \"\\t\" + tofiledate : '';\n        lines.push(\"*** \" + fromfile + fromdate + lineterm);\n        lines.push(\"--- \" + tofile + todate + lineterm);\n        _ref2 = [group[0], group[group.length - 1]], first = _ref2[0], last = _ref2[1];\n        lines.push('***************' + lineterm);\n        file1Range = _formatRangeContext(first[1], last[2]);\n        lines.push(\"*** \" + file1Range + \" ****\" + lineterm);\n        if (_any((function() {\n          var _j, _len1, _ref3, _results;\n          _results = [];\n          for (_j = 0, _len1 = group.length; _j < _len1; _j++) {\n            _ref3 = group[_j], tag = _ref3[0], _ = _ref3[1], _ = _ref3[2], _ = _ref3[3], _ = _ref3[4];\n            _results.push(tag === 'replace' || tag === 'delete');\n          }\n          return _results;\n        })())) {\n          for (_j = 0, _len1 = group.length; _j < _len1; _j++) {\n            _ref3 = group[_j], tag = _ref3[0], i1 = _ref3[1], i2 = _ref3[2], _ = _ref3[3], _ = _ref3[4];\n            if (tag !== 'insert') {\n              _ref4 = a.slice(i1, i2);\n              for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {\n                line = _ref4[_k];\n                lines.push(prefix[tag] + line);\n              }\n            }\n          }\n        }\n        file2Range = _formatRangeContext(first[3], last[4]);\n        lines.push(\"--- \" + file2Range + \" ----\" + lineterm);\n        if (_any((function() {\n          var _l, _len3, _ref5, _results;\n          _results = [];\n          for (_l = 0, _len3 = group.length; _l < _len3; _l++) {\n            _ref5 = group[_l], tag = _ref5[0], _ = _ref5[1], _ = _ref5[2], _ = _ref5[3], _ = _ref5[4];\n            _results.push(tag === 'replace' || tag === 'insert');\n          }\n          return _results;\n        })())) {\n          for (_l = 0, _len3 = group.length; _l < _len3; _l++) {\n            _ref5 = group[_l], tag = _ref5[0], _ = _ref5[1], _ = _ref5[2], j1 = _ref5[3], j2 = _ref5[4];\n            if (tag !== 'delete') {\n              _ref6 = b.slice(j1, j2);\n              for (_m = 0, _len4 = _ref6.length; _m < _len4; _m++) {\n                line = _ref6[_m];\n                lines.push(prefix[tag] + line);\n              }\n            }\n          }\n        }\n      }\n    }\n    return lines;\n  };\n\n  ndiff = function(a, b, linejunk, charjunk) {\n    if (charjunk == null) {\n      charjunk = IS_CHARACTER_JUNK;\n    }\n    /*\n      Compare `a` and `b` (lists of strings); return a `Differ`-style delta.\n    \n      Optional keyword parameters `linejunk` and `charjunk` are for filter\n      functions (or None):\n    \n      - linejunk: A function that should accept a single string argument, and\n        return true iff the string is junk.  The default is null, and is\n        recommended; \n    \n      - charjunk: A function that should accept a string of length 1. The\n        default is module-level function IS_CHARACTER_JUNK, which filters out\n        whitespace characters (a blank or tab; note: bad idea to include newline\n        in this!).\n    \n      Example:\n      >>> a = ['one\\n', 'two\\n', 'three\\n']\n      >>> b = ['ore\\n', 'tree\\n', 'emu\\n']\n      >>> ndiff(a, b)\n      [ '- one\\n',\n        '?  ^\\n',\n        '+ ore\\n',\n        '?  ^\\n',\n        '- two\\n',\n        '- three\\n',\n        '?  -\\n',\n        '+ tree\\n',\n        '+ emu\\n' ]\n    */\n\n    return (new Differ(linejunk, charjunk)).compare(a, b);\n  };\n\n  restore = function(delta, which) {\n    /*\n      Generate one of the two sequences that generated a delta.\n    \n      Given a `delta` produced by `Differ.compare()` or `ndiff()`, extract\n      lines originating from file 1 or 2 (parameter `which`), stripping off line\n      prefixes.\n    \n      Examples:\n      >>> a = ['one\\n', 'two\\n', 'three\\n']\n      >>> b = ['ore\\n', 'tree\\n', 'emu\\n']\n      >>> diff = ndiff(a, b)\n      >>> restore(diff, 1)\n      [ 'one\\n',\n        'two\\n',\n        'three\\n' ]\n      >>> restore(diff, 2)\n      [ 'ore\\n',\n        'tree\\n',\n        'emu\\n' ]\n    */\n\n    var line, lines, prefixes, tag, _i, _len, _ref;\n    tag = {\n      1: '- ',\n      2: '+ '\n    }[which];\n    if (!tag) {\n      throw new Error(\"unknow delta choice (must be 1 or 2): \" + which);\n    }\n    prefixes = ['  ', tag];\n    lines = [];\n    for (_i = 0, _len = delta.length; _i < _len; _i++) {\n      line = delta[_i];\n      if (_ref = line.slice(0, 2), __indexOf.call(prefixes, _ref) >= 0) {\n        lines.push(line.slice(2));\n      }\n    }\n    return lines;\n  };\n\n  exports._arrayCmp = _arrayCmp;\n\n  exports.SequenceMatcher = SequenceMatcher;\n\n  exports.getCloseMatches = getCloseMatches;\n\n  exports._countLeading = _countLeading;\n\n  exports.Differ = Differ;\n\n  exports.IS_LINE_JUNK = IS_LINE_JUNK;\n\n  exports.IS_CHARACTER_JUNK = IS_CHARACTER_JUNK;\n\n  exports._formatRangeUnified = _formatRangeUnified;\n\n  exports.unifiedDiff = unifiedDiff;\n\n  exports._formatRangeContext = _formatRangeContext;\n\n  exports.contextDiff = contextDiff;\n\n  exports.ndiff = ndiff;\n\n  exports.restore = restore;\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/difflib/lib/difflib.js\n// module id = ../chat-codes-services/node_modules/difflib/lib/difflib.js\n// module chunks = main","module.exports = require('./lib/fuzzyset.js');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/fuzzyset.js/index.js\n// module id = ../chat-codes-services/node_modules/fuzzyset.js/index.js\n// module chunks = main","(function() {\n\nvar FuzzySet = function(arr, useLevenshtein, gramSizeLower, gramSizeUpper) {\n    var fuzzyset = {\n        \n    };\n\n    // default options\n    arr = arr || [];\n    fuzzyset.gramSizeLower = gramSizeLower || 2;\n    fuzzyset.gramSizeUpper = gramSizeUpper || 3;\n    fuzzyset.useLevenshtein = (typeof useLevenshtein !== 'boolean') ? true : useLevenshtein;\n\n    // define all the object functions and attributes\n    fuzzyset.exactSet = {};\n    fuzzyset.matchDict = {};\n    fuzzyset.items = {};\n\n    // helper functions\n    var levenshtein = function(str1, str2) {\n        var current = [], prev, value;\n\n        for (var i = 0; i <= str2.length; i++)\n            for (var j = 0; j <= str1.length; j++) {\n            if (i && j)\n                if (str1.charAt(j - 1) === str2.charAt(i - 1))\n                value = prev;\n                else\n                value = Math.min(current[j], current[j - 1], prev) + 1;\n            else\n                value = i + j;\n\n            prev = current[j];\n            current[j] = value;\n            }\n\n        return current.pop();\n    };\n\n    // return an edit distance from 0 to 1\n    var _distance = function(str1, str2) {\n        if (str1 === null && str2 === null) throw 'Trying to compare two null values';\n        if (str1 === null || str2 === null) return 0;\n        str1 = String(str1); str2 = String(str2);\n\n        var distance = levenshtein(str1, str2);\n        if (str1.length > str2.length) {\n            return 1 - distance / str1.length;\n        } else {\n            return 1 - distance / str2.length;\n        }\n    };\n    var _nonWordRe = /[^a-zA-Z0-9\\u00C0-\\u00FF, ]+/;\n\n    var _iterateGrams = function(value, gramSize) {\n        gramSize = gramSize || 2;\n        var simplified = '-' + value.toLowerCase().replace(_nonWordRe, '') + '-',\n            lenDiff = gramSize - simplified.length,\n            results = [];\n        if (lenDiff > 0) {\n            for (var i = 0; i < lenDiff; ++i) {\n                value += '-';\n            }\n        }\n        for (var i = 0; i < simplified.length - gramSize + 1; ++i) {\n            results.push(simplified.slice(i, i + gramSize));\n        }\n        return results;\n    };\n\n    var _gramCounter = function(value, gramSize) {\n        // return an object where key=gram, value=number of occurrences\n        gramSize = gramSize || 2;\n        var result = {},\n            grams = _iterateGrams(value, gramSize),\n            i = 0;\n        for (i; i < grams.length; ++i) {\n            if (grams[i] in result) {\n                result[grams[i]] += 1;\n            } else {\n                result[grams[i]] = 1;\n            }\n        }\n        return result;\n    };\n\n    // the main functions\n    fuzzyset.get = function(value, defaultValue, minMatchScore) {\n        // check for value in set, returning defaultValue or null if none found\n        if (minMatchScore === undefined) {\n            minMatchScore = .33\n        }\n        var result = this._get(value, minMatchScore);\n        if (!result && typeof defaultValue !== 'undefined') {\n            return defaultValue;\n        }\n        return result;\n    };\n\n    fuzzyset._get = function(value, minMatchScore) {\n        var normalizedValue = this._normalizeStr(value),\n            result = this.exactSet[normalizedValue];\n        if (result) {\n            return [[1, result]];\n        }\n\n        var results = [];\n        // start with high gram size and if there are no results, go to lower gram sizes\n        for (var gramSize = this.gramSizeUpper; gramSize >= this.gramSizeLower; --gramSize) {\n            results = this.__get(value, gramSize, minMatchScore);\n            if (results && results.length > 0) {\n                return results;\n            }\n        }\n        return null;\n    };\n\n    fuzzyset.__get = function(value, gramSize, minMatchScore) {\n        var normalizedValue = this._normalizeStr(value),\n            matches = {},\n            gramCounts = _gramCounter(normalizedValue, gramSize),\n            items = this.items[gramSize],\n            sumOfSquareGramCounts = 0,\n            gram,\n            gramCount,\n            i,\n            index,\n            otherGramCount;\n\n        for (gram in gramCounts) {\n            gramCount = gramCounts[gram];\n            sumOfSquareGramCounts += Math.pow(gramCount, 2);\n            if (gram in this.matchDict) {\n                for (i = 0; i < this.matchDict[gram].length; ++i) {\n                    index = this.matchDict[gram][i][0];\n                    otherGramCount = this.matchDict[gram][i][1];\n                    if (index in matches) {\n                        matches[index] += gramCount * otherGramCount;\n                    } else {\n                        matches[index] = gramCount * otherGramCount;\n                    }\n                }\n            }\n        }\n\n        function isEmptyObject(obj) {\n            for(var prop in obj) {\n                if(obj.hasOwnProperty(prop))\n                    return false;\n            }\n            return true;\n        }\n\n        if (isEmptyObject(matches)) {\n            return null;\n        }\n\n        var vectorNormal = Math.sqrt(sumOfSquareGramCounts),\n            results = [],\n            matchScore;\n        // build a results list of [score, str]\n        for (var matchIndex in matches) {\n            matchScore = matches[matchIndex];\n            results.push([matchScore / (vectorNormal * items[matchIndex][0]), items[matchIndex][1]]);\n        }\n        var sortDescending = function(a, b) {\n            if (a[0] < b[0]) {\n                return 1;\n            } else if (a[0] > b[0]) {\n                return -1;\n            } else {\n                return 0;\n            }\n        };\n        results.sort(sortDescending);\n        if (this.useLevenshtein) {\n            var newResults = [],\n                endIndex = Math.min(50, results.length);\n            // truncate somewhat arbitrarily to 50\n            for (var i = 0; i < endIndex; ++i) {\n                newResults.push([_distance(results[i][1], normalizedValue), results[i][1]]);\n            }\n            results = newResults;\n            results.sort(sortDescending);\n        }\n        var newResults = [];\n        results.forEach(function(scoreWordPair) {\n            if (scoreWordPair[0] >= minMatchScore) {\n                newResults.push([scoreWordPair[0], this.exactSet[scoreWordPair[1]]]);\n            }\n        }.bind(this))\n        return newResults;\n    };\n\n    fuzzyset.add = function(value) {\n        var normalizedValue = this._normalizeStr(value);\n        if (normalizedValue in this.exactSet) {\n            return false;\n        }\n\n        var i = this.gramSizeLower;\n        for (i; i < this.gramSizeUpper + 1; ++i) {\n            this._add(value, i);\n        }\n    };\n\n    fuzzyset._add = function(value, gramSize) {\n        var normalizedValue = this._normalizeStr(value),\n            items = this.items[gramSize] || [],\n            index = items.length;\n\n        items.push(0);\n        var gramCounts = _gramCounter(normalizedValue, gramSize),\n            sumOfSquareGramCounts = 0,\n            gram, gramCount;\n        for (gram in gramCounts) {\n            gramCount = gramCounts[gram];\n            sumOfSquareGramCounts += Math.pow(gramCount, 2);\n            if (gram in this.matchDict) {\n                this.matchDict[gram].push([index, gramCount]);\n            } else {\n                this.matchDict[gram] = [[index, gramCount]];\n            }\n        }\n        var vectorNormal = Math.sqrt(sumOfSquareGramCounts);\n        items[index] = [vectorNormal, normalizedValue];\n        this.items[gramSize] = items;\n        this.exactSet[normalizedValue] = value;\n    };\n\n    fuzzyset._normalizeStr = function(str) {\n        if (Object.prototype.toString.call(str) !== '[object String]') throw 'Must use a string as argument to FuzzySet functions';\n        return str.toLowerCase();\n    };\n\n    // return length of items in set\n    fuzzyset.length = function() {\n        var count = 0,\n            prop;\n        for (prop in this.exactSet) {\n            if (this.exactSet.hasOwnProperty(prop)) {\n                count += 1;\n            }\n        }\n        return count;\n    };\n\n    // return is set is empty\n    fuzzyset.isEmpty = function() {\n        for (var prop in this.exactSet) {\n            if (this.exactSet.hasOwnProperty(prop)) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    // return list of values loaded into set\n    fuzzyset.values = function() {\n        var values = [],\n            prop;\n        for (prop in this.exactSet) {\n            if (this.exactSet.hasOwnProperty(prop)) {\n                values.push(this.exactSet[prop]);\n            }\n        }\n        return values;\n    };\n\n\n    // initialization\n    var i = fuzzyset.gramSizeLower;\n    for (i; i < fuzzyset.gramSizeUpper + 1; ++i) {\n        fuzzyset.items[i] = [];\n    }\n    // add all the items to the set\n    for (i = 0; i < arr.length; ++i) {\n        fuzzyset.add(arr[i]);\n    }\n\n    return fuzzyset;\n};\n\nvar root = this;\n// Export the fuzzyset object for **CommonJS**, with backwards-compatibility\n// for the old `require()` API. If we're not in CommonJS, add `_` to the\n// global object.\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = FuzzySet;\n    root.FuzzySet = FuzzySet;\n} else {\n    root.FuzzySet = FuzzySet;\n}\n\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/fuzzyset.js/lib/fuzzyset.js\n// module id = ../chat-codes-services/node_modules/fuzzyset.js/lib/fuzzyset.js\n// module chunks = main","module.exports = require('./lib/heap');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/heap/index.js\n// module id = ../chat-codes-services/node_modules/heap/index.js\n// module chunks = main","// Generated by CoffeeScript 1.8.0\n(function() {\n  var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n  floor = Math.floor, min = Math.min;\n\n\n  /*\n  Default comparison function to be used\n   */\n\n  defaultCmp = function(x, y) {\n    if (x < y) {\n      return -1;\n    }\n    if (x > y) {\n      return 1;\n    }\n    return 0;\n  };\n\n\n  /*\n  Insert item x in list a, and keep it sorted assuming a is sorted.\n  \n  If x is already in a, insert it to the right of the rightmost x.\n  \n  Optional args lo (default 0) and hi (default a.length) bound the slice\n  of a to be searched.\n   */\n\n  insort = function(a, x, lo, hi, cmp) {\n    var mid;\n    if (lo == null) {\n      lo = 0;\n    }\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (lo < 0) {\n      throw new Error('lo must be non-negative');\n    }\n    if (hi == null) {\n      hi = a.length;\n    }\n    while (lo < hi) {\n      mid = floor((lo + hi) / 2);\n      if (cmp(x, a[mid]) < 0) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n  };\n\n\n  /*\n  Push item onto heap, maintaining the heap invariant.\n   */\n\n  heappush = function(array, item, cmp) {\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    array.push(item);\n    return _siftdown(array, 0, array.length - 1, cmp);\n  };\n\n\n  /*\n  Pop the smallest item off the heap, maintaining the heap invariant.\n   */\n\n  heappop = function(array, cmp) {\n    var lastelt, returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    lastelt = array.pop();\n    if (array.length) {\n      returnitem = array[0];\n      array[0] = lastelt;\n      _siftup(array, 0, cmp);\n    } else {\n      returnitem = lastelt;\n    }\n    return returnitem;\n  };\n\n\n  /*\n  Pop and return the current smallest value, and add the new item.\n  \n  This is more efficient than heappop() followed by heappush(), and can be\n  more appropriate when using a fixed size heap. Note that the value\n  returned may be larger than item! That constrains reasonable use of\n  this routine unless written as part of a conditional replacement:\n      if item > array[0]\n        item = heapreplace(array, item)\n   */\n\n  heapreplace = function(array, item, cmp) {\n    var returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    returnitem = array[0];\n    array[0] = item;\n    _siftup(array, 0, cmp);\n    return returnitem;\n  };\n\n\n  /*\n  Fast version of a heappush followed by a heappop.\n   */\n\n  heappushpop = function(array, item, cmp) {\n    var _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (array.length && cmp(array[0], item) < 0) {\n      _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n      _siftup(array, 0, cmp);\n    }\n    return item;\n  };\n\n\n  /*\n  Transform list into a heap, in-place, in O(array.length) time.\n   */\n\n  heapify = function(array, cmp) {\n    var i, _i, _j, _len, _ref, _ref1, _results, _results1;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    _ref1 = (function() {\n      _results1 = [];\n      for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n      return _results1;\n    }).apply(this).reverse();\n    _results = [];\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      i = _ref1[_i];\n      _results.push(_siftup(array, i, cmp));\n    }\n    return _results;\n  };\n\n\n  /*\n  Update the position of the given item in the heap.\n  This function should be called every time the item is being modified.\n   */\n\n  updateItem = function(array, item, cmp) {\n    var pos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    pos = array.indexOf(item);\n    if (pos === -1) {\n      return;\n    }\n    _siftdown(array, 0, pos, cmp);\n    return _siftup(array, pos, cmp);\n  };\n\n\n  /*\n  Find the n largest elements in a dataset.\n   */\n\n  nlargest = function(array, n, cmp) {\n    var elem, result, _i, _len, _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    result = array.slice(0, n);\n    if (!result.length) {\n      return result;\n    }\n    heapify(result, cmp);\n    _ref = array.slice(n);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      elem = _ref[_i];\n      heappushpop(result, elem, cmp);\n    }\n    return result.sort(cmp).reverse();\n  };\n\n\n  /*\n  Find the n smallest elements in a dataset.\n   */\n\n  nsmallest = function(array, n, cmp) {\n    var elem, i, los, result, _i, _j, _len, _ref, _ref1, _results;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (n * 10 <= array.length) {\n      result = array.slice(0, n).sort(cmp);\n      if (!result.length) {\n        return result;\n      }\n      los = result[result.length - 1];\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        if (cmp(elem, los) < 0) {\n          insort(result, elem, 0, null, cmp);\n          result.pop();\n          los = result[result.length - 1];\n        }\n      }\n      return result;\n    }\n    heapify(array, cmp);\n    _results = [];\n    for (i = _j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n      _results.push(heappop(array, cmp));\n    }\n    return _results;\n  };\n\n  _siftdown = function(array, startpos, pos, cmp) {\n    var newitem, parent, parentpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    newitem = array[pos];\n    while (pos > startpos) {\n      parentpos = (pos - 1) >> 1;\n      parent = array[parentpos];\n      if (cmp(newitem, parent) < 0) {\n        array[pos] = parent;\n        pos = parentpos;\n        continue;\n      }\n      break;\n    }\n    return array[pos] = newitem;\n  };\n\n  _siftup = function(array, pos, cmp) {\n    var childpos, endpos, newitem, rightpos, startpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    endpos = array.length;\n    startpos = pos;\n    newitem = array[pos];\n    childpos = 2 * pos + 1;\n    while (childpos < endpos) {\n      rightpos = childpos + 1;\n      if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n        childpos = rightpos;\n      }\n      array[pos] = array[childpos];\n      pos = childpos;\n      childpos = 2 * pos + 1;\n    }\n    array[pos] = newitem;\n    return _siftdown(array, startpos, pos, cmp);\n  };\n\n  Heap = (function() {\n    Heap.push = heappush;\n\n    Heap.pop = heappop;\n\n    Heap.replace = heapreplace;\n\n    Heap.pushpop = heappushpop;\n\n    Heap.heapify = heapify;\n\n    Heap.updateItem = updateItem;\n\n    Heap.nlargest = nlargest;\n\n    Heap.nsmallest = nsmallest;\n\n    function Heap(cmp) {\n      this.cmp = cmp != null ? cmp : defaultCmp;\n      this.nodes = [];\n    }\n\n    Heap.prototype.push = function(x) {\n      return heappush(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pop = function() {\n      return heappop(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.peek = function() {\n      return this.nodes[0];\n    };\n\n    Heap.prototype.contains = function(x) {\n      return this.nodes.indexOf(x) !== -1;\n    };\n\n    Heap.prototype.replace = function(x) {\n      return heapreplace(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pushpop = function(x) {\n      return heappushpop(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.heapify = function() {\n      return heapify(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.updateItem = function(x) {\n      return updateItem(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.clear = function() {\n      return this.nodes = [];\n    };\n\n    Heap.prototype.empty = function() {\n      return this.nodes.length === 0;\n    };\n\n    Heap.prototype.size = function() {\n      return this.nodes.length;\n    };\n\n    Heap.prototype.clone = function() {\n      var heap;\n      heap = new Heap();\n      heap.nodes = this.nodes.slice(0);\n      return heap;\n    };\n\n    Heap.prototype.toArray = function() {\n      return this.nodes.slice(0);\n    };\n\n    Heap.prototype.insert = Heap.prototype.push;\n\n    Heap.prototype.top = Heap.prototype.peek;\n\n    Heap.prototype.front = Heap.prototype.peek;\n\n    Heap.prototype.has = Heap.prototype.contains;\n\n    Heap.prototype.copy = Heap.prototype.clone;\n\n    return Heap;\n\n  })();\n\n  (function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      return define([], factory);\n    } else if (typeof exports === 'object') {\n      return module.exports = factory();\n    } else {\n      return root.Heap = factory();\n    }\n  })(this, function() {\n    return Heap;\n  });\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/heap/lib/heap.js\n// module id = ../chat-codes-services/node_modules/heap/lib/heap.js\n// module chunks = main","// ISC @ Julien Fontanet\n\n'use strict'\n\n// ===================================================================\n\nvar construct = typeof Reflect !== 'undefined' ? Reflect.construct : undefined\nvar defineProperty = Object.defineProperty\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace (error) {\n    var container = new Error()\n\n    defineProperty(error, 'stack', {\n      configurable: true,\n      get: function getStack () {\n        var stack = container.stack\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, 'stack', {\n          configurable: true,\n          value: stack,\n          writable: true\n        })\n\n        return stack\n      },\n      set: function setStack (stack) {\n        defineProperty(error, 'stack', {\n          configurable: true,\n          value: stack,\n          writable: true\n        })\n      }\n    })\n  }\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError (message) {\n  if (message !== undefined) {\n    defineProperty(this, 'message', {\n      configurable: true,\n      value: message,\n      writable: true\n    })\n  }\n\n  var cname = this.constructor.name\n  if (\n    cname !== undefined &&\n    cname !== this.name\n  ) {\n    defineProperty(this, 'name', {\n      configurable: true,\n      value: cname,\n      writable: true\n    })\n  }\n\n  captureStackTrace(this, this.constructor)\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true\n  }\n})\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function () {\n  function setFunctionName (fn, name) {\n    return defineProperty(fn, 'name', {\n      configurable: true,\n      value: name\n    })\n  }\n  try {\n    var f = function () {}\n    setFunctionName(f, 'foo')\n    if (f.name === 'foo') {\n      return setFunctionName\n    }\n  } catch (_) {}\n})()\n\n// -------------------------------------------------------------------\n\nfunction makeError (constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError\n  } else if (typeof super_ !== 'function') {\n    throw new TypeError('super_ should be a function')\n  }\n\n  var name\n  if (typeof constructor === 'string') {\n    name = constructor\n    constructor = construct !== undefined\n      ? function () { return construct(super_, arguments, this.constructor) }\n      : function () { super_.apply(this, arguments) }\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name)\n      name = undefined\n    }\n  } else if (typeof constructor !== 'function') {\n    throw new TypeError('constructor should be either a string or a function')\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  constructor.super_ = constructor['super'] = super_\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true\n    }\n  }\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true\n    }\n  }\n  constructor.prototype = Object.create(super_.prototype, properties)\n\n  return constructor\n}\nexports = module.exports = makeError\nexports.BaseError = BaseError\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/make-error/index.js\n// module id = ../chat-codes-services/node_modules/make-error/index.js\n// module chunks = main","// These methods let you build a transform function from a transformComponent\n// function for OT types like JSON0 in which operations are lists of components\n// and transforming them requires N^2 work. I find it kind of nasty that I need\n// this, but I'm not really sure what a better solution is. Maybe I should do\n// this automatically to types that don't have a compose function defined.\n\n// Add transform and transformX functions for an OT type which has\n// transformComponent defined.  transformComponent(destination array,\n// component, other component, side)\nmodule.exports = bootstrapTransform\nfunction bootstrapTransform(type, transformComponent, checkValidOp, append) {\n  var transformComponentX = function(left, right, destLeft, destRight) {\n    transformComponent(destLeft, left, right, 'left');\n    transformComponent(destRight, right, left, 'right');\n  };\n\n  var transformX = type.transformX = function(leftOp, rightOp) {\n    checkValidOp(leftOp);\n    checkValidOp(rightOp);\n    var newRightOp = [];\n\n    for (var i = 0; i < rightOp.length; i++) {\n      var rightComponent = rightOp[i];\n\n      // Generate newLeftOp by composing leftOp by rightComponent\n      var newLeftOp = [];\n      var k = 0;\n      while (k < leftOp.length) {\n        var nextC = [];\n        transformComponentX(leftOp[k], rightComponent, newLeftOp, nextC);\n        k++;\n\n        if (nextC.length === 1) {\n          rightComponent = nextC[0];\n        } else if (nextC.length === 0) {\n          for (var j = k; j < leftOp.length; j++) {\n            append(newLeftOp, leftOp[j]);\n          }\n          rightComponent = null;\n          break;\n        } else {\n          // Recurse.\n          var pair = transformX(leftOp.slice(k), nextC);\n          for (var l = 0; l < pair[0].length; l++) {\n            append(newLeftOp, pair[0][l]);\n          }\n          for (var r = 0; r < pair[1].length; r++) {\n            append(newRightOp, pair[1][r]);\n          }\n          rightComponent = null;\n          break;\n        }\n      }\n\n      if (rightComponent != null) {\n        append(newRightOp, rightComponent);\n      }\n      leftOp = newLeftOp;\n    }\n    return [leftOp, newRightOp];\n  };\n\n  // Transforms op with specified type ('left' or 'right') by otherOp.\n  type.transform = function(op, otherOp, type) {\n    if (!(type === 'left' || type === 'right'))\n      throw new Error(\"type must be 'left' or 'right'\");\n\n    if (otherOp.length === 0) return op;\n\n    if (op.length === 1 && otherOp.length === 1)\n      return transformComponent([], op[0], otherOp[0], type);\n\n    if (type === 'left')\n      return transformX(op, otherOp)[0];\n    else\n      return transformX(otherOp, op)[1];\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/ot-json0/lib/bootstrapTransform.js\n// module id = ../chat-codes-services/node_modules/ot-json0/lib/bootstrapTransform.js\n// module chunks = main","// Only the JSON type is exported, because the text type is deprecated\n// otherwise. (If you want to use it somewhere, you're welcome to pull it out\n// into a separate module that json0 can depend on).\n\nmodule.exports = {\n  type: require('./json0')\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/ot-json0/lib/index.js\n// module id = ../chat-codes-services/node_modules/ot-json0/lib/index.js\n// module chunks = main","/*\n This is the implementation of the JSON OT type.\n\n Spec is here: https://github.com/josephg/ShareJS/wiki/JSON-Operations\n\n Note: This is being made obsolete. It will soon be replaced by the JSON2 type.\n*/\n\n/**\n * UTILITY FUNCTIONS\n */\n\n/**\n * Checks if the passed object is an Array instance. Can't use Array.isArray\n * yet because its not supported on IE8.\n *\n * @param obj\n * @returns {boolean}\n */\nvar isArray = function(obj) {\n  return Object.prototype.toString.call(obj) == '[object Array]';\n};\n\n/**\n * Checks if the passed object is an Object instance.\n * No function call (fast) version\n *\n * @param obj\n * @returns {boolean}\n */\nvar isObject = function(obj) {\n  return (!!obj) && (obj.constructor === Object);\n};\n\n/**\n * Clones the passed object using JSON serialization (which is slow).\n *\n * hax, copied from test/types/json. Apparently this is still the fastest way\n * to deep clone an object, assuming we have browser support for JSON.  @see\n * http://jsperf.com/cloning-an-object/12\n */\nvar clone = function(o) {\n  return JSON.parse(JSON.stringify(o));\n};\n\n/**\n * JSON OT Type\n * @type {*}\n */\nvar json = {\n  name: 'json0',\n  uri: 'http://sharejs.org/types/JSONv0'\n};\n\n// You can register another OT type as a subtype in a JSON document using\n// the following function. This allows another type to handle certain\n// operations instead of the builtin JSON type.\nvar subtypes = {};\njson.registerSubtype = function(subtype) {\n  subtypes[subtype.name] = subtype;\n};\n\njson.create = function(data) {\n  // Null instead of undefined if you don't pass an argument.\n  return data === undefined ? null : clone(data);\n};\n\njson.invertComponent = function(c) {\n  var c_ = {p: c.p};\n\n  // handle subtype ops\n  if (c.t && subtypes[c.t]) {\n    c_.t = c.t;\n    c_.o = subtypes[c.t].invert(c.o);\n  }\n\n  if (c.si !== void 0) c_.sd = c.si;\n  if (c.sd !== void 0) c_.si = c.sd;\n  if (c.oi !== void 0) c_.od = c.oi;\n  if (c.od !== void 0) c_.oi = c.od;\n  if (c.li !== void 0) c_.ld = c.li;\n  if (c.ld !== void 0) c_.li = c.ld;\n  if (c.na !== void 0) c_.na = -c.na;\n\n  if (c.lm !== void 0) {\n    c_.lm = c.p[c.p.length-1];\n    c_.p = c.p.slice(0,c.p.length-1).concat([c.lm]);\n  }\n\n  return c_;\n};\n\njson.invert = function(op) {\n  var op_ = op.slice().reverse();\n  var iop = [];\n  for (var i = 0; i < op_.length; i++) {\n    iop.push(json.invertComponent(op_[i]));\n  }\n  return iop;\n};\n\njson.checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    if (!isArray(op[i].p)) throw new Error('Missing path');\n  }\n};\n\njson.checkList = function(elem) {\n  if (!isArray(elem))\n    throw new Error('Referenced element not a list');\n};\n\njson.checkObj = function(elem) {\n  if (!isObject(elem)) {\n    throw new Error(\"Referenced element not an object (it was \" + JSON.stringify(elem) + \")\");\n  }\n};\n\n// helper functions to convert old string ops to and from subtype ops\nfunction convertFromText(c) {\n  c.t = 'text0';\n  var o = {p: c.p.pop()};\n  if (c.si != null) o.i = c.si;\n  if (c.sd != null) o.d = c.sd;\n  c.o = [o];\n}\n\nfunction convertToText(c) {\n  c.p.push(c.o[0].p);\n  if (c.o[0].i != null) c.si = c.o[0].i;\n  if (c.o[0].d != null) c.sd = c.o[0].d;\n  delete c.t;\n  delete c.o;\n}\n\njson.apply = function(snapshot, op) {\n  json.checkValidOp(op);\n\n  op = clone(op);\n\n  var container = {\n    data: snapshot\n  };\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n\n    // convert old string ops to use subtype for backwards compatibility\n    if (c.si != null || c.sd != null)\n      convertFromText(c);\n\n    var parent = null;\n    var parentKey = null;\n    var elem = container;\n    var key = 'data';\n\n    for (var j = 0; j < c.p.length; j++) {\n      var p = c.p[j];\n\n      parent = elem;\n      parentKey = key;\n      elem = elem[key];\n      key = p;\n\n      if (parent == null)\n        throw new Error('Path invalid');\n    }\n\n    // handle subtype ops\n    if (c.t && c.o !== void 0 && subtypes[c.t]) {\n      elem[key] = subtypes[c.t].apply(elem[key], c.o);\n\n    // Number add\n    } else if (c.na !== void 0) {\n      if (typeof elem[key] != 'number')\n        throw new Error('Referenced element not a number');\n\n      elem[key] += c.na;\n    }\n\n    // List replace\n    else if (c.li !== void 0 && c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld\n      elem[key] = c.li;\n    }\n\n    // List insert\n    else if (c.li !== void 0) {\n      json.checkList(elem);\n      elem.splice(key,0, c.li);\n    }\n\n    // List delete\n    else if (c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld here too.\n      elem.splice(key,1);\n    }\n\n    // List move\n    else if (c.lm !== void 0) {\n      json.checkList(elem);\n      if (c.lm != key) {\n        var e = elem[key];\n        // Remove it...\n        elem.splice(key,1);\n        // And insert it back.\n        elem.splice(c.lm,0,e);\n      }\n    }\n\n    // Object insert / replace\n    else if (c.oi !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      elem[key] = c.oi;\n    }\n\n    // Object delete\n    else if (c.od !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      delete elem[key];\n    }\n\n    else {\n      throw new Error('invalid / missing instruction in op');\n    }\n  }\n\n  return container.data;\n};\n\n// Helper to break an operation up into a bunch of small ops.\njson.shatter = function(op) {\n  var results = [];\n  for (var i = 0; i < op.length; i++) {\n    results.push([op[i]]);\n  }\n  return results;\n};\n\n// Helper for incrementally applying an operation to a snapshot. Calls yield\n// after each op component has been applied.\njson.incrementalApply = function(snapshot, op, _yield) {\n  for (var i = 0; i < op.length; i++) {\n    var smallOp = [op[i]];\n    snapshot = json.apply(snapshot, smallOp);\n    // I'd just call this yield, but thats a reserved keyword. Bah!\n    _yield(smallOp, snapshot);\n  }\n\n  return snapshot;\n};\n\n// Checks if two paths, p1 and p2 match.\nvar pathMatches = json.pathMatches = function(p1, p2, ignoreLast) {\n  if (p1.length != p2.length)\n    return false;\n\n  for (var i = 0; i < p1.length; i++) {\n    if (p1[i] !== p2[i] && (!ignoreLast || i !== p1.length - 1))\n      return false;\n  }\n\n  return true;\n};\n\njson.append = function(dest,c) {\n  c = clone(c);\n\n  if (dest.length === 0) {\n    dest.push(c);\n    return;\n  }\n\n  var last = dest[dest.length - 1];\n\n  // convert old string ops to use subtype for backwards compatibility\n  if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n    convertFromText(c);\n    convertFromText(last);\n  }\n\n  if (pathMatches(c.p, last.p)) {\n    // handle subtype ops\n    if (c.t && last.t && c.t === last.t && subtypes[c.t]) {\n      last.o = subtypes[c.t].compose(last.o, c.o);\n\n      // convert back to old string ops\n      if (c.si != null || c.sd != null) {\n        var p = c.p;\n        for (var i = 0; i < last.o.length - 1; i++) {\n          c.o = [last.o.pop()];\n          c.p = p.slice();\n          convertToText(c);\n          dest.push(c);\n        }\n\n        convertToText(last);\n      }\n    } else if (last.na != null && c.na != null) {\n      dest[dest.length - 1] = {p: last.p, na: last.na + c.na};\n    } else if (last.li !== undefined && c.li === undefined && c.ld === last.li) {\n      // insert immediately followed by delete becomes a noop.\n      if (last.ld !== undefined) {\n        // leave the delete part of the replace\n        delete last.li;\n      } else {\n        dest.pop();\n      }\n    } else if (last.od !== undefined && last.oi === undefined && c.oi !== undefined && c.od === undefined) {\n      last.oi = c.oi;\n    } else if (last.oi !== undefined && c.od !== undefined) {\n      // The last path component inserted something that the new component deletes (or replaces).\n      // Just merge them.\n      if (c.oi !== undefined) {\n        last.oi = c.oi;\n      } else if (last.od !== undefined) {\n        delete last.oi;\n      } else {\n        // An insert directly followed by a delete turns into a no-op and can be removed.\n        dest.pop();\n      }\n    } else if (c.lm !== undefined && c.p[c.p.length - 1] === c.lm) {\n      // don't do anything\n    } else {\n      dest.push(c);\n    }\n  } else {\n    // convert string ops back\n    if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n      convertToText(c);\n      convertToText(last);\n    }\n\n    dest.push(c);\n  }\n};\n\njson.compose = function(op1,op2) {\n  json.checkValidOp(op1);\n  json.checkValidOp(op2);\n\n  var newOp = clone(op1);\n\n  for (var i = 0; i < op2.length; i++) {\n    json.append(newOp,op2[i]);\n  }\n\n  return newOp;\n};\n\njson.normalize = function(op) {\n  var newOp = [];\n\n  op = isArray(op) ? op : [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = [];\n\n    json.append(newOp,c);\n  }\n\n  return newOp;\n};\n\n// Returns the common length of the paths of ops a and b\njson.commonLengthForOps = function(a, b) {\n  var alen = a.p.length;\n  var blen = b.p.length;\n  if (a.na != null || a.t)\n    alen++;\n\n  if (b.na != null || b.t)\n    blen++;\n\n  if (alen === 0) return -1;\n  if (blen === 0) return null;\n\n  alen--;\n  blen--;\n\n  for (var i = 0; i < alen; i++) {\n    var p = a.p[i];\n    if (i >= blen || p !== b.p[i])\n      return null;\n  }\n\n  return alen;\n};\n\n// Returns true if an op can affect the given path\njson.canOpAffectPath = function(op, path) {\n  return json.commonLengthForOps({p:path}, op) != null;\n};\n\n// transform c so it applies to a document with otherC applied.\njson.transformComponent = function(dest, c, otherC, type) {\n  c = clone(c);\n\n  var common = json.commonLengthForOps(otherC, c);\n  var common2 = json.commonLengthForOps(c, otherC);\n  var cplength = c.p.length;\n  var otherCplength = otherC.p.length;\n\n  if (c.na != null || c.t)\n    cplength++;\n\n  if (otherC.na != null || otherC.t)\n    otherCplength++;\n\n  // if c is deleting something, and that thing is changed by otherC, we need to\n  // update c to reflect that change for invertibility.\n  if (common2 != null && otherCplength > cplength && c.p[common2] == otherC.p[common2]) {\n    if (c.ld !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.ld = json.apply(clone(c.ld),[oc]);\n    } else if (c.od !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.od = json.apply(clone(c.od),[oc]);\n    }\n  }\n\n  if (common != null) {\n    var commonOperand = cplength == otherCplength;\n\n    // backward compatibility for old string ops\n    var oc = otherC;\n    if ((c.si != null || c.sd != null) && (otherC.si != null || otherC.sd != null)) {\n      convertFromText(c);\n      oc = clone(otherC);\n      convertFromText(oc);\n    }\n\n    // handle subtype ops\n    if (oc.t && subtypes[oc.t]) {\n      if (c.t && c.t === oc.t) {\n        var res = subtypes[c.t].transform(c.o, oc.o, type);\n\n        // convert back to old string ops\n        if (c.si != null || c.sd != null) {\n          var p = c.p;\n          for (var i = 0; i < res.length; i++) {\n            c.o = [res[i]];\n            c.p = p.slice();\n            convertToText(c);\n            json.append(dest, c);\n          }\n        } else if (!isArray(res) || res.length > 0) {\n          c.o = res;\n          json.append(dest, c);\n        }\n\n        return dest;\n      }\n    }\n\n    // transform based on otherC\n    else if (otherC.na !== void 0) {\n      // this case is handled below\n    } else if (otherC.li !== void 0 && otherC.ld !== void 0) {\n      if (otherC.p[common] === c.p[common]) {\n        // noop\n\n        if (!commonOperand) {\n          return dest;\n        } else if (c.ld !== void 0) {\n          // we're trying to delete the same element, -> noop\n          if (c.li !== void 0 && type === 'left') {\n            // we're both replacing one element with another. only one can survive\n            c.ld = clone(otherC.li);\n          } else {\n            return dest;\n          }\n        }\n      }\n    } else if (otherC.li !== void 0) {\n      if (c.li !== void 0 && c.ld === undefined && commonOperand && c.p[common] === otherC.p[common]) {\n        // in li vs. li, left wins.\n        if (type === 'right')\n          c.p[common]++;\n      } else if (otherC.p[common] <= c.p[common]) {\n        c.p[common]++;\n      }\n\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          // otherC edits the same list we edit\n          if (otherC.p[common] <= c.lm)\n            c.lm++;\n          // changing c.from is handled above.\n        }\n      }\n    } else if (otherC.ld !== void 0) {\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          if (otherC.p[common] === c.p[common]) {\n            // they deleted the thing we're trying to move\n            return dest;\n          }\n          // otherC edits the same list we edit\n          var p = otherC.p[common];\n          var from = c.p[common];\n          var to = c.lm;\n          if (p < to || (p === to && from < to))\n            c.lm--;\n\n        }\n      }\n\n      if (otherC.p[common] < c.p[common]) {\n        c.p[common]--;\n      } else if (otherC.p[common] === c.p[common]) {\n        if (otherCplength < cplength) {\n          // we're below the deleted element, so -> noop\n          return dest;\n        } else if (c.ld !== void 0) {\n          if (c.li !== void 0) {\n            // we're replacing, they're deleting. we become an insert.\n            delete c.ld;\n          } else {\n            // we're trying to delete the same element, -> noop\n            return dest;\n          }\n        }\n      }\n\n    } else if (otherC.lm !== void 0) {\n      if (c.lm !== void 0 && cplength === otherCplength) {\n        // lm vs lm, here we go!\n        var from = c.p[common];\n        var to = c.lm;\n        var otherFrom = otherC.p[common];\n        var otherTo = otherC.lm;\n        if (otherFrom !== otherTo) {\n          // if otherFrom == otherTo, we don't need to change our op.\n\n          // where did my thing go?\n          if (from === otherFrom) {\n            // they moved it! tie break.\n            if (type === 'left') {\n              c.p[common] = otherTo;\n              if (from === to) // ugh\n                c.lm = otherTo;\n            } else {\n              return dest;\n            }\n          } else {\n            // they moved around it\n            if (from > otherFrom) c.p[common]--;\n            if (from > otherTo) c.p[common]++;\n            else if (from === otherTo) {\n              if (otherFrom > otherTo) {\n                c.p[common]++;\n                if (from === to) // ugh, again\n                  c.lm++;\n              }\n            }\n\n            // step 2: where am i going to put it?\n            if (to > otherFrom) {\n              c.lm--;\n            } else if (to === otherFrom) {\n              if (to > from)\n                c.lm--;\n            }\n            if (to > otherTo) {\n              c.lm++;\n            } else if (to === otherTo) {\n              // if we're both moving in the same direction, tie break\n              if ((otherTo > otherFrom && to > from) ||\n                  (otherTo < otherFrom && to < from)) {\n                if (type === 'right') c.lm++;\n              } else {\n                if (to > from) c.lm++;\n                else if (to === otherFrom) c.lm--;\n              }\n            }\n          }\n        }\n      } else if (c.li !== void 0 && c.ld === undefined && commonOperand) {\n        // li\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p > from) c.p[common]--;\n        if (p > to) c.p[common]++;\n      } else {\n        // ld, ld+li, si, sd, na, oi, od, oi+od, any li on an element beneath\n        // the lm\n        //\n        // i.e. things care about where their item is after the move.\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p === from) {\n          c.p[common] = to;\n        } else {\n          if (p > from) c.p[common]--;\n          if (p > to) c.p[common]++;\n          else if (p === to && from > to) c.p[common]++;\n        }\n      }\n    }\n    else if (otherC.oi !== void 0 && otherC.od !== void 0) {\n      if (c.p[common] === otherC.p[common]) {\n        if (c.oi !== void 0 && commonOperand) {\n          // we inserted where someone else replaced\n          if (type === 'right') {\n            // left wins\n            return dest;\n          } else {\n            // we win, make our op replace what they inserted\n            c.od = otherC.oi;\n          }\n        } else {\n          // -> noop if the other component is deleting the same object (or any parent)\n          return dest;\n        }\n      }\n    } else if (otherC.oi !== void 0) {\n      if (c.oi !== void 0 && c.p[common] === otherC.p[common]) {\n        // left wins if we try to insert at the same place\n        if (type === 'left') {\n          json.append(dest,{p: c.p, od:otherC.oi});\n        } else {\n          return dest;\n        }\n      }\n    } else if (otherC.od !== void 0) {\n      if (c.p[common] == otherC.p[common]) {\n        if (!commonOperand)\n          return dest;\n        if (c.oi !== void 0) {\n          delete c.od;\n        } else {\n          return dest;\n        }\n      }\n    }\n  }\n\n  json.append(dest,c);\n  return dest;\n};\n\nrequire('./bootstrapTransform')(json, json.transformComponent, json.checkValidOp, json.append);\n\n/**\n * Register a subtype for string operations, using the text0 type.\n */\nvar text = require('./text0');\n\njson.registerSubtype(text);\nmodule.exports = json;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/ot-json0/lib/json0.js\n// module id = ../chat-codes-services/node_modules/ot-json0/lib/json0.js\n// module chunks = main","// DEPRECATED!\n//\n// This type works, but is not exported. Its included here because the JSON0\n// embedded string operations use this library.\n\n\n// A simple text implementation\n//\n// Operations are lists of components. Each component either inserts or deletes\n// at a specified position in the document.\n//\n// Components are either:\n//  {i:'str', p:100}: Insert 'str' at position 100 in the document\n//  {d:'str', p:100}: Delete 'str' at position 100 in the document\n//\n// Components in an operation are executed sequentially, so the position of components\n// assumes previous components have already executed.\n//\n// Eg: This op:\n//   [{i:'abc', p:0}]\n// is equivalent to this op:\n//   [{i:'a', p:0}, {i:'b', p:1}, {i:'c', p:2}]\n\nvar text = module.exports = {\n  name: 'text0',\n  uri: 'http://sharejs.org/types/textv0',\n  create: function(initial) {\n    if ((initial != null) && typeof initial !== 'string') {\n      throw new Error('Initial data must be a string');\n    }\n    return initial || '';\n  }\n};\n\n/** Insert s2 into s1 at pos. */\nvar strInject = function(s1, pos, s2) {\n  return s1.slice(0, pos) + s2 + s1.slice(pos);\n};\n\n/** Check that an operation component is valid. Throws if its invalid. */\nvar checkValidComponent = function(c) {\n  if (typeof c.p !== 'number')\n    throw new Error('component missing position field');\n\n  if ((typeof c.i === 'string') === (typeof c.d === 'string'))\n    throw new Error('component needs an i or d field');\n\n  if (c.p < 0)\n    throw new Error('position cannot be negative');\n};\n\n/** Check that an operation is valid */\nvar checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    checkValidComponent(op[i]);\n  }\n};\n\n/** Apply op to snapshot */\ntext.apply = function(snapshot, op) {\n  var deleted;\n\n  checkValidOp(op);\n  for (var i = 0; i < op.length; i++) {\n    var component = op[i];\n    if (component.i != null) {\n      snapshot = strInject(snapshot, component.p, component.i);\n    } else {\n      deleted = snapshot.slice(component.p, component.p + component.d.length);\n      if (component.d !== deleted)\n        throw new Error(\"Delete component '\" + component.d + \"' does not match deleted text '\" + deleted + \"'\");\n\n      snapshot = snapshot.slice(0, component.p) + snapshot.slice(component.p + component.d.length);\n    }\n  }\n  return snapshot;\n};\n\n/**\n * Append a component to the end of newOp. Exported for use by the random op\n * generator and the JSON0 type.\n */\nvar append = text._append = function(newOp, c) {\n  if (c.i === '' || c.d === '') return;\n\n  if (newOp.length === 0) {\n    newOp.push(c);\n  } else {\n    var last = newOp[newOp.length - 1];\n\n    if (last.i != null && c.i != null && last.p <= c.p && c.p <= last.p + last.i.length) {\n      // Compose the insert into the previous insert\n      newOp[newOp.length - 1] = {i:strInject(last.i, c.p - last.p, c.i), p:last.p};\n\n    } else if (last.d != null && c.d != null && c.p <= last.p && last.p <= c.p + c.d.length) {\n      // Compose the deletes together\n      newOp[newOp.length - 1] = {d:strInject(c.d, last.p - c.p, last.d), p:c.p};\n\n    } else {\n      newOp.push(c);\n    }\n  }\n};\n\n/** Compose op1 and op2 together */\ntext.compose = function(op1, op2) {\n  checkValidOp(op1);\n  checkValidOp(op2);\n  var newOp = op1.slice();\n  for (var i = 0; i < op2.length; i++) {\n    append(newOp, op2[i]);\n  }\n  return newOp;\n};\n\n/** Clean up an op */\ntext.normalize = function(op) {\n  var newOp = [];\n\n  // Normalize should allow ops which are a single (unwrapped) component:\n  // {i:'asdf', p:23}.\n  // There's no good way to test if something is an array:\n  // http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/\n  // so this is probably the least bad solution.\n  if (op.i != null || op.p != null) op = [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = 0;\n\n    append(newOp, c);\n  }\n\n  return newOp;\n};\n\n// This helper method transforms a position by an op component.\n//\n// If c is an insert, insertAfter specifies whether the transform\n// is pushed after the insert (true) or before it (false).\n//\n// insertAfter is optional for deletes.\nvar transformPosition = function(pos, c, insertAfter) {\n  // This will get collapsed into a giant ternary by uglify.\n  if (c.i != null) {\n    if (c.p < pos || (c.p === pos && insertAfter)) {\n      return pos + c.i.length;\n    } else {\n      return pos;\n    }\n  } else {\n    // I think this could also be written as: Math.min(c.p, Math.min(c.p -\n    // otherC.p, otherC.d.length)) but I think its harder to read that way, and\n    // it compiles using ternary operators anyway so its no slower written like\n    // this.\n    if (pos <= c.p) {\n      return pos;\n    } else if (pos <= c.p + c.d.length) {\n      return c.p;\n    } else {\n      return pos - c.d.length;\n    }\n  }\n};\n\n// Helper method to transform a cursor position as a result of an op.\n//\n// Like transformPosition above, if c is an insert, insertAfter specifies\n// whether the cursor position is pushed after an insert (true) or before it\n// (false).\ntext.transformCursor = function(position, op, side) {\n  var insertAfter = side === 'right';\n  for (var i = 0; i < op.length; i++) {\n    position = transformPosition(position, op[i], insertAfter);\n  }\n\n  return position;\n};\n\n// Transform an op component by another op component. Asymmetric.\n// The result will be appended to destination.\n//\n// exported for use in JSON type\nvar transformComponent = text._tc = function(dest, c, otherC, side) {\n  //var cIntersect, intersectEnd, intersectStart, newC, otherIntersect, s;\n\n  checkValidComponent(c);\n  checkValidComponent(otherC);\n\n  if (c.i != null) {\n    // Insert.\n    append(dest, {i:c.i, p:transformPosition(c.p, otherC, side === 'right')});\n  } else {\n    // Delete\n    if (otherC.i != null) {\n      // Delete vs insert\n      var s = c.d;\n      if (c.p < otherC.p) {\n        append(dest, {d:s.slice(0, otherC.p - c.p), p:c.p});\n        s = s.slice(otherC.p - c.p);\n      }\n      if (s !== '')\n        append(dest, {d: s, p: c.p + otherC.i.length});\n\n    } else {\n      // Delete vs delete\n      if (c.p >= otherC.p + otherC.d.length)\n        append(dest, {d: c.d, p: c.p - otherC.d.length});\n      else if (c.p + c.d.length <= otherC.p)\n        append(dest, c);\n      else {\n        // They overlap somewhere.\n        var newC = {d: '', p: c.p};\n\n        if (c.p < otherC.p)\n          newC.d = c.d.slice(0, otherC.p - c.p);\n\n        if (c.p + c.d.length > otherC.p + otherC.d.length)\n          newC.d += c.d.slice(otherC.p + otherC.d.length - c.p);\n\n        // This is entirely optional - I'm just checking the deleted text in\n        // the two ops matches\n        var intersectStart = Math.max(c.p, otherC.p);\n        var intersectEnd = Math.min(c.p + c.d.length, otherC.p + otherC.d.length);\n        var cIntersect = c.d.slice(intersectStart - c.p, intersectEnd - c.p);\n        var otherIntersect = otherC.d.slice(intersectStart - otherC.p, intersectEnd - otherC.p);\n        if (cIntersect !== otherIntersect)\n          throw new Error('Delete ops delete different text in the same region of the document');\n\n        if (newC.d !== '') {\n          newC.p = transformPosition(newC.p, otherC);\n          append(dest, newC);\n        }\n      }\n    }\n  }\n\n  return dest;\n};\n\nvar invertComponent = function(c) {\n  return (c.i != null) ? {d:c.i, p:c.p} : {i:c.d, p:c.p};\n};\n\n// No need to use append for invert, because the components won't be able to\n// cancel one another.\ntext.invert = function(op) {\n  // Shallow copy & reverse that sucka.\n  op = op.slice().reverse();\n  for (var i = 0; i < op.length; i++) {\n    op[i] = invertComponent(op[i]);\n  }\n  return op;\n};\n\nrequire('./bootstrapTransform')(text, transformComponent, checkValidOp, append);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/ot-json0/lib/text0.js\n// module id = ../chat-codes-services/node_modules/ot-json0/lib/text0.js\n// module chunks = main","// Text document API for the 'text' type. This implements some standard API\n// methods for any text-like type, so you can easily bind a textarea or\n// something without being fussy about the underlying OT implementation.\n//\n// The API is desigend as a set of functions to be mixed in to some context\n// object as part of its lifecycle. It expects that object to have getSnapshot\n// and submitOp methods, and call _onOp when an operation is received.\n//\n// This API defines:\n//\n// - getLength() returns the length of the document in characters\n// - getText() returns a string of the document\n// - insert(pos, text, [callback]) inserts text at position pos in the document\n// - remove(pos, length, [callback]) removes length characters at position pos\n//\n// A user can define:\n// - onInsert(pos, text): Called when text is inserted.\n// - onRemove(pos, length): Called when text is removed.\n\nmodule.exports = api;\nfunction api(getSnapshot, submitOp) {\n  return {\n    // Returns the text content of the document\n    get: function() { return getSnapshot(); },\n\n    // Returns the number of characters in the string\n    getLength: function() { return getSnapshot().length; },\n\n    // Insert the specified text at the given position in the document\n    insert: function(pos, text, callback) {\n      return submitOp([pos, text], callback);\n    },\n\n    remove: function(pos, length, callback) {\n      return submitOp([pos, {d:length}], callback);\n    },\n\n    // When you use this API, you should implement these two methods\n    // in your editing context.\n    //onInsert: function(pos, text) {},\n    //onRemove: function(pos, removedLength) {},\n\n    _onOp: function(op) {\n      var pos = 0;\n      var spos = 0;\n      for (var i = 0; i < op.length; i++) {\n        var component = op[i];\n        switch (typeof component) {\n          case 'number':\n            pos += component;\n            spos += component;\n            break;\n          case 'string':\n            if (this.onInsert) this.onInsert(pos, component);\n            pos += component.length;\n            break;\n          case 'object':\n            if (this.onRemove) this.onRemove(pos, component.d);\n            spos += component.d;\n        }\n      }\n    }\n  };\n};\napi.provides = {text: true};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/ot-text/lib/api.js\n// module id = ../chat-codes-services/node_modules/ot-text/lib/api.js\n// module chunks = main","var type = require('./text');\ntype.api = require('./api');\n\nmodule.exports = {\n  type: type\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/ot-text/lib/index.js\n// module id = ../chat-codes-services/node_modules/ot-text/lib/index.js\n// module chunks = main","/* Text OT!\n *\n * This is an OT implementation for text. It is the standard implementation of\n * text used by ShareJS.\n *\n * This type is composable but non-invertable. Its similar to ShareJS's old\n * text-composable type, but its not invertable and its very similar to the\n * text-tp2 implementation but it doesn't support tombstones or purging.\n *\n * Ops are lists of components which iterate over the document.\n * Components are either:\n *   A number N: Skip N characters in the original document\n *   \"str\"     : Insert \"str\" at the current position in the document\n *   {d:N}     : Delete N characters at the current position in the document\n *\n * Eg: [3, 'hi', 5, {d:8}]\n *\n * The operation does not have to skip the last characters in the document.\n *\n * Snapshots are strings.\n *\n * Cursors are either a single number (which is the cursor position) or a pair of\n * [anchor, focus] (aka [start, end]). Be aware that end can be before start.\n */\n\n/** @module text */\n\nexports.name = 'text';\nexports.uri = 'http://sharejs.org/types/textv1';\n\n/** Create a new text snapshot.\n *\n * @param {string} initial - initial snapshot data. Optional. Defaults to ''.\n */\nexports.create = function(initial) {\n  if ((initial != null) && typeof initial !== 'string') {\n    throw Error('Initial data must be a string');\n  }\n  return initial || '';\n};\n\nvar isArray = Array.isArray || function(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Array]\";\n};\n\n/** Check the operation is valid. Throws if not valid. */\nvar checkOp = function(op) {\n  if (!isArray(op)) throw Error('Op must be an array of components');\n\n  var last = null;\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    switch (typeof c) {\n      case 'object':\n        // The only valid objects are {d:X} for +ive values of X.\n        if (!(typeof c.d === 'number' && c.d > 0)) throw Error('Object components must be deletes of size > 0');\n        break;\n      case 'string':\n        // Strings are inserts.\n        if (!(c.length > 0)) throw Error('Inserts cannot be empty');\n        break;\n      case 'number':\n        // Numbers must be skips. They have to be +ive numbers.\n        if (!(c > 0)) throw Error('Skip components must be >0');\n        if (typeof last === 'number') throw Error('Adjacent skip components should be combined');\n        break;\n    }\n    last = c;\n  }\n\n  if (typeof last === 'number') throw Error('Op has a trailing skip');\n};\n\n/** Check that the given selection range is valid. */\nvar checkSelection = function(selection) {\n  // This may throw from simply inspecting selection[0] / selection[1]. Thats\n  // sort of ok, though it'll generate the wrong message.\n  if (typeof selection !== 'number'\n      && (typeof selection[0] !== 'number' || typeof selection[1] !== 'number'))\n    throw Error('Invalid selection');\n};\n\n/** Make a function that appends to the given operation. */\nvar makeAppend = function(op) {\n  return function(component) {\n    if (!component || component.d === 0) {\n      // The component is a no-op. Ignore!\n \n    } else if (op.length === 0) {\n      return op.push(component);\n\n    } else if (typeof component === typeof op[op.length - 1]) {\n      if (typeof component === 'object') {\n        return op[op.length - 1].d += component.d;\n      } else {\n        return op[op.length - 1] += component;\n      }\n    } else {\n      return op.push(component);\n    }\n  };\n};\n\n/** Makes and returns utility functions take and peek. */\nvar makeTake = function(op) {\n  // The index of the next component to take\n  var idx = 0;\n  // The offset into the component\n  var offset = 0;\n\n  // Take up to length n from the front of op. If n is -1, take the entire next\n  // op component. If indivisableField == 'd', delete components won't be separated.\n  // If indivisableField == 'i', insert components won't be separated.\n  var take = function(n, indivisableField) {\n    // We're at the end of the operation. The op has skips, forever. Infinity\n    // might make more sense than null here.\n    if (idx === op.length)\n      return n === -1 ? null : n;\n\n    var part;\n    var c = op[idx];\n    if (typeof c === 'number') {\n      // Skip\n      if (n === -1 || c - offset <= n) {\n        part = c - offset;\n        ++idx;\n        offset = 0;\n        return part;\n      } else {\n        offset += n;\n        return n;\n      }\n    } else if (typeof c === 'string') {\n      // Insert\n      if (n === -1 || indivisableField === 'i' || c.length - offset <= n) {\n        part = c.slice(offset);\n        ++idx;\n        offset = 0;\n        return part;\n      } else {\n        part = c.slice(offset, offset + n);\n        offset += n;\n        return part;\n      }\n    } else {\n      // Delete\n      if (n === -1 || indivisableField === 'd' || c.d - offset <= n) {\n        part = {d: c.d - offset};\n        ++idx;\n        offset = 0;\n        return part;\n      } else {\n        offset += n;\n        return {d: n};\n      }\n    }\n  };\n\n  // Peek at the next op that will be returned.\n  var peekType = function() { return op[idx]; };\n\n  return [take, peekType];\n};\n\n/** Get the length of a component */\nvar componentLength = function(c) {\n  // Uglify will compress this down into a ternary\n  if (typeof c === 'number') {\n    return c;\n  } else {\n    return c.length || c.d;\n  }\n};\n\n/** Trim any excess skips from the end of an operation.\n *\n * There should only be at most one, because the operation was made with append.\n */\nvar trim = function(op) {\n  if (op.length > 0 && typeof op[op.length - 1] === 'number') {\n    op.pop();\n  }\n  return op;\n};\n\nexports.normalize = function(op) {\n  var newOp = [];\n  var append = makeAppend(newOp);\n  for (var i = 0; i < op.length; i++) {\n    append(op[i]);\n  }\n  return trim(newOp);\n};\n\n/** Apply an operation to a document snapshot */\nexports.apply = function(str, op) {\n  if (typeof str !== 'string') {\n    throw Error('Snapshot should be a string');\n  }\n  checkOp(op);\n\n  // We'll gather the new document here and join at the end.\n  var newDoc = [];\n\n  for (var i = 0; i < op.length; i++) {\n    var component = op[i];\n    switch (typeof component) {\n      case 'number':\n        if (component > str.length) throw Error('The op is too long for this document');\n\n        newDoc.push(str.slice(0, component));\n        // This might be slow for big strings. Consider storing the offset in\n        // str instead of rewriting it each time.\n        str = str.slice(component);\n        break;\n      case 'string':\n        newDoc.push(component);\n        break;\n      case 'object':\n        str = str.slice(component.d);\n        break;\n    }\n  }\n\n  return newDoc.join('') + str;\n};\n\n/** Transform op by otherOp.\n *\n * @param op - The operation to transform\n * @param otherOp - Operation to transform it by\n * @param side - Either 'left' or 'right'\n */\nexports.transform = function(op, otherOp, side) {\n  if (side != 'left' && side != 'right') throw Error(\"side (\" + side + \") must be 'left' or 'right'\");\n\n  checkOp(op);\n  checkOp(otherOp);\n\n  var newOp = [];\n  var append = makeAppend(newOp);\n\n  var _fns = makeTake(op);\n  var take = _fns[0],\n      peek = _fns[1];\n\n  for (var i = 0; i < otherOp.length; i++) {\n    var component = otherOp[i];\n\n    var length, chunk;\n    switch (typeof component) {\n      case 'number': // Skip\n        length = component;\n        while (length > 0) {\n          chunk = take(length, 'i');\n          append(chunk);\n          if (typeof chunk !== 'string') {\n            length -= componentLength(chunk);\n          }\n        }\n        break;\n\n      case 'string': // Insert\n        if (side === 'left') {\n          // The left insert should go first.\n          if (typeof peek() === 'string') {\n            append(take(-1));\n          }\n        }\n\n        // Otherwise skip the inserted text.\n        append(component.length);\n        break;\n\n      case 'object': // Delete\n        length = component.d;\n        while (length > 0) {\n          chunk = take(length, 'i');\n          switch (typeof chunk) {\n            case 'number':\n              length -= chunk;\n              break;\n            case 'string':\n              append(chunk);\n              break;\n            case 'object':\n              // The delete is unnecessary now - the text has already been deleted.\n              length -= chunk.d;\n          }\n        }\n        break;\n    }\n  }\n  \n  // Append any extra data in op1.\n  while ((component = take(-1)))\n    append(component);\n  \n  return trim(newOp);\n};\n\n/** Compose op1 and op2 together and return the result */\nexports.compose = function(op1, op2) {\n  checkOp(op1);\n  checkOp(op2);\n\n  var result = [];\n  var append = makeAppend(result);\n  var take = makeTake(op1)[0];\n\n  for (var i = 0; i < op2.length; i++) {\n    var component = op2[i];\n    var length, chunk;\n    switch (typeof component) {\n      case 'number': // Skip\n        length = component;\n        while (length > 0) {\n          chunk = take(length, 'd');\n          append(chunk);\n          if (typeof chunk !== 'object') {\n            length -= componentLength(chunk);\n          }\n        }\n        break;\n\n      case 'string': // Insert\n        append(component);\n        break;\n\n      case 'object': // Delete\n        length = component.d;\n\n        while (length > 0) {\n          chunk = take(length, 'd');\n\n          switch (typeof chunk) {\n            case 'number':\n              append({d: chunk});\n              length -= chunk;\n              break;\n            case 'string':\n              length -= chunk.length;\n              break;\n            case 'object':\n              append(chunk);\n          }\n        }\n        break;\n    }\n  }\n\n  while ((component = take(-1)))\n    append(component);\n\n  return trim(result);\n};\n\n\nvar transformPosition = function(cursor, op) {\n  var pos = 0;\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (cursor <= pos) break;\n\n    // I could actually use the op_iter stuff above - but I think its simpler\n    // like this.\n    switch (typeof c) {\n      case 'number':\n        if (cursor <= pos + c)\n          return cursor;\n        pos += c;\n        break;\n\n      case 'string':\n        pos += c.length;\n        cursor += c.length;\n        break;\n\n      case 'object':\n        cursor -= Math.min(c.d, cursor - pos);\n        break;\n    }\n  }\n  return cursor;\n};\n\nexports.transformSelection = function(selection, op, isOwnOp) {\n  var pos = 0;\n  if (isOwnOp) {\n    // Just track the position. We'll teleport the cursor to the end anyway.\n    // This works because text ops don't have any trailing skips at the end - so the last\n    // component is the last thing.\n    for (var i = 0; i < op.length; i++) {\n      var c = op[i];\n      switch (typeof c) {\n        case 'number':\n          pos += c;\n          break;\n        case 'string':\n          pos += c.length;\n          break;\n        // Just eat deletes.\n      }\n    }\n    return pos;\n  } else {\n    return typeof selection === 'number' ?\n      transformPosition(selection, op) : [transformPosition(selection[0], op), transformPosition(selection[1], op)];\n  }\n};\n\nexports.selectionEq = function(c1, c2) {\n  if (c1[0] != null && c1[0] === c1[1]) c1 = c1[0];\n  if (c2[0] != null && c2[0] === c2[1]) c2 = c2[0];\n  return c1 === c2 || (c1[0] != null && c2[0] != null && c1[0] === c2[0] && c1[1] == c2[1]);\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/ot-text/lib/text.js\n// module id = ../chat-codes-services/node_modules/ot-text/lib/text.js\n// module chunks = main","var Doc = require('./doc');\nvar Query = require('./query');\nvar emitter = require('../emitter');\nvar ShareDBError = require('../error');\nvar types = require('../types');\nvar util = require('../util');\n\n/**\n * Handles communication with the sharejs server and provides queries and\n * documents.\n *\n * We create a connection with a socket object\n *   connection = new sharejs.Connection(sockset)\n * The socket may be any object handling the websocket protocol. See the\n * documentation of bindToSocket() for details. We then wait for the connection\n * to connect\n *   connection.on('connected', ...)\n * and are finally able to work with shared documents\n *   connection.get('food', 'steak') // Doc\n *\n * @param socket @see bindToSocket\n */\nmodule.exports = Connection;\nfunction Connection(socket) {\n  emitter.EventEmitter.call(this);\n\n  // Map of collection -> id -> doc object for created documents.\n  // (created documents MUST BE UNIQUE)\n  this.collections = {};\n\n  // Each query is created with an id that the server uses when it sends us\n  // info about the query (updates, etc)\n  this.nextQueryId = 1;\n\n  // Map from query ID -> query object.\n  this.queries = {};\n\n  // A unique message number for the given id\n  this.seq = 1;\n\n  // Equals agent.clientId on the server\n  this.id = null;\n\n  // This direct reference from connection to agent is not used internal to\n  // ShareDB, but it is handy for server-side only user code that may cache\n  // state on the agent and read it in middleware\n  this.agent = null;\n\n  this.debug = false;\n\n  this.bindToSocket(socket);\n}\nemitter.mixin(Connection);\n\n\n/**\n * Use socket to communicate with server\n *\n * Socket is an object that can handle the websocket protocol. This method\n * installs the onopen, onclose, onmessage and onerror handlers on the socket to\n * handle communication and sends messages by calling socket.send(message). The\n * sockets `readyState` property is used to determine the initaial state.\n *\n * @param socket Handles the websocket protocol\n * @param socket.readyState\n * @param socket.close\n * @param socket.send\n * @param socket.onopen\n * @param socket.onclose\n * @param socket.onmessage\n * @param socket.onerror\n */\nConnection.prototype.bindToSocket = function(socket) {\n  if (this.socket) {\n    this.socket.close();\n    this.socket.onmessage = null;\n    this.socket.onopen = null;\n    this.socket.onerror = null;\n    this.socket.onclose = null;\n  }\n\n  this.socket = socket;\n\n  // State of the connection. The correspoding events are emmited when this changes\n  //\n  // - 'connecting'   The connection is still being established, or we are still\n  //                    waiting on the server to send us the initialization message\n  // - 'connected'    The connection is open and we have connected to a server\n  //                    and recieved the initialization message\n  // - 'disconnected' Connection is closed, but it will reconnect automatically\n  // - 'closed'       The connection was closed by the client, and will not reconnect\n  // - 'stopped'      The connection was closed by the server, and will not reconnect\n  this.state = (socket.readyState === 0 || socket.readyState === 1) ? 'connecting' : 'disconnected';\n\n  // This is a helper variable the document uses to see whether we're\n  // currently in a 'live' state. It is true if and only if we're connected\n  this.canSend = false;\n\n  var connection = this;\n\n  socket.onmessage = function(event) {\n    try {\n      var data = (typeof event.data === 'string') ?\n        JSON.parse(event.data) : event.data;\n    } catch (err) {\n      console.warn('Failed to parse message', event);\n      return;\n    }\n\n    if (connection.debug) console.log('RECV', JSON.stringify(data));\n\n    var request = {data: data};\n    connection.emit('receive', request);\n    if (!request.data) return;\n\n    try {\n      connection.handleMessage(request.data);\n    } catch (err) {\n      process.nextTick(function() {\n        connection.emit('error', err);\n      });\n    }\n  };\n\n  socket.onopen = function() {\n    connection._setState('connecting');\n  };\n\n  socket.onerror = function(err) {\n    // This isn't the same as a regular error, because it will happen normally\n    // from time to time. Your connection should probably automatically\n    // reconnect anyway, but that should be triggered off onclose not onerror.\n    // (onclose happens when onerror gets called anyway).\n    connection.emit('connection error', err);\n  };\n\n  socket.onclose = function(reason) {\n    // node-browserchannel reason values:\n    //   'Closed' - The socket was manually closed by calling socket.close()\n    //   'Stopped by server' - The server sent the stop message to tell the client not to try connecting\n    //   'Request failed' - Server didn't respond to request (temporary, usually offline)\n    //   'Unknown session ID' - Server session for client is missing (temporary, will immediately reestablish)\n\n    if (reason === 'closed' || reason === 'Closed') {\n      connection._setState('closed', reason);\n\n    } else if (reason === 'stopped' || reason === 'Stopped by server') {\n      connection._setState('stopped', reason);\n\n    } else {\n      connection._setState('disconnected', reason);\n    }\n  };\n};\n\n/**\n * @param {object} message\n * @param {String} message.a action\n */\nConnection.prototype.handleMessage = function(message) {\n  var err = null;\n  if (message.error) {\n    // wrap in Error object so can be passed through event emitters\n    err = new Error(message.error.message);\n    err.code = message.error.code;\n    // Add the message data to the error object for more context\n    err.data = message;\n    delete message.error;\n  }\n  // Switch on the message action. Most messages are for documents and are\n  // handled in the doc class.\n  switch (message.a) {\n    case 'init':\n      // Client initialization packet\n      if (message.protocol !== 1) {\n        err = new ShareDBError(4019, 'Invalid protocol version');\n        return this.emit('error', err);\n      }\n      if (types.map[message.type] !== types.defaultType) {\n        err = new ShareDBError(4020, 'Invalid default type');\n        return this.emit('error', err);\n      }\n      if (typeof message.id !== 'string') {\n        err = new ShareDBError(4021, 'Invalid client id');\n        return this.emit('error', err);\n      }\n      this.id = message.id;\n\n      this._setState('connected');\n      return;\n\n    case 'qf':\n      var query = this.queries[message.id];\n      if (query) query._handleFetch(err, message.data, message.extra);\n      return;\n    case 'qs':\n      var query = this.queries[message.id];\n      if (query) query._handleSubscribe(err, message.data, message.extra);\n      return;\n    case 'qu':\n      // Queries are removed immediately on calls to destroy, so we ignore\n      // replies to query unsubscribes. Perhaps there should be a callback for\n      // destroy, but this is currently unimplemented\n      return;\n    case 'q':\n      // Query message. Pass this to the appropriate query object.\n      var query = this.queries[message.id];\n      if (!query) return;\n      if (err) return query._handleError(err);\n      if (message.diff) query._handleDiff(message.diff);\n      if (message.hasOwnProperty('extra')) query._handleExtra(message.extra);\n      return;\n\n    case 'bf':\n      return this._handleBulkMessage(message, '_handleFetch');\n    case 'bs':\n      return this._handleBulkMessage(message, '_handleSubscribe');\n    case 'bu':\n      return this._handleBulkMessage(message, '_handleUnsubscribe');\n\n    case 'f':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleFetch(err, message.data);\n      return;\n    case 's':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleSubscribe(err, message.data);\n      return;\n    case 'u':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleUnsubscribe(err);\n      return;\n    case 'op':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleOp(err, message);\n      return;\n\n    default:\n      console.warn('Ignoring unrecognized message', message);\n  }\n};\n\nConnection.prototype._handleBulkMessage = function(message, method) {\n  if (message.data) {\n    for (var id in message.data) {\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](message.error, message.data[id]);\n    }\n  } else if (Array.isArray(message.b)) {\n    for (var i = 0; i < message.b.length; i++) {\n      var id = message.b[i];\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](message.error);\n    }\n  } else if (message.b) {\n    for (var id in message.b) {\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](message.error);\n    }\n  } else {\n    console.error('Invalid bulk message', message);\n  }\n};\n\nConnection.prototype._reset = function() {\n  this.seq = 1;\n  this.id = null;\n  this.agent = null;\n};\n\n// Set the connection's state. The connection is basically a state machine.\nConnection.prototype._setState = function(newState, reason) {\n  if (this.state === newState) return;\n\n  // I made a state diagram. The only invalid transitions are getting to\n  // 'connecting' from anywhere other than 'disconnected' and getting to\n  // 'connected' from anywhere other than 'connecting'.\n  if (\n    (newState === 'connecting' && this.state !== 'disconnected' && this.state !== 'stopped' && this.state !== 'closed') ||\n    (newState === 'connected' && this.state !== 'connecting')\n  ) {\n    var err = new ShareDBError(5007, 'Cannot transition directly from ' + this.state + ' to ' + newState);\n    return this.emit('error', err);\n  }\n\n  this.state = newState;\n  this.canSend = (newState === 'connected');\n\n  if (newState === 'disconnected' || newState === 'stopped' || newState === 'closed') this._reset();\n\n  // Group subscribes together to help server make more efficient calls\n  this.startBulk();\n  // Emit the event to all queries\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    query._onConnectionStateChanged();\n  }\n  // Emit the event to all documents\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      docs[id]._onConnectionStateChanged();\n    }\n  }\n  this.endBulk();\n\n  this.emit(newState, reason);\n  this.emit('state', newState, reason);\n};\n\nConnection.prototype.startBulk = function() {\n  if (!this.bulk) this.bulk = {};\n};\n\nConnection.prototype.endBulk = function() {\n  if (this.bulk) {\n    for (var collection in this.bulk) {\n      var actions = this.bulk[collection];\n      this._sendBulk('f', collection, actions.f);\n      this._sendBulk('s', collection, actions.s);\n      this._sendBulk('u', collection, actions.u);\n    }\n  }\n  this.bulk = null;\n};\n\nConnection.prototype._sendBulk = function(action, collection, values) {\n  if (!values) return;\n  var ids = [];\n  var versions = {};\n  var versionsCount = 0;\n  var versionId;\n  for (var id in values) {\n    var value = values[id];\n    if (value == null) {\n      ids.push(id);\n    } else {\n      versions[id] = value;\n      versionId = id;\n      versionsCount++;\n    }\n  }\n  if (ids.length === 1) {\n    var id = ids[0];\n    this.send({a: action, c: collection, d: id});\n  } else if (ids.length) {\n    this.send({a: 'b' + action, c: collection, b: ids});\n  }\n  if (versionsCount === 1) {\n    var version = versions[versionId];\n    this.send({a: action, c: collection, d: versionId, v: version});\n  } else if (versionsCount) {\n    this.send({a: 'b' + action, c: collection, b: versions});\n  }\n};\n\nConnection.prototype._sendAction = function(action, doc, version) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  if (this.bulk) {\n    // Bulk subscribe\n    var actions = this.bulk[doc.collection] || (this.bulk[doc.collection] = {});\n    var versions = actions[action] || (actions[action] = {});\n    var isDuplicate = versions.hasOwnProperty(doc.id);\n    versions[doc.id] = version;\n    return isDuplicate;\n  } else {\n    // Send single doc subscribe message\n    var message = {a: action, c: doc.collection, d: doc.id, v: version};\n    this.send(message);\n  }\n};\n\nConnection.prototype.sendFetch = function(doc) {\n  return this._sendAction('f', doc, doc.version);\n};\n\nConnection.prototype.sendSubscribe = function(doc) {\n  return this._sendAction('s', doc, doc.version);\n};\n\nConnection.prototype.sendUnsubscribe = function(doc) {\n  return this._sendAction('u', doc);\n};\n\nConnection.prototype.sendOp = function(doc, op) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  var message = {\n    a: 'op',\n    c: doc.collection,\n    d: doc.id,\n    v: doc.version,\n    src: op.src,\n    seq: op.seq\n  };\n  if (op.op) message.op = op.op;\n  if (op.create) message.create = op.create;\n  if (op.del) message.del = op.del;\n  this.send(message);\n};\n\n\n/**\n * Sends a message down the socket\n */\nConnection.prototype.send = function(message) {\n  if (this.debug) console.log('SEND', JSON.stringify(message));\n\n  this.emit('send', message);\n  this.socket.send(JSON.stringify(message));\n};\n\n\n/**\n * Closes the socket and emits 'closed'\n */\nConnection.prototype.close = function() {\n  this.socket.close();\n};\n\nConnection.prototype.getExisting = function(collection, id) {\n  if (this.collections[collection]) return this.collections[collection][id];\n};\n\n\n/**\n * Get or create a document.\n *\n * @param collection\n * @param id\n * @return {Doc}\n */\nConnection.prototype.get = function(collection, id) {\n  var docs = this.collections[collection] ||\n    (this.collections[collection] = {});\n\n  var doc = docs[id];\n  if (!doc) {\n    doc = docs[id] = new Doc(this, collection, id);\n    this.emit('doc', doc);\n  }\n\n  return doc;\n};\n\n\n/**\n * Remove document from this.collections\n *\n * @private\n */\nConnection.prototype._destroyDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) return;\n\n  delete docs[doc.id];\n\n  // Delete the collection container if its empty. This could be a source of\n  // memory leaks if you slowly make a billion collections, which you probably\n  // won't do anyway, but whatever.\n  if (!util.hasKeys(docs)) {\n    delete this.collections[doc.collection];\n  }\n};\n\nConnection.prototype._addDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) {\n    docs = this.collections[doc.collection] = {};\n  }\n  if (docs[doc.id] !== doc) {\n    docs[doc.id] = doc;\n  }\n};\n\n// Helper for createFetchQuery and createSubscribeQuery, below.\nConnection.prototype._createQuery = function(action, collection, q, options, callback) {\n  var id = this.nextQueryId++;\n  var query = new Query(action, this, id, collection, q, options, callback);\n  this.queries[id] = query;\n  query.send();\n  return query;\n};\n\n// Internal function. Use query.destroy() to remove queries.\nConnection.prototype._destroyQuery = function(query) {\n  delete this.queries[query.id];\n};\n\n// The query options object can contain the following fields:\n//\n// db: Name of the db for the query. You can attach extraDbs to ShareDB and\n//   pick which one the query should hit using this parameter.\n\n// Create a fetch query. Fetch queries are only issued once, returning the\n// results directly into the callback.\n//\n// The callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createFetchQuery = function(collection, q, options, callback) {\n  return this._createQuery('qf', collection, q, options, callback);\n};\n\n// Create a subscribe query. Subscribe queries return with the initial data\n// through the callback, then update themselves whenever the query result set\n// changes via their own event emitter.\n//\n// If present, the callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createSubscribeQuery = function(collection, q, options, callback) {\n  return this._createQuery('qs', collection, q, options, callback);\n};\n\nConnection.prototype.hasPending = function() {\n  return !!(\n    this._firstDoc(hasPending) ||\n    this._firstQuery(hasPending)\n  );\n};\nfunction hasPending(object) {\n  return object.hasPending();\n}\n\nConnection.prototype.hasWritePending = function() {\n  return !!this._firstDoc(hasWritePending);\n};\nfunction hasWritePending(object) {\n  return object.hasWritePending();\n}\n\nConnection.prototype.whenNothingPending = function(callback) {\n  var doc = this._firstDoc(hasPending);\n  if (doc) {\n    // If a document is found with a pending operation, wait for it to emit\n    // that nothing is pending anymore, and then recheck all documents again.\n    // We have to recheck all documents, just in case another mutation has\n    // been made in the meantime as a result of an event callback\n    doc.once('nothing pending', this._nothingPendingRetry(callback));\n    return;\n  }\n  var query = this._firstQuery(hasPending);\n  if (query) {\n    query.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  // Call back when no pending operations\n  process.nextTick(callback);\n};\nConnection.prototype._nothingPendingRetry = function(callback) {\n  var connection = this;\n  return function() {\n    process.nextTick(function() {\n      connection.whenNothingPending(callback);\n    });\n  };\n};\n\nConnection.prototype._firstDoc = function(fn) {\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      var doc = docs[id];\n      if (fn(doc)) {\n        return doc;\n      }\n    }\n  }\n};\n\nConnection.prototype._firstQuery = function(fn) {\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    if (fn(query)) {\n      return query;\n    }\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/sharedb/lib/client/connection.js\n// module id = ../chat-codes-services/node_modules/sharedb/lib/client/connection.js\n// module chunks = main","var emitter = require('../emitter');\nvar ShareDBError = require('../error');\nvar types = require('../types');\n\n/**\n * A Doc is a client's view on a sharejs document.\n *\n * It is is uniquely identified by its `id` and `collection`.  Documents\n * should not be created directly. Create them with connection.get()\n *\n *\n * Subscriptions\n * -------------\n *\n * We can subscribe a document to stay in sync with the server.\n *   doc.subscribe(function(error) {\n *     doc.subscribed // = true\n *   })\n * The server now sends us all changes concerning this document and these are\n * applied to our data. If the subscription was successful the initial\n * data and version sent by the server are loaded into the document.\n *\n * To stop listening to the changes we call `doc.unsubscribe()`.\n *\n * If we just want to load the data but not stay up-to-date, we call\n *   doc.fetch(function(error) {\n *     doc.data // sent by server\n *   })\n *\n *\n * Events\n * ------\n *\n * You can use doc.on(eventName, callback) to subscribe to the following events:\n * - `before op (op, source)` Fired before a partial operation is applied to the data.\n *   It may be used to read the old data just before applying an operation\n * - `op (op, source)` Fired after every partial operation with this operation as the\n *   first argument\n * - `create (source)` The document was created. That means its type was\n *   set and it has some initial data.\n * - `del (data, source)` Fired after the document is deleted, that is\n *   the data is null. It is passed the data before delteion as an\n *   arguments\n * - `load ()` Fired when a new snapshot is ingested from a fetch, subscribe, or query\n */\n\nmodule.exports = Doc;\nfunction Doc(connection, collection, id) {\n  emitter.EventEmitter.call(this);\n\n  this.connection = connection;\n\n  this.collection = collection;\n  this.id = id;\n\n  this.version = null;\n  this.type = null;\n  this.data = undefined;\n\n  // Array of callbacks or nulls as placeholders\n  this.inflightFetch = [];\n  this.inflightSubscribe = [];\n  this.inflightUnsubscribe = [];\n  this.pendingFetch = [];\n\n  // Whether we think we are subscribed on the server. Synchronously set to\n  // false on calls to unsubscribe and disconnect. Should never be true when\n  // this.wantSubscribe is false\n  this.subscribed = false;\n  // Whether to re-establish the subscription on reconnect\n  this.wantSubscribe = false;\n\n  // The op that is currently roundtripping to the server, or null.\n  //\n  // When the connection reconnects, the inflight op is resubmitted.\n  //\n  // This has the same format as an entry in pendingOps\n  this.inflightOp = null;\n\n  // All ops that are waiting for the server to acknowledge this.inflightOp\n  // This used to just be a single operation, but creates & deletes can't be\n  // composed with regular operations.\n  //\n  // This is a list of {[create:{...}], [del:true], [op:...], callbacks:[...]}\n  this.pendingOps = [];\n\n  // The OT type of this document. An uncreated document has type `null`\n  this.type = null;\n\n  // The applyStack enables us to track any ops submitted while we are\n  // applying an op incrementally. This value is an array when we are\n  // performing an incremental apply and null otherwise. When it is an array,\n  // all submitted ops should be pushed onto it. The `_otApply` method will\n  // reset it back to null when all incremental apply loops are complete.\n  this.applyStack = null;\n\n  // Disable the default behavior of composing submitted ops. This is read at\n  // the time of op submit, so it may be toggled on before submitting a\n  // specifc op and toggled off afterward\n  this.preventCompose = false;\n}\nemitter.mixin(Doc);\n\nDoc.prototype.destroy = function(callback) {\n  var doc = this;\n  doc.whenNothingPending(function() {\n    doc.connection._destroyDoc(doc);\n    if (doc.wantSubscribe) {\n      return doc.unsubscribe(callback);\n    }\n    if (callback) callback();\n  });\n};\n\n\n// ****** Manipulating the document data, version and type.\n\n// Set the document's type, and associated properties. Most of the logic in\n// this function exists to update the document based on any added & removed API\n// methods.\n//\n// @param newType OT type provided by the ottypes library or its name or uri\nDoc.prototype._setType = function(newType) {\n  if (typeof newType === 'string') {\n    newType = types.map[newType];\n  }\n\n  if (newType) {\n    this.type = newType;\n\n  } else if (newType === null) {\n    this.type = newType;\n    // If we removed the type from the object, also remove its data\n    this.data = undefined;\n\n  } else {\n    var err = new ShareDBError(4008, 'Missing type ' + newType);\n    return this.emit('error', err);\n  }\n};\n\n// Ingest snapshot data. This data must include a version, snapshot and type.\n// This is used both to ingest data that was exported with a webpage and data\n// that was received from the server during a fetch.\n//\n// @param snapshot.v    version\n// @param snapshot.data\n// @param snapshot.type\n// @param callback\nDoc.prototype.ingestSnapshot = function(snapshot, callback) {\n  if (!snapshot) return callback && callback();\n\n  if (typeof snapshot.v !== 'number') {\n    var err = new ShareDBError(5008, 'Missing version in ingested snapshot. ' + this.collection + '.' + this.id);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n\n  // If the doc is already created or there are ops pending, we cannot use the\n  // ingested snapshot and need ops in order to update the document\n  if (this.type || this.hasWritePending()) {\n    // The version should only be null on a created document when it was\n    // created locally without fetching\n    if (this.version == null) {\n      if (this.hasWritePending()) {\n        // If we have pending ops and we get a snapshot for a locally created\n        // document, we have to wait for the pending ops to complete, because\n        // we don't know what version to fetch ops from. It is possible that\n        // the snapshot came from our local op, but it is also possible that\n        // the doc was created remotely (which would conflict and be an error)\n        return callback && this.once('no write pending', callback);\n      }\n      // Otherwise, we've encounted an error state\n      var err = new ShareDBError(5009, 'Cannot ingest snapshot in doc with null version. ' + this.collection + '.' + this.id);\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // If we got a snapshot for a version further along than the document is\n    // currently, issue a fetch to get the latest ops and catch us up\n    if (snapshot.v > this.version) return this.fetch(callback);\n    return callback && callback();\n  }\n\n  // Ignore the snapshot if we are already at a newer version. Under no\n  // circumstance should we ever set the current version backward\n  if (this.version > snapshot.v) return callback && callback();\n\n  this.version = snapshot.v;\n  var type = (snapshot.type === undefined) ? types.defaultType : snapshot.type;\n  this._setType(type);\n  this.data = (this.type && this.type.deserialize) ?\n    this.type.deserialize(snapshot.data) :\n    snapshot.data;\n  this.emit('load');\n  callback && callback();\n};\n\nDoc.prototype.whenNothingPending = function(callback) {\n  if (this.hasPending()) {\n    this.once('nothing pending', callback);\n    return;\n  }\n  callback();\n};\n\nDoc.prototype.hasPending = function() {\n  return !!(\n    this.inflightOp ||\n    this.pendingOps.length ||\n    this.inflightFetch.length ||\n    this.inflightSubscribe.length ||\n    this.inflightUnsubscribe.length ||\n    this.pendingFetch.length\n  );\n};\n\nDoc.prototype.hasWritePending = function() {\n  return !!(this.inflightOp || this.pendingOps.length);\n};\n\nDoc.prototype._emitNothingPending = function() {\n  if (this.hasWritePending()) return;\n  this.emit('no write pending');\n  if (this.hasPending()) return;\n  this.emit('nothing pending');\n};\n\n// **** Helpers for network messages\n\nDoc.prototype._emitResponseError = function(err, callback) {\n  if (callback) {\n    callback(err);\n    this._emitNothingPending();\n    return;\n  }\n  this._emitNothingPending();\n  this.emit('error', err);\n};\n\nDoc.prototype._handleFetch = function(err, snapshot) {\n  var callback = this.inflightFetch.shift();\n  if (err) return this._emitResponseError(err, callback);\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleSubscribe = function(err, snapshot) {\n  var callback = this.inflightSubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  // Indicate we are subscribed only if the client still wants to be. In the\n  // time since calling subscribe and receiving a response from the server,\n  // unsubscribe could have been called and we might already be unsubscribed\n  // but not have received the response. Also, because requests from the\n  // client are not serialized and may take different async time to process,\n  // it is possible that we could hear responses back in a different order\n  // from the order originally sent\n  if (this.wantSubscribe) this.subscribed = true;\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleUnsubscribe = function(err) {\n  var callback = this.inflightUnsubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  if (callback) callback();\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleOp = function(err, message) {\n  if (err) {\n    if (this.inflightOp) {\n      // The server has rejected submission of the current operation. If we get\n      // an error code 4002 \"Op submit rejected\", this was done intentionally\n      // and we should roll back but not return an error to the user.\n      if (err.code === 4002) err = null;\n      return this._rollback(err);\n    }\n    return this.emit('error', err);\n  }\n\n  if (this.inflightOp &&\n      message.src === this.inflightOp.src &&\n      message.seq === this.inflightOp.seq) {\n    // The op has already been applied locally. Just update the version\n    // and pending state appropriately\n    this._opAcknowledged(message);\n    return;\n  }\n\n  if (this.version == null || message.v > this.version) {\n    // This will happen in normal operation if we become subscribed to a\n    // new document via a query. It can also happen if we get an op for\n    // a future version beyond the version we are expecting next. This\n    // could happen if the server doesn't publish an op for whatever reason\n    // or because of a race condition. In any case, we can send a fetch\n    // command to catch back up.\n    //\n    // Fetch only sends a new fetch command if no fetches are inflight, which\n    // will act as a natural debouncing so we don't send multiple fetch\n    // requests for many ops received at once.\n    this.fetch();\n    return;\n  }\n\n  if (message.v < this.version) {\n    // We can safely ignore the old (duplicate) operation.\n    return;\n  }\n\n  if (this.inflightOp) {\n    var transformErr = transformX(this.inflightOp, message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  for (var i = 0; i < this.pendingOps.length; i++) {\n    var transformErr = transformX(this.pendingOps[i], message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  this.version++;\n  this._otApply(message, false);\n  return;\n};\n\n// Called whenever (you guessed it!) the connection state changes. This will\n// happen when we get disconnected & reconnect.\nDoc.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend) {\n    this.flush();\n    this._resubscribe();\n  } else {\n    if (this.inflightOp) {\n      this.pendingOps.unshift(this.inflightOp);\n      this.inflightOp = null;\n    }\n    this.subscribed = false;\n    if (this.inflightFetch.length || this.inflightSubscribe.length) {\n      this.pendingFetch = this.pendingFetch.concat(this.inflightFetch, this.inflightSubscribe);\n      this.inflightFetch.length = 0;\n      this.inflightSubscribe.length = 0;\n    }\n    if (this.inflightUnsubscribe.length) {\n      var callbacks = this.inflightUnsubscribe;\n      this.inflightUnsubscribe = [];\n      callEach(callbacks);\n    }\n  }\n};\n\nDoc.prototype._resubscribe = function() {\n  var callbacks = this.pendingFetch;\n  this.pendingFetch = [];\n\n  if (this.wantSubscribe) {\n    if (callbacks.length) {\n      this.subscribe(function(err) {\n        callEach(callbacks, err);\n      });\n      return;\n    }\n    this.subscribe();\n    return;\n  }\n\n  if (callbacks.length) {\n    this.fetch(function(err) {\n      callEach(callbacks, err);\n    });\n  }\n};\n\n// Request the current document snapshot or ops that bring us up to date\nDoc.prototype.fetch = function(callback) {\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendFetch(this);\n    pushActionCallback(this.inflightFetch, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Fetch the initial document and keep receiving updates\nDoc.prototype.subscribe = function(callback) {\n  this.wantSubscribe = true;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendSubscribe(this);\n    pushActionCallback(this.inflightSubscribe, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Unsubscribe. The data will stay around in local memory, but we'll stop\n// receiving updates\nDoc.prototype.unsubscribe = function(callback) {\n  this.wantSubscribe = false;\n  // The subscribed state should be conservative in indicating when we are\n  // subscribed on the server. We'll actually be unsubscribed some time\n  // between sending the message and hearing back, but we cannot know exactly\n  // when. Thus, immediately mark us as not subscribed\n  this.subscribed = false;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendUnsubscribe(this);\n    pushActionCallback(this.inflightUnsubscribe, isDuplicate, callback);\n    return;\n  }\n  if (callback) process.nextTick(callback);\n};\n\nfunction pushActionCallback(inflight, isDuplicate, callback) {\n  if (isDuplicate) {\n    var lastCallback = inflight.pop();\n    inflight.push(function(err) {\n      lastCallback && lastCallback(err);\n      callback && callback(err);\n    });\n  } else {\n    inflight.push(callback);\n  }\n}\n\n\n// Operations //\n\n// Send the next pending op to the server, if we can.\n//\n// Only one operation can be in-flight at a time. If an operation is already on\n// its way, or we're not currently connected, this method does nothing.\nDoc.prototype.flush = function() {\n  // Ignore if we can't send or we are already sending an op\n  if (!this.connection.canSend || this.inflightOp) return;\n\n  // Send first pending op unless paused\n  if (!this.paused && this.pendingOps.length) {\n    this._sendOp();\n  }\n};\n\n// Helper function to set op to contain a no-op.\nfunction setNoOp(op) {\n  delete op.op;\n  delete op.create;\n  delete op.del;\n}\n\n// Transform server op data by a client op, and vice versa. Ops are edited in place.\nfunction transformX(client, server) {\n  // Order of statements in this function matters. Be especially careful if\n  // refactoring this function\n\n  // A client delete op should dominate if both the server and the client\n  // delete the document. Thus, any ops following the client delete (such as a\n  // subsequent create) will be maintained, since the server op is transformed\n  // to a no-op\n  if (client.del) return setNoOp(server);\n\n  if (server.del) {\n    return new ShareDBError(4017, 'Document was deleted');\n  }\n  if (server.create) {\n    return new ShareDBError(4018, 'Document alredy created');\n  }\n\n  // Ignore no-op coming from server\n  if (!server.op) return;\n\n  // I believe that this should not occur, but check just in case\n  if (client.create) {\n    return new ShareDBError(4018, 'Document already created');\n  }\n\n  // They both edited the document. This is the normal case for this function -\n  // as in, most of the time we'll end up down here.\n  //\n  // You should be wondering why I'm using client.type instead of this.type.\n  // The reason is, if we get ops at an old version of the document, this.type\n  // might be undefined or a totally different type. By pinning the type to the\n  // op data, we make sure the right type has its transform function called.\n  if (client.type.transformX) {\n    var result = client.type.transformX(client.op, server.op);\n    client.op = result[0];\n    server.op = result[1];\n  } else {\n    var clientOp = client.type.transform(client.op, server.op, 'left');\n    var serverOp = client.type.transform(server.op, client.op, 'right');\n    client.op = clientOp;\n    server.op = serverOp;\n  }\n};\n\n/**\n * Applies the operation to the snapshot\n *\n * If the operation is create or delete it emits `create` or `del`. Then the\n * operation is applied to the snapshot and `op` and `after op` are emitted.\n * If the type supports incremental updates and `this.incremental` is true we\n * fire `op` after every small operation.\n *\n * This is the only function to fire the above mentioned events.\n *\n * @private\n */\nDoc.prototype._otApply = function(op, source) {\n  if (op.op) {\n    if (!this.type) {\n      var err = new ShareDBError(4015, 'Cannot apply op to uncreated document. ' + this.collection + '.' + this.id);\n      return this.emit('error', err);\n    }\n\n    // Iteratively apply multi-component remote operations and rollback ops\n    // (source === false) for the default JSON0 OT type. It could use\n    // type.shatter(), but since this code is so specific to use cases for the\n    // JSON0 type and ShareDB explicitly bundles the default type, we might as\n    // well write it this way and save needing to iterate through the op\n    // components twice.\n    //\n    // Ideally, we would not need this extra complexity. However, it is\n    // helpful for implementing bindings that update DOM nodes and other\n    // stateful objects by translating op events directly into corresponding\n    // mutations. Such bindings are most easily written as responding to\n    // individual op components one at a time in order, and it is important\n    // that the snapshot only include updates from the particular op component\n    // at the time of emission. Eliminating this would require rethinking how\n    // such external bindings are implemented.\n    if (!source && this.type === types.defaultType && op.op.length > 1) {\n      if (!this.applyStack) this.applyStack = [];\n      var stackLength = this.applyStack.length;\n      for (var i = 0; i < op.op.length; i++) {\n        var component = op.op[i];\n        var componentOp = {op: [component]};\n        // Transform componentOp against any ops that have been submitted\n        // sychronously inside of an op event handler since we began apply of\n        // our operation\n        for (var j = stackLength; j < this.applyStack.length; j++) {\n          var transformErr = transformX(this.applyStack[j], componentOp);\n          if (transformErr) return this._hardRollback(transformErr);\n        }\n        // Apply the individual op component\n        this.emit('before op', componentOp.op, source);\n        this.data = this.type.apply(this.data, componentOp.op);\n        this.emit('op', componentOp.op, source);\n      }\n      // Pop whatever was submitted since we started applying this op\n      this._popApplyStack(stackLength);\n      return;\n    }\n\n    // The 'before op' event enables clients to pull any necessary data out of\n    // the snapshot before it gets changed\n    this.emit('before op', op.op, source);\n    // Apply the operation to the local data, mutating it in place\n    this.data = this.type.apply(this.data, op.op);\n    // Emit an 'op' event once the local data includes the changes from the\n    // op. For locally submitted ops, this will be synchronously with\n    // submission and before the server or other clients have received the op.\n    // For ops from other clients, this will be after the op has been\n    // committed to the database and published\n    this.emit('op', op.op, source);\n    return;\n  }\n\n  if (op.create) {\n    this._setType(op.create.type);\n    this.data = (this.type.deserialize) ?\n      (this.type.createDeserialized) ?\n        this.type.createDeserialized(op.create.data) :\n        this.type.deserialize(this.type.create(op.create.data)) :\n      this.type.create(op.create.data);\n    this.emit('create', source);\n    return;\n  }\n\n  if (op.del) {\n    var oldData = this.data;\n    this._setType(null);\n    this.emit('del', oldData, source);\n    return;\n  }\n};\n\n\n// ***** Sending operations\n\n// Actually send op to the server.\nDoc.prototype._sendOp = function() {\n  // Wait until we have a src id from the server\n  var src = this.connection.id;\n  if (!src) return;\n\n  // When there is no inflightOp, send the first item in pendingOps. If\n  // there is inflightOp, try sending it again\n  if (!this.inflightOp) {\n    // Send first pending op\n    this.inflightOp = this.pendingOps.shift();\n  }\n  var op = this.inflightOp;\n  if (!op) {\n    var err = new ShareDBError(5010, 'No op to send on call to _sendOp');\n    return this.emit('error', err);\n  }\n\n  // Track data for retrying ops\n  op.sentAt = Date.now();\n  op.retries = (op.retries == null) ? 0 : op.retries + 1;\n\n  // The src + seq number is a unique ID representing this operation. This tuple\n  // is used on the server to detect when ops have been sent multiple times and\n  // on the client to match acknowledgement of an op back to the inflightOp.\n  // Note that the src could be different from this.connection.id after a\n  // reconnect, since an op may still be pending after the reconnection and\n  // this.connection.id will change. In case an op is sent multiple times, we\n  // also need to be careful not to override the original seq value.\n  if (op.seq == null) op.seq = this.connection.seq++;\n\n  this.connection.sendOp(this, op);\n\n  // src isn't needed on the first try, since the server session will have the\n  // same id, but it must be set on the inflightOp in case it is sent again\n  // after a reconnect and the connection's id has changed by then\n  if (op.src == null) op.src = src;\n};\n\n\n// Queues the operation for submission to the server and applies it locally.\n//\n// Internal method called to do the actual work for submit(), create() and del().\n// @private\n//\n// @param op\n// @param [op.op]\n// @param [op.del]\n// @param [op.create]\n// @param [callback] called when operation is submitted\nDoc.prototype._submit = function(op, source, callback) {\n  // Locally submitted ops must always have a truthy source\n  if (!source) source = true;\n\n  // The op contains either op, create, delete, or none of the above (a no-op).\n  if (op.op) {\n    if (!this.type) {\n      var err = new ShareDBError(4015, 'Cannot submit op. Document has not been created. ' + this.collection + '.' + this.id);\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // Try to normalize the op. This removes trailing skip:0's and things like that.\n    if (this.type.normalize) op.op = this.type.normalize(op.op);\n  }\n\n  this._pushOp(op, callback);\n  this._otApply(op, source);\n\n  // The call to flush is delayed so if submit() is called multiple times\n  // synchronously, all the ops are combined before being sent to the server.\n  var doc = this;\n  process.nextTick(function() {\n    doc.flush();\n  });\n};\n\nDoc.prototype._pushOp = function(op, callback) {\n  if (this.applyStack) {\n    // If we are in the process of incrementally applying an operation, don't\n    // compose the op and push it onto the applyStack so it can be transformed\n    // against other components from the op or ops being applied\n    this.applyStack.push(op);\n  } else {\n    // If the type supports composes, try to compose the operation onto the\n    // end of the last pending operation.\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks.push(callback);\n      return;\n    }\n  }\n  // Push on to the pendingOps queue of ops to submit if we didn't compose\n  op.type = this.type;\n  op.callbacks = [callback];\n  this.pendingOps.push(op);\n};\n\nDoc.prototype._popApplyStack = function(to) {\n  if (to > 0) {\n    this.applyStack.length = to;\n    return;\n  }\n  // Once we have completed the outermost apply loop, reset to null and no\n  // longer add ops to the applyStack as they are submitted\n  var op = this.applyStack[0];\n  this.applyStack = null;\n  if (!op) return;\n  // Compose the ops added since the beginning of the apply stack, since we\n  // had to skip compose when they were originally pushed\n  var i = this.pendingOps.indexOf(op);\n  if (i === -1) return;\n  var ops = this.pendingOps.splice(i);\n  for (var i = 0; i < ops.length; i++) {\n    var op = ops[i];\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks = composed.callbacks.concat(op.callbacks);\n    } else {\n      this.pendingOps.push(op);\n    }\n  }\n};\n\n// Try to compose a submitted op into the last pending op. Returns the\n// composed op if it succeeds, undefined otherwise\nDoc.prototype._tryCompose = function(op) {\n  if (this.preventCompose) return;\n\n  // We can only compose into the last pending op. Inflight ops have already\n  // been sent to the server, so we can't modify them\n  var last = this.pendingOps[this.pendingOps.length - 1];\n  if (!last) return;\n\n  // Compose an op into a create by applying it. This effectively makes the op\n  // invisible, as if the document were created including the op originally\n  if (last.create && op.op) {\n    last.create.data = this.type.apply(last.create.data, op.op);\n    return last;\n  }\n\n  // Compose two ops into a single op if supported by the type. Types that\n  // support compose must be able to compose any two ops together\n  if (last.op && op.op && this.type.compose) {\n    last.op = this.type.compose(last.op, op.op);\n    return last;\n  }\n};\n\n// *** Client OT entrypoints.\n\n// Submit an operation to the document.\n//\n// @param operation handled by the OT type\n// @param options  {source: ...}\n// @param [callback] called after operation submitted\n//\n// @fires before op, op, after op\nDoc.prototype.submitOp = function(component, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  var op = {op: component};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Create the document, which in ShareJS semantics means to set its type. Every\n// object implicitly exists in the database but has no data and no type. Create\n// sets the type of the object and can optionally set some initial data on the\n// object, depending on the type.\n//\n// @param data  initial\n// @param type  OT type\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.create = function(data, type, options, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    options = null;\n    type = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!type) {\n    type = types.defaultType.uri;\n  }\n  if (this.type) {\n    var err = new ShareDBError(4016, 'Document already exists');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {create: {type: type, data: data}};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Delete the document. This creates and submits a delete operation to the\n// server. Deleting resets the object's type to null and deletes its data. The\n// document still exists, and still has the version it used to have before you\n// deleted it (well, old version +1).\n//\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.del = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!this.type) {\n    var err = new ShareDBError(4015, 'Document does not exist');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {del: true};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n\n// Stops the document from sending any operations to the server.\nDoc.prototype.pause = function() {\n  this.paused = true;\n};\n\n// Continue sending operations to the server\nDoc.prototype.resume = function() {\n  this.paused = false;\n  this.flush();\n};\n\n\n// *** Receiving operations\n\n// This is called when the server acknowledges an operation from the client.\nDoc.prototype._opAcknowledged = function(message) {\n  if (this.inflightOp.create) {\n    this.version = message.v;\n\n  } else if (message.v !== this.version) {\n    // We should already be at the same version, because the server should\n    // have sent all the ops that have happened before acknowledging our op\n    console.warn('Invalid version from server. Expected: ' + this.version + ' Received: ' + message.v, message);\n\n    // Fetching should get us back to a working document state\n    return this.fetch();\n  }\n\n  // The op was committed successfully. Increment the version number\n  this.version++;\n\n  this._clearInflightOp();\n};\n\nDoc.prototype._rollback = function(err) {\n  // The server has rejected submission of the current operation. Invert by\n  // just the inflight op if possible. If not possible to invert, cancel all\n  // pending ops and fetch the latest from the server to get us back into a\n  // working state, then call back\n  var op = this.inflightOp;\n\n  if (op.op && op.type.invert) {\n    op.op = op.type.invert(op.op);\n\n    // Transform the undo operation by any pending ops.\n    for (var i = 0; i < this.pendingOps.length; i++) {\n      var transformErr = transformX(this.pendingOps[i], op);\n      if (transformErr) return this._hardRollback(transformErr);\n    }\n\n    // ... and apply it locally, reverting the changes.\n    //\n    // This operation is applied to look like it comes from a remote source.\n    // I'm still not 100% sure about this functionality, because its really a\n    // local op. Basically, the problem is that if the client's op is rejected\n    // by the server, the editor window should update to reflect the undo.\n    this._otApply(op, false);\n\n    this._clearInflightOp(err);\n    return;\n  }\n\n  this._hardRollback(err);\n};\n\nDoc.prototype._hardRollback = function(err) {\n  // Cancel all pending ops and reset if we can't invert\n  var op = this.inflightOp;\n  var pending = this.pendingOps;\n  this._setType(null);\n  this.version = null;\n  this.inflightOp = null;\n  this.pendingOps = [];\n\n  // Fetch the latest from the server to get us back into a working state\n  var doc = this;\n  this.fetch(function() {\n    var called = op && callEach(op.callbacks, err);\n    for (var i = 0; i < pending.length; i++) {\n      callEach(pending[i].callbacks, err);\n    }\n    if (err && !called) return doc.emit('error', err);\n  });\n};\n\nDoc.prototype._clearInflightOp = function(err) {\n  var called = callEach(this.inflightOp.callbacks, err);\n\n  this.inflightOp = null;\n  this.flush();\n  this._emitNothingPending();\n\n  if (err && !called) return this.emit('error', err);\n};\n\nfunction callEach(callbacks, err) {\n  var called = false;\n  for (var i = 0; i < callbacks.length; i++) {\n    var callback = callbacks[i];\n    if (callback) {\n      callback(err);\n      called = true;\n    }\n  }\n  return called;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/sharedb/lib/client/doc.js\n// module id = ../chat-codes-services/node_modules/sharedb/lib/client/doc.js\n// module chunks = main","exports.Connection = require('./connection');\nexports.Doc = require('./doc');\nexports.Error = require('../error');\nexports.Query = require('./query');\nexports.types = require('../types');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/sharedb/lib/client/index.js\n// module id = ../chat-codes-services/node_modules/sharedb/lib/client/index.js\n// module chunks = main","var emitter = require('../emitter');\n\n// Queries are live requests to the database for particular sets of fields.\n//\n// The server actively tells the client when there's new data that matches\n// a set of conditions.\nmodule.exports = Query;\nfunction Query(action, connection, id, collection, query, options, callback) {\n  emitter.EventEmitter.call(this);\n\n  // 'qf' or 'qs'\n  this.action = action;\n\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n\n  // The query itself. For mongo, this should look something like {\"data.x\":5}\n  this.query = query;\n\n  // A list of resulting documents. These are actual documents, complete with\n  // data and all the rest. It is possible to pass in an initial results set,\n  // so that a query can be serialized and then re-established\n  this.results = null;\n  if (options && options.results) {\n    this.results = options.results;\n    delete options.results;\n  }\n  this.extra = undefined;\n\n  // Options to pass through with the query\n  this.options = options;\n\n  this.callback = callback;\n  this.ready = false;\n  this.sent = false;\n}\nemitter.mixin(Query);\n\nQuery.prototype.hasPending = function() {\n  return !this.ready;\n};\n\n// Helper for subscribe & fetch, since they share the same message format.\n//\n// This function actually issues the query.\nQuery.prototype.send = function() {\n  if (!this.connection.canSend) return;\n\n  var message = {\n    a: this.action,\n    id: this.id,\n    c: this.collection,\n    q: this.query\n  };\n  if (this.options) {\n    message.o = this.options;\n  }\n  if (this.results) {\n    // Collect the version of all the documents in the current result set so we\n    // don't need to be sent their snapshots again.\n    var results = [];\n    for (var i = 0; i < this.results.length; i++) {\n      var doc = this.results[i];\n      results.push([doc.id, doc.version]);\n    }\n    message.r = results;\n  }\n\n  this.connection.send(message);\n  this.sent = true;\n};\n\n// Destroy the query object. Any subsequent messages for the query will be\n// ignored by the connection.\nQuery.prototype.destroy = function(callback) {\n  if (this.connection.canSend && this.action === 'qs') {\n    this.connection.send({a: 'qu', id: this.id});\n  }\n  this.connection._destroyQuery(this);\n  // There is a callback for consistency, but we don't actually wait for the\n  // server's unsubscribe message currently\n  if (callback) process.nextTick(callback);\n};\n\nQuery.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend && !this.sent) {\n    this.send();\n  } else {\n    this.sent = false;\n  }\n};\n\nQuery.prototype._handleFetch = function(err, data, extra) {\n  // Once a fetch query gets its data, it is destroyed.\n  this.connection._destroyQuery(this);\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleSubscribe = function(err, data, extra) {\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleResponse = function(err, data, extra) {\n  var callback = this.callback;\n  this.callback = null;\n  if (err) return this._finishResponse(err, callback);\n  if (!data) return this._finishResponse(null, callback);\n\n  var query = this;\n  var wait = 1;\n  var finish = function(err) {\n    if (err) return query._finishResponse(err, callback);\n    if (--wait) return;\n    query._finishResponse(null, callback);\n  };\n\n  if (Array.isArray(data)) {\n    wait += data.length;\n    this.results = this._ingestSnapshots(data, finish);\n    this.extra = extra;\n\n  } else {\n    for (var id in data) {\n      wait++;\n      var snapshot = data[id];\n      var doc = this.connection.get(snapshot.c || this.collection, id);\n      doc.ingestSnapshot(snapshot, finish);\n    }\n  }\n\n  finish();\n};\n\nQuery.prototype._ingestSnapshots = function(snapshots, finish) {\n  var results = [];\n  for (var i = 0; i < snapshots.length; i++) {\n    var snapshot = snapshots[i];\n    var doc = this.connection.get(snapshot.c || this.collection, snapshot.d);\n    doc.ingestSnapshot(snapshot, finish);\n    results.push(doc);\n  }\n  return results;\n};\n\nQuery.prototype._finishResponse = function(err, callback) {\n  this.emit('ready');\n  this.ready = true;\n  if (err) {\n    this.connection._destroyQuery(this);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  if (callback) callback(null, this.results, this.extra);\n};\n\nQuery.prototype._handleError = function(err) {\n  this.emit('error', err);\n};\n\nQuery.prototype._handleDiff = function(diff) {\n  // We need to go through the list twice. First, we'll ingest all the new\n  // documents. After that we'll emit events and actually update our list.\n  // This avoids race conditions around setting documents to be subscribed &\n  // unsubscribing documents in event callbacks.\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    if (d.type === 'insert') d.values = this._ingestSnapshots(d.values);\n  }\n\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    switch (d.type) {\n      case 'insert':\n        var newDocs = d.values;\n        Array.prototype.splice.apply(this.results, [d.index, 0].concat(newDocs));\n        this.emit('insert', newDocs, d.index);\n        break;\n      case 'remove':\n        var howMany = d.howMany || 1;\n        var removed = this.results.splice(d.index, howMany);\n        this.emit('remove', removed, d.index);\n        break;\n      case 'move':\n        var howMany = d.howMany || 1;\n        var docs = this.results.splice(d.from, howMany);\n        Array.prototype.splice.apply(this.results, [d.to, 0].concat(docs));\n        this.emit('move', docs, d.from, d.to);\n        break;\n    }\n  }\n\n  this.emit('changed', this.results);\n};\n\nQuery.prototype._handleExtra = function(extra) {\n  this.extra = extra;\n  this.emit('extra', extra);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/sharedb/lib/client/query.js\n// module id = ../chat-codes-services/node_modules/sharedb/lib/client/query.js\n// module chunks = main","var EventEmitter = require('events').EventEmitter;\n\nexports.EventEmitter = EventEmitter;\nexports.mixin = mixin;\n\nfunction mixin(Constructor) {\n  for (var key in EventEmitter.prototype) {\n    Constructor.prototype[key] = EventEmitter.prototype[key];\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/sharedb/lib/emitter.js\n// module id = ../chat-codes-services/node_modules/sharedb/lib/emitter.js\n// module chunks = main","var makeError = require('make-error');\n\nfunction ShareDBError(code, message) {\n  ShareDBError.super.call(this, message);\n  this.code = code;\n}\n\nmakeError(ShareDBError);\n\nmodule.exports = ShareDBError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/sharedb/lib/error.js\n// module id = ../chat-codes-services/node_modules/sharedb/lib/error.js\n// module chunks = main","\nexports.defaultType = require('ot-json0').type;\n\nexports.map = {};\n\nexports.register = function(type) {\n  if (type.name) exports.map[type.name] = type;\n  if (type.uri) exports.map[type.uri] = type;\n};\n\nexports.register(exports.defaultType);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/sharedb/lib/types.js\n// module id = ../chat-codes-services/node_modules/sharedb/lib/types.js\n// module chunks = main","\nexports.doNothing = doNothing;\nfunction doNothing() {}\n\nexports.hasKeys = function(object) {\n  for (var key in object) return true;\n  return false;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/sharedb/lib/util.js\n// module id = ../chat-codes-services/node_modules/sharedb/lib/util.js\n// module chunks = main",";/*! showdown v 1.8.6 - 22-12-2017 */\r\n(function(){\r\n/**\n * Created by Tivie on 13-07-2015.\n */\n\nfunction getDefaultOpts (simple) {\n  'use strict';\n\n  var defaultOptions = {\n    omitExtraWLInCodeBlocks: {\n      defaultValue: false,\n      describe: 'Omit the default extra whiteline added to code blocks',\n      type: 'boolean'\n    },\n    noHeaderId: {\n      defaultValue: false,\n      describe: 'Turn on/off generated header id',\n      type: 'boolean'\n    },\n    prefixHeaderId: {\n      defaultValue: false,\n      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \\'section-\\' prefix',\n      type: 'string'\n    },\n    rawPrefixHeaderId: {\n      defaultValue: false,\n      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the \" char is used in the prefix)',\n      type: 'boolean'\n    },\n    ghCompatibleHeaderId: {\n      defaultValue: false,\n      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',\n      type: 'boolean'\n    },\n    rawHeaderId: {\n      defaultValue: false,\n      describe: 'Remove only spaces, \\' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',\n      type: 'boolean'\n    },\n    headerLevelStart: {\n      defaultValue: false,\n      describe: 'The header blocks level start',\n      type: 'integer'\n    },\n    parseImgDimensions: {\n      defaultValue: false,\n      describe: 'Turn on/off image dimension parsing',\n      type: 'boolean'\n    },\n    simplifiedAutoLink: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM autolink style',\n      type: 'boolean'\n    },\n    excludeTrailingPunctuationFromURLs: {\n      defaultValue: false,\n      describe: 'Excludes trailing punctuation from links generated with autoLinking',\n      type: 'boolean'\n    },\n    literalMidWordUnderscores: {\n      defaultValue: false,\n      describe: 'Parse midword underscores as literal underscores',\n      type: 'boolean'\n    },\n    literalMidWordAsterisks: {\n      defaultValue: false,\n      describe: 'Parse midword asterisks as literal asterisks',\n      type: 'boolean'\n    },\n    strikethrough: {\n      defaultValue: false,\n      describe: 'Turn on/off strikethrough support',\n      type: 'boolean'\n    },\n    tables: {\n      defaultValue: false,\n      describe: 'Turn on/off tables support',\n      type: 'boolean'\n    },\n    tablesHeaderId: {\n      defaultValue: false,\n      describe: 'Add an id to table headers',\n      type: 'boolean'\n    },\n    ghCodeBlocks: {\n      defaultValue: true,\n      describe: 'Turn on/off GFM fenced code blocks support',\n      type: 'boolean'\n    },\n    tasklists: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM tasklist support',\n      type: 'boolean'\n    },\n    smoothLivePreview: {\n      defaultValue: false,\n      describe: 'Prevents weird effects in live previews due to incomplete input',\n      type: 'boolean'\n    },\n    smartIndentationFix: {\n      defaultValue: false,\n      description: 'Tries to smartly fix indentation in es6 strings',\n      type: 'boolean'\n    },\n    disableForced4SpacesIndentedSublists: {\n      defaultValue: false,\n      description: 'Disables the requirement of indenting nested sublists by 4 spaces',\n      type: 'boolean'\n    },\n    simpleLineBreaks: {\n      defaultValue: false,\n      description: 'Parses simple line breaks as <br> (GFM Style)',\n      type: 'boolean'\n    },\n    requireSpaceBeforeHeadingText: {\n      defaultValue: false,\n      description: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',\n      type: 'boolean'\n    },\n    ghMentions: {\n      defaultValue: false,\n      description: 'Enables github @mentions',\n      type: 'boolean'\n    },\n    ghMentionsLink: {\n      defaultValue: 'https://github.com/{u}',\n      description: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',\n      type: 'string'\n    },\n    encodeEmails: {\n      defaultValue: true,\n      description: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',\n      type: 'boolean'\n    },\n    openLinksInNewWindow: {\n      defaultValue: false,\n      description: 'Open all links in new windows',\n      type: 'boolean'\n    },\n    backslashEscapesHTMLTags: {\n      defaultValue: false,\n      description: 'Support for HTML Tag escaping. ex: \\<div>foo\\</div>',\n      type: 'boolean'\n    },\n    emoji: {\n      defaultValue: false,\n      description: 'Enable emoji support. Ex: `this is a :smile: emoji`',\n      type: 'boolean'\n    },\n    underline: {\n      defaultValue: false,\n      description: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',\n      type: 'boolean'\n    },\n    completeHTMLDocument: {\n      defaultValue: false,\n      description: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',\n      type: 'boolean'\n    },\n    metadata: {\n      defaultValue: false,\n      description: 'Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).',\n      type: 'boolean'\n    },\n    splitAdjacentBlockquotes: {\n      defaultValue: false,\n      description: 'Split adjacent blockquote blocks',\n      type: 'boolean'\n    }\n  };\n  if (simple === false) {\n    return JSON.parse(JSON.stringify(defaultOptions));\n  }\n  var ret = {};\n  for (var opt in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(opt)) {\n      ret[opt] = defaultOptions[opt].defaultValue;\n    }\n  }\n  return ret;\n}\n\nfunction allOptionsOn () {\n  'use strict';\n  var options = getDefaultOpts(true),\n      ret = {};\n  for (var opt in options) {\n    if (options.hasOwnProperty(opt)) {\n      ret[opt] = true;\n    }\n  }\n  return ret;\n}\n\r\n/**\n * Created by Tivie on 06-01-2015.\n */\n\n// Private properties\nvar showdown = {},\n    parsers = {},\n    extensions = {},\n    globalOptions = getDefaultOpts(true),\n    setFlavor = 'vanilla',\n    flavor = {\n      github: {\n        omitExtraWLInCodeBlocks:              true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        disableForced4SpacesIndentedSublists: true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghCompatibleHeaderId:                 true,\n        ghMentions:                           true,\n        backslashEscapesHTMLTags:             true,\n        emoji:                                true,\n        splitAdjacentBlockquotes:             true\n      },\n      original: {\n        noHeaderId:                           true,\n        ghCodeBlocks:                         false\n      },\n      ghost: {\n        omitExtraWLInCodeBlocks:              true,\n        parseImgDimensions:                   true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        smoothLivePreview:                    true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghMentions:                           false,\n        encodeEmails:                         true\n      },\n      vanilla: getDefaultOpts(true),\n      allOn: allOptionsOn()\n    };\n\n/**\n * helper namespace\n * @type {{}}\n */\nshowdown.helper = {};\n\n/**\n * TODO LEGACY SUPPORT CODE\n * @type {{}}\n */\nshowdown.extensions = {};\n\n/**\n * Set a global option\n * @static\n * @param {string} key\n * @param {*} value\n * @returns {showdown}\n */\nshowdown.setOption = function (key, value) {\n  'use strict';\n  globalOptions[key] = value;\n  return this;\n};\n\n/**\n * Get a global option\n * @static\n * @param {string} key\n * @returns {*}\n */\nshowdown.getOption = function (key) {\n  'use strict';\n  return globalOptions[key];\n};\n\n/**\n * Get the global options\n * @static\n * @returns {{}}\n */\nshowdown.getOptions = function () {\n  'use strict';\n  return globalOptions;\n};\n\n/**\n * Reset global options to the default values\n * @static\n */\nshowdown.resetOptions = function () {\n  'use strict';\n  globalOptions = getDefaultOpts(true);\n};\n\n/**\n * Set the flavor showdown should use as default\n * @param {string} name\n */\nshowdown.setFlavor = function (name) {\n  'use strict';\n  if (!flavor.hasOwnProperty(name)) {\n    throw Error(name + ' flavor was not found');\n  }\n  showdown.resetOptions();\n  var preset = flavor[name];\n  setFlavor = name;\n  for (var option in preset) {\n    if (preset.hasOwnProperty(option)) {\n      globalOptions[option] = preset[option];\n    }\n  }\n};\n\n/**\n * Get the currently set flavor\n * @returns {string}\n */\nshowdown.getFlavor = function () {\n  'use strict';\n  return setFlavor;\n};\n\n/**\n * Get the options of a specified flavor. Returns undefined if the flavor was not found\n * @param {string} name Name of the flavor\n * @returns {{}|undefined}\n */\nshowdown.getFlavorOptions = function (name) {\n  'use strict';\n  if (flavor.hasOwnProperty(name)) {\n    return flavor[name];\n  }\n};\n\n/**\n * Get the default options\n * @static\n * @param {boolean} [simple=true]\n * @returns {{}}\n */\nshowdown.getDefaultOptions = function (simple) {\n  'use strict';\n  return getDefaultOpts(simple);\n};\n\n/**\n * Get or set a subParser\n *\n * subParser(name)       - Get a registered subParser\n * subParser(name, func) - Register a subParser\n * @static\n * @param {string} name\n * @param {function} [func]\n * @returns {*}\n */\nshowdown.subParser = function (name, func) {\n  'use strict';\n  if (showdown.helper.isString(name)) {\n    if (typeof func !== 'undefined') {\n      parsers[name] = func;\n    } else {\n      if (parsers.hasOwnProperty(name)) {\n        return parsers[name];\n      } else {\n        throw Error('SubParser named ' + name + ' not registered!');\n      }\n    }\n  }\n};\n\n/**\n * Gets or registers an extension\n * @static\n * @param {string} name\n * @param {object|function=} ext\n * @returns {*}\n */\nshowdown.extension = function (name, ext) {\n  'use strict';\n\n  if (!showdown.helper.isString(name)) {\n    throw Error('Extension \\'name\\' must be a string');\n  }\n\n  name = showdown.helper.stdExtName(name);\n\n  // Getter\n  if (showdown.helper.isUndefined(ext)) {\n    if (!extensions.hasOwnProperty(name)) {\n      throw Error('Extension named ' + name + ' is not registered!');\n    }\n    return extensions[name];\n\n    // Setter\n  } else {\n    // Expand extension if it's wrapped in a function\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    // Ensure extension is an array\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExtension = validate(ext, name);\n\n    if (validExtension.valid) {\n      extensions[name] = ext;\n    } else {\n      throw Error(validExtension.error);\n    }\n  }\n};\n\n/**\n * Gets all extensions registered\n * @returns {{}}\n */\nshowdown.getAllExtensions = function () {\n  'use strict';\n  return extensions;\n};\n\n/**\n * Remove an extension\n * @param {string} name\n */\nshowdown.removeExtension = function (name) {\n  'use strict';\n  delete extensions[name];\n};\n\n/**\n * Removes all extensions\n */\nshowdown.resetExtensions = function () {\n  'use strict';\n  extensions = {};\n};\n\n/**\n * Validate extension\n * @param {array} extension\n * @param {string} name\n * @returns {{valid: boolean, error: string}}\n */\nfunction validate (extension, name) {\n  'use strict';\n\n  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',\n      ret = {\n        valid: true,\n        error: ''\n      };\n\n  if (!showdown.helper.isArray(extension)) {\n    extension = [extension];\n  }\n\n  for (var i = 0; i < extension.length; ++i) {\n    var baseMsg = errMsg + ' sub-extension ' + i + ': ',\n        ext = extension[i];\n    if (typeof ext !== 'object') {\n      ret.valid = false;\n      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';\n      return ret;\n    }\n\n    if (!showdown.helper.isString(ext.type)) {\n      ret.valid = false;\n      ret.error = baseMsg + 'property \"type\" must be a string, but ' + typeof ext.type + ' given';\n      return ret;\n    }\n\n    var type = ext.type = ext.type.toLowerCase();\n\n    // normalize extension type\n    if (type === 'language') {\n      type = ext.type = 'lang';\n    }\n\n    if (type === 'html') {\n      type = ext.type = 'output';\n    }\n\n    if (type !== 'lang' && type !== 'output' && type !== 'listener') {\n      ret.valid = false;\n      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: \"lang/language\", \"output/html\" or \"listener\"';\n      return ret;\n    }\n\n    if (type === 'listener') {\n      if (showdown.helper.isUndefined(ext.listeners)) {\n        ret.valid = false;\n        ret.error = baseMsg + '. Extensions of type \"listener\" must have a property called \"listeners\"';\n        return ret;\n      }\n    } else {\n      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {\n        ret.valid = false;\n        ret.error = baseMsg + type + ' extensions must define either a \"regex\" property or a \"filter\" method';\n        return ret;\n      }\n    }\n\n    if (ext.listeners) {\n      if (typeof ext.listeners !== 'object') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"listeners\" property must be an object but ' + typeof ext.listeners + ' given';\n        return ret;\n      }\n      for (var ln in ext.listeners) {\n        if (ext.listeners.hasOwnProperty(ln)) {\n          if (typeof ext.listeners[ln] !== 'function') {\n            ret.valid = false;\n            ret.error = baseMsg + '\"listeners\" property must be an hash of [event name]: [callback]. listeners.' + ln +\n              ' must be a function but ' + typeof ext.listeners[ln] + ' given';\n            return ret;\n          }\n        }\n      }\n    }\n\n    if (ext.filter) {\n      if (typeof ext.filter !== 'function') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"filter\" must be a function, but ' + typeof ext.filter + ' given';\n        return ret;\n      }\n    } else if (ext.regex) {\n      if (showdown.helper.isString(ext.regex)) {\n        ext.regex = new RegExp(ext.regex, 'g');\n      }\n      if (!(ext.regex instanceof RegExp)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';\n        return ret;\n      }\n      if (showdown.helper.isUndefined(ext.replace)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" extensions must implement a replace string or function';\n        return ret;\n      }\n    }\n  }\n  return ret;\n}\n\n/**\n * Validate extension\n * @param {object} ext\n * @returns {boolean}\n */\nshowdown.validateExtension = function (ext) {\n  'use strict';\n\n  var validateExtension = validate(ext, null);\n  if (!validateExtension.valid) {\n    console.warn(validateExtension.error);\n    return false;\n  }\n  return true;\n};\n\r\n/**\n * showdownjs helper functions\n */\n\nif (!showdown.hasOwnProperty('helper')) {\n  showdown.helper = {};\n}\n\n/**\n * Check if var is string\n * @static\n * @param {string} a\n * @returns {boolean}\n */\nshowdown.helper.isString = function (a) {\n  'use strict';\n  return (typeof a === 'string' || a instanceof String);\n};\n\n/**\n * Check if var is a function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isFunction = function (a) {\n  'use strict';\n  var getType = {};\n  return a && getType.toString.call(a) === '[object Function]';\n};\n\n/**\n * isArray helper function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isArray = function (a) {\n  'use strict';\n  return Array.isArray(a);\n};\n\n/**\n * Check if value is undefined\n * @static\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n */\nshowdown.helper.isUndefined = function (value) {\n  'use strict';\n  return typeof value === 'undefined';\n};\n\n/**\n * ForEach helper function\n * Iterates over Arrays and Objects (own properties only)\n * @static\n * @param {*} obj\n * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object\n */\nshowdown.helper.forEach = function (obj, callback) {\n  'use strict';\n  // check if obj is defined\n  if (showdown.helper.isUndefined(obj)) {\n    throw new Error('obj param is required');\n  }\n\n  if (showdown.helper.isUndefined(callback)) {\n    throw new Error('callback param is required');\n  }\n\n  if (!showdown.helper.isFunction(callback)) {\n    throw new Error('callback param must be a function/closure');\n  }\n\n  if (typeof obj.forEach === 'function') {\n    obj.forEach(callback);\n  } else if (showdown.helper.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      callback(obj[i], i, obj);\n    }\n  } else if (typeof (obj) === 'object') {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        callback(obj[prop], prop, obj);\n      }\n    }\n  } else {\n    throw new Error('obj does not seem to be an array or an iterable object');\n  }\n};\n\n/**\n * Standardidize extension name\n * @static\n * @param {string} s extension name\n * @returns {string}\n */\nshowdown.helper.stdExtName = function (s) {\n  'use strict';\n  return s.replace(/[_?*+\\/\\\\.^-]/g, '').replace(/\\s/g, '').toLowerCase();\n};\n\nfunction escapeCharactersCallback (wholeMatch, m1) {\n  'use strict';\n  var charCodeToEscape = m1.charCodeAt(0);\n  return 'E' + charCodeToEscape + 'E';\n}\n\n/**\n * Callback used to escape characters when passing through String.replace\n * @static\n * @param {string} wholeMatch\n * @param {string} m1\n * @returns {string}\n */\nshowdown.helper.escapeCharactersCallback = escapeCharactersCallback;\n\n/**\n * Escape characters in a string\n * @static\n * @param {string} text\n * @param {string} charsToEscape\n * @param {boolean} afterBackslash\n * @returns {XML|string|void|*}\n */\nshowdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {\n  'use strict';\n  // First we have to escape the escape characters so that\n  // we can build a character class out of them\n  var regexString = '([' + charsToEscape.replace(/([\\[\\]\\\\])/g, '\\\\$1') + '])';\n\n  if (afterBackslash) {\n    regexString = '\\\\\\\\' + regexString;\n  }\n\n  var regex = new RegExp(regexString, 'g');\n  text = text.replace(regex, escapeCharactersCallback);\n\n  return text;\n};\n\nvar rgxFindMatchPos = function (str, left, right, flags) {\n  'use strict';\n  var f = flags || '',\n      g = f.indexOf('g') > -1,\n      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),\n      l = new RegExp(left, f.replace(/g/g, '')),\n      pos = [],\n      t, s, m, start, end;\n\n  do {\n    t = 0;\n    while ((m = x.exec(str))) {\n      if (l.test(m[0])) {\n        if (!(t++)) {\n          s = x.lastIndex;\n          start = s - m[0].length;\n        }\n      } else if (t) {\n        if (!--t) {\n          end = m.index + m[0].length;\n          var obj = {\n            left: {start: start, end: s},\n            match: {start: s, end: m.index},\n            right: {start: m.index, end: end},\n            wholeMatch: {start: start, end: end}\n          };\n          pos.push(obj);\n          if (!g) {\n            return pos;\n          }\n        }\n      }\n    }\n  } while (t && (x.lastIndex = s));\n\n  return pos;\n};\n\n/**\n * matchRecursiveRegExp\n *\n * (c) 2007 Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * Accepts a string to search, a left and right format delimiter\n * as regex patterns, and optional regex flags. Returns an array\n * of matches, allowing nested instances of left/right delimiters.\n * Use the \"g\" flag to return all matches, otherwise only the\n * first is returned. Be careful to ensure that the left and\n * right format delimiters produce mutually exclusive matches.\n * Backreferences are not supported within the right delimiter\n * due to how it is internally combined with the left delimiter.\n * When matching strings whose format delimiters are unbalanced\n * to the left or right, the output is intentionally as a\n * conventional regex library with recursion support would\n * produce, e.g. \"<<x>\" and \"<x>>\" both produce [\"x\"] when using\n * \"<\" and \">\" as the delimiters (both strings contain a single,\n * balanced instance of \"<x>\").\n *\n * examples:\n * matchRecursiveRegExp(\"test\", \"\\\\(\", \"\\\\)\")\n * returns: []\n * matchRecursiveRegExp(\"<t<<e>><s>>t<>\", \"<\", \">\", \"g\")\n * returns: [\"t<<e>><s>\", \"\"]\n * matchRecursiveRegExp(\"<div id=\\\"x\\\">test</div>\", \"<div\\\\b[^>]*>\", \"</div>\", \"gi\")\n * returns: [\"test\"]\n */\nshowdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {\n  'use strict';\n\n  var matchPos = rgxFindMatchPos (str, left, right, flags),\n      results = [];\n\n  for (var i = 0; i < matchPos.length; ++i) {\n    results.push([\n      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n      str.slice(matchPos[i].match.start, matchPos[i].match.end),\n      str.slice(matchPos[i].left.start, matchPos[i].left.end),\n      str.slice(matchPos[i].right.start, matchPos[i].right.end)\n    ]);\n  }\n  return results;\n};\n\n/**\n *\n * @param {string} str\n * @param {string|function} replacement\n * @param {string} left\n * @param {string} right\n * @param {string} flags\n * @returns {string}\n */\nshowdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {\n  'use strict';\n\n  if (!showdown.helper.isFunction(replacement)) {\n    var repStr = replacement;\n    replacement = function () {\n      return repStr;\n    };\n  }\n\n  var matchPos = rgxFindMatchPos(str, left, right, flags),\n      finalStr = str,\n      lng = matchPos.length;\n\n  if (lng > 0) {\n    var bits = [];\n    if (matchPos[0].wholeMatch.start !== 0) {\n      bits.push(str.slice(0, matchPos[0].wholeMatch.start));\n    }\n    for (var i = 0; i < lng; ++i) {\n      bits.push(\n        replacement(\n          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n          str.slice(matchPos[i].match.start, matchPos[i].match.end),\n          str.slice(matchPos[i].left.start, matchPos[i].left.end),\n          str.slice(matchPos[i].right.start, matchPos[i].right.end)\n        )\n      );\n      if (i < lng - 1) {\n        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));\n      }\n    }\n    if (matchPos[lng - 1].wholeMatch.end < str.length) {\n      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));\n    }\n    finalStr = bits.join('');\n  }\n  return finalStr;\n};\n\n/**\n * Returns the index within the passed String object of the first occurrence of the specified regex,\n * starting the search at fromIndex. Returns -1 if the value is not found.\n *\n * @param {string} str string to search\n * @param {RegExp} regex Regular expression to search\n * @param {int} [fromIndex = 0] Index to start the search\n * @returns {Number}\n * @throws InvalidArgumentError\n */\nshowdown.helper.regexIndexOf = function (str, regex, fromIndex) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  if (regex instanceof RegExp === false) {\n    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';\n  }\n  var indexOf = str.substring(fromIndex || 0).search(regex);\n  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;\n};\n\n/**\n * Splits the passed string object at the defined index, and returns an array composed of the two substrings\n * @param {string} str string to split\n * @param {int} index index to split string at\n * @returns {[string,string]}\n * @throws InvalidArgumentError\n */\nshowdown.helper.splitAtIndex = function (str, index) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  return [str.substring(0, index), str.substring(index)];\n};\n\n/**\n * Obfuscate an e-mail address through the use of Character Entities,\n * transforming ASCII characters into their equivalent decimal or hex entities.\n *\n * Since it has a random component, subsequent calls to this function produce different results\n *\n * @param {string} mail\n * @returns {string}\n */\nshowdown.helper.encodeEmailAddress = function (mail) {\n  'use strict';\n  var encode = [\n    function (ch) {\n      return '&#' + ch.charCodeAt(0) + ';';\n    },\n    function (ch) {\n      return '&#x' + ch.charCodeAt(0).toString(16) + ';';\n    },\n    function (ch) {\n      return ch;\n    }\n  ];\n\n  mail = mail.replace(/./g, function (ch) {\n    if (ch === '@') {\n      // this *must* be encoded. I insist.\n      ch = encode[Math.floor(Math.random() * 2)](ch);\n    } else {\n      var r = Math.random();\n      // roughly 10% raw, 45% hex, 45% dec\n      ch = (\n        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)\n      );\n    }\n    return ch;\n  });\n\n  return mail;\n};\n\n/**\n * POLYFILLS\n */\n// use this instead of builtin is undefined for IE8 compatibility\nif (typeof(console) === 'undefined') {\n  console = {\n    warn: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    log: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    error: function (msg) {\n      'use strict';\n      throw msg;\n    }\n  };\n}\n\n/**\n * Common regexes.\n * We declare some common regexes to improve performance\n */\nshowdown.helper.regexes = {\n  asteriskDashAndColon: /([*_:~])/g\n};\n\n/**\n * EMOJIS LIST\n */\nshowdown.helper.emojis = {\n  '+1':'\\ud83d\\udc4d',\n  '-1':'\\ud83d\\udc4e',\n  '100':'\\ud83d\\udcaf',\n  '1234':'\\ud83d\\udd22',\n  '1st_place_medal':'\\ud83e\\udd47',\n  '2nd_place_medal':'\\ud83e\\udd48',\n  '3rd_place_medal':'\\ud83e\\udd49',\n  '8ball':'\\ud83c\\udfb1',\n  'a':'\\ud83c\\udd70\\ufe0f',\n  'ab':'\\ud83c\\udd8e',\n  'abc':'\\ud83d\\udd24',\n  'abcd':'\\ud83d\\udd21',\n  'accept':'\\ud83c\\ude51',\n  'aerial_tramway':'\\ud83d\\udea1',\n  'airplane':'\\u2708\\ufe0f',\n  'alarm_clock':'\\u23f0',\n  'alembic':'\\u2697\\ufe0f',\n  'alien':'\\ud83d\\udc7d',\n  'ambulance':'\\ud83d\\ude91',\n  'amphora':'\\ud83c\\udffa',\n  'anchor':'\\u2693\\ufe0f',\n  'angel':'\\ud83d\\udc7c',\n  'anger':'\\ud83d\\udca2',\n  'angry':'\\ud83d\\ude20',\n  'anguished':'\\ud83d\\ude27',\n  'ant':'\\ud83d\\udc1c',\n  'apple':'\\ud83c\\udf4e',\n  'aquarius':'\\u2652\\ufe0f',\n  'aries':'\\u2648\\ufe0f',\n  'arrow_backward':'\\u25c0\\ufe0f',\n  'arrow_double_down':'\\u23ec',\n  'arrow_double_up':'\\u23eb',\n  'arrow_down':'\\u2b07\\ufe0f',\n  'arrow_down_small':'\\ud83d\\udd3d',\n  'arrow_forward':'\\u25b6\\ufe0f',\n  'arrow_heading_down':'\\u2935\\ufe0f',\n  'arrow_heading_up':'\\u2934\\ufe0f',\n  'arrow_left':'\\u2b05\\ufe0f',\n  'arrow_lower_left':'\\u2199\\ufe0f',\n  'arrow_lower_right':'\\u2198\\ufe0f',\n  'arrow_right':'\\u27a1\\ufe0f',\n  'arrow_right_hook':'\\u21aa\\ufe0f',\n  'arrow_up':'\\u2b06\\ufe0f',\n  'arrow_up_down':'\\u2195\\ufe0f',\n  'arrow_up_small':'\\ud83d\\udd3c',\n  'arrow_upper_left':'\\u2196\\ufe0f',\n  'arrow_upper_right':'\\u2197\\ufe0f',\n  'arrows_clockwise':'\\ud83d\\udd03',\n  'arrows_counterclockwise':'\\ud83d\\udd04',\n  'art':'\\ud83c\\udfa8',\n  'articulated_lorry':'\\ud83d\\ude9b',\n  'artificial_satellite':'\\ud83d\\udef0',\n  'astonished':'\\ud83d\\ude32',\n  'athletic_shoe':'\\ud83d\\udc5f',\n  'atm':'\\ud83c\\udfe7',\n  'atom_symbol':'\\u269b\\ufe0f',\n  'avocado':'\\ud83e\\udd51',\n  'b':'\\ud83c\\udd71\\ufe0f',\n  'baby':'\\ud83d\\udc76',\n  'baby_bottle':'\\ud83c\\udf7c',\n  'baby_chick':'\\ud83d\\udc24',\n  'baby_symbol':'\\ud83d\\udebc',\n  'back':'\\ud83d\\udd19',\n  'bacon':'\\ud83e\\udd53',\n  'badminton':'\\ud83c\\udff8',\n  'baggage_claim':'\\ud83d\\udec4',\n  'baguette_bread':'\\ud83e\\udd56',\n  'balance_scale':'\\u2696\\ufe0f',\n  'balloon':'\\ud83c\\udf88',\n  'ballot_box':'\\ud83d\\uddf3',\n  'ballot_box_with_check':'\\u2611\\ufe0f',\n  'bamboo':'\\ud83c\\udf8d',\n  'banana':'\\ud83c\\udf4c',\n  'bangbang':'\\u203c\\ufe0f',\n  'bank':'\\ud83c\\udfe6',\n  'bar_chart':'\\ud83d\\udcca',\n  'barber':'\\ud83d\\udc88',\n  'baseball':'\\u26be\\ufe0f',\n  'basketball':'\\ud83c\\udfc0',\n  'basketball_man':'\\u26f9\\ufe0f',\n  'basketball_woman':'\\u26f9\\ufe0f&zwj;\\u2640\\ufe0f',\n  'bat':'\\ud83e\\udd87',\n  'bath':'\\ud83d\\udec0',\n  'bathtub':'\\ud83d\\udec1',\n  'battery':'\\ud83d\\udd0b',\n  'beach_umbrella':'\\ud83c\\udfd6',\n  'bear':'\\ud83d\\udc3b',\n  'bed':'\\ud83d\\udecf',\n  'bee':'\\ud83d\\udc1d',\n  'beer':'\\ud83c\\udf7a',\n  'beers':'\\ud83c\\udf7b',\n  'beetle':'\\ud83d\\udc1e',\n  'beginner':'\\ud83d\\udd30',\n  'bell':'\\ud83d\\udd14',\n  'bellhop_bell':'\\ud83d\\udece',\n  'bento':'\\ud83c\\udf71',\n  'biking_man':'\\ud83d\\udeb4',\n  'bike':'\\ud83d\\udeb2',\n  'biking_woman':'\\ud83d\\udeb4&zwj;\\u2640\\ufe0f',\n  'bikini':'\\ud83d\\udc59',\n  'biohazard':'\\u2623\\ufe0f',\n  'bird':'\\ud83d\\udc26',\n  'birthday':'\\ud83c\\udf82',\n  'black_circle':'\\u26ab\\ufe0f',\n  'black_flag':'\\ud83c\\udff4',\n  'black_heart':'\\ud83d\\udda4',\n  'black_joker':'\\ud83c\\udccf',\n  'black_large_square':'\\u2b1b\\ufe0f',\n  'black_medium_small_square':'\\u25fe\\ufe0f',\n  'black_medium_square':'\\u25fc\\ufe0f',\n  'black_nib':'\\u2712\\ufe0f',\n  'black_small_square':'\\u25aa\\ufe0f',\n  'black_square_button':'\\ud83d\\udd32',\n  'blonde_man':'\\ud83d\\udc71',\n  'blonde_woman':'\\ud83d\\udc71&zwj;\\u2640\\ufe0f',\n  'blossom':'\\ud83c\\udf3c',\n  'blowfish':'\\ud83d\\udc21',\n  'blue_book':'\\ud83d\\udcd8',\n  'blue_car':'\\ud83d\\ude99',\n  'blue_heart':'\\ud83d\\udc99',\n  'blush':'\\ud83d\\ude0a',\n  'boar':'\\ud83d\\udc17',\n  'boat':'\\u26f5\\ufe0f',\n  'bomb':'\\ud83d\\udca3',\n  'book':'\\ud83d\\udcd6',\n  'bookmark':'\\ud83d\\udd16',\n  'bookmark_tabs':'\\ud83d\\udcd1',\n  'books':'\\ud83d\\udcda',\n  'boom':'\\ud83d\\udca5',\n  'boot':'\\ud83d\\udc62',\n  'bouquet':'\\ud83d\\udc90',\n  'bowing_man':'\\ud83d\\ude47',\n  'bow_and_arrow':'\\ud83c\\udff9',\n  'bowing_woman':'\\ud83d\\ude47&zwj;\\u2640\\ufe0f',\n  'bowling':'\\ud83c\\udfb3',\n  'boxing_glove':'\\ud83e\\udd4a',\n  'boy':'\\ud83d\\udc66',\n  'bread':'\\ud83c\\udf5e',\n  'bride_with_veil':'\\ud83d\\udc70',\n  'bridge_at_night':'\\ud83c\\udf09',\n  'briefcase':'\\ud83d\\udcbc',\n  'broken_heart':'\\ud83d\\udc94',\n  'bug':'\\ud83d\\udc1b',\n  'building_construction':'\\ud83c\\udfd7',\n  'bulb':'\\ud83d\\udca1',\n  'bullettrain_front':'\\ud83d\\ude85',\n  'bullettrain_side':'\\ud83d\\ude84',\n  'burrito':'\\ud83c\\udf2f',\n  'bus':'\\ud83d\\ude8c',\n  'business_suit_levitating':'\\ud83d\\udd74',\n  'busstop':'\\ud83d\\ude8f',\n  'bust_in_silhouette':'\\ud83d\\udc64',\n  'busts_in_silhouette':'\\ud83d\\udc65',\n  'butterfly':'\\ud83e\\udd8b',\n  'cactus':'\\ud83c\\udf35',\n  'cake':'\\ud83c\\udf70',\n  'calendar':'\\ud83d\\udcc6',\n  'call_me_hand':'\\ud83e\\udd19',\n  'calling':'\\ud83d\\udcf2',\n  'camel':'\\ud83d\\udc2b',\n  'camera':'\\ud83d\\udcf7',\n  'camera_flash':'\\ud83d\\udcf8',\n  'camping':'\\ud83c\\udfd5',\n  'cancer':'\\u264b\\ufe0f',\n  'candle':'\\ud83d\\udd6f',\n  'candy':'\\ud83c\\udf6c',\n  'canoe':'\\ud83d\\udef6',\n  'capital_abcd':'\\ud83d\\udd20',\n  'capricorn':'\\u2651\\ufe0f',\n  'car':'\\ud83d\\ude97',\n  'card_file_box':'\\ud83d\\uddc3',\n  'card_index':'\\ud83d\\udcc7',\n  'card_index_dividers':'\\ud83d\\uddc2',\n  'carousel_horse':'\\ud83c\\udfa0',\n  'carrot':'\\ud83e\\udd55',\n  'cat':'\\ud83d\\udc31',\n  'cat2':'\\ud83d\\udc08',\n  'cd':'\\ud83d\\udcbf',\n  'chains':'\\u26d3',\n  'champagne':'\\ud83c\\udf7e',\n  'chart':'\\ud83d\\udcb9',\n  'chart_with_downwards_trend':'\\ud83d\\udcc9',\n  'chart_with_upwards_trend':'\\ud83d\\udcc8',\n  'checkered_flag':'\\ud83c\\udfc1',\n  'cheese':'\\ud83e\\uddc0',\n  'cherries':'\\ud83c\\udf52',\n  'cherry_blossom':'\\ud83c\\udf38',\n  'chestnut':'\\ud83c\\udf30',\n  'chicken':'\\ud83d\\udc14',\n  'children_crossing':'\\ud83d\\udeb8',\n  'chipmunk':'\\ud83d\\udc3f',\n  'chocolate_bar':'\\ud83c\\udf6b',\n  'christmas_tree':'\\ud83c\\udf84',\n  'church':'\\u26ea\\ufe0f',\n  'cinema':'\\ud83c\\udfa6',\n  'circus_tent':'\\ud83c\\udfaa',\n  'city_sunrise':'\\ud83c\\udf07',\n  'city_sunset':'\\ud83c\\udf06',\n  'cityscape':'\\ud83c\\udfd9',\n  'cl':'\\ud83c\\udd91',\n  'clamp':'\\ud83d\\udddc',\n  'clap':'\\ud83d\\udc4f',\n  'clapper':'\\ud83c\\udfac',\n  'classical_building':'\\ud83c\\udfdb',\n  'clinking_glasses':'\\ud83e\\udd42',\n  'clipboard':'\\ud83d\\udccb',\n  'clock1':'\\ud83d\\udd50',\n  'clock10':'\\ud83d\\udd59',\n  'clock1030':'\\ud83d\\udd65',\n  'clock11':'\\ud83d\\udd5a',\n  'clock1130':'\\ud83d\\udd66',\n  'clock12':'\\ud83d\\udd5b',\n  'clock1230':'\\ud83d\\udd67',\n  'clock130':'\\ud83d\\udd5c',\n  'clock2':'\\ud83d\\udd51',\n  'clock230':'\\ud83d\\udd5d',\n  'clock3':'\\ud83d\\udd52',\n  'clock330':'\\ud83d\\udd5e',\n  'clock4':'\\ud83d\\udd53',\n  'clock430':'\\ud83d\\udd5f',\n  'clock5':'\\ud83d\\udd54',\n  'clock530':'\\ud83d\\udd60',\n  'clock6':'\\ud83d\\udd55',\n  'clock630':'\\ud83d\\udd61',\n  'clock7':'\\ud83d\\udd56',\n  'clock730':'\\ud83d\\udd62',\n  'clock8':'\\ud83d\\udd57',\n  'clock830':'\\ud83d\\udd63',\n  'clock9':'\\ud83d\\udd58',\n  'clock930':'\\ud83d\\udd64',\n  'closed_book':'\\ud83d\\udcd5',\n  'closed_lock_with_key':'\\ud83d\\udd10',\n  'closed_umbrella':'\\ud83c\\udf02',\n  'cloud':'\\u2601\\ufe0f',\n  'cloud_with_lightning':'\\ud83c\\udf29',\n  'cloud_with_lightning_and_rain':'\\u26c8',\n  'cloud_with_rain':'\\ud83c\\udf27',\n  'cloud_with_snow':'\\ud83c\\udf28',\n  'clown_face':'\\ud83e\\udd21',\n  'clubs':'\\u2663\\ufe0f',\n  'cocktail':'\\ud83c\\udf78',\n  'coffee':'\\u2615\\ufe0f',\n  'coffin':'\\u26b0\\ufe0f',\n  'cold_sweat':'\\ud83d\\ude30',\n  'comet':'\\u2604\\ufe0f',\n  'computer':'\\ud83d\\udcbb',\n  'computer_mouse':'\\ud83d\\uddb1',\n  'confetti_ball':'\\ud83c\\udf8a',\n  'confounded':'\\ud83d\\ude16',\n  'confused':'\\ud83d\\ude15',\n  'congratulations':'\\u3297\\ufe0f',\n  'construction':'\\ud83d\\udea7',\n  'construction_worker_man':'\\ud83d\\udc77',\n  'construction_worker_woman':'\\ud83d\\udc77&zwj;\\u2640\\ufe0f',\n  'control_knobs':'\\ud83c\\udf9b',\n  'convenience_store':'\\ud83c\\udfea',\n  'cookie':'\\ud83c\\udf6a',\n  'cool':'\\ud83c\\udd92',\n  'policeman':'\\ud83d\\udc6e',\n  'copyright':'\\u00a9\\ufe0f',\n  'corn':'\\ud83c\\udf3d',\n  'couch_and_lamp':'\\ud83d\\udecb',\n  'couple':'\\ud83d\\udc6b',\n  'couple_with_heart_woman_man':'\\ud83d\\udc91',\n  'couple_with_heart_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc68',\n  'couple_with_heart_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc69',\n  'couplekiss_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc68',\n  'couplekiss_man_woman':'\\ud83d\\udc8f',\n  'couplekiss_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc69',\n  'cow':'\\ud83d\\udc2e',\n  'cow2':'\\ud83d\\udc04',\n  'cowboy_hat_face':'\\ud83e\\udd20',\n  'crab':'\\ud83e\\udd80',\n  'crayon':'\\ud83d\\udd8d',\n  'credit_card':'\\ud83d\\udcb3',\n  'crescent_moon':'\\ud83c\\udf19',\n  'cricket':'\\ud83c\\udfcf',\n  'crocodile':'\\ud83d\\udc0a',\n  'croissant':'\\ud83e\\udd50',\n  'crossed_fingers':'\\ud83e\\udd1e',\n  'crossed_flags':'\\ud83c\\udf8c',\n  'crossed_swords':'\\u2694\\ufe0f',\n  'crown':'\\ud83d\\udc51',\n  'cry':'\\ud83d\\ude22',\n  'crying_cat_face':'\\ud83d\\ude3f',\n  'crystal_ball':'\\ud83d\\udd2e',\n  'cucumber':'\\ud83e\\udd52',\n  'cupid':'\\ud83d\\udc98',\n  'curly_loop':'\\u27b0',\n  'currency_exchange':'\\ud83d\\udcb1',\n  'curry':'\\ud83c\\udf5b',\n  'custard':'\\ud83c\\udf6e',\n  'customs':'\\ud83d\\udec3',\n  'cyclone':'\\ud83c\\udf00',\n  'dagger':'\\ud83d\\udde1',\n  'dancer':'\\ud83d\\udc83',\n  'dancing_women':'\\ud83d\\udc6f',\n  'dancing_men':'\\ud83d\\udc6f&zwj;\\u2642\\ufe0f',\n  'dango':'\\ud83c\\udf61',\n  'dark_sunglasses':'\\ud83d\\udd76',\n  'dart':'\\ud83c\\udfaf',\n  'dash':'\\ud83d\\udca8',\n  'date':'\\ud83d\\udcc5',\n  'deciduous_tree':'\\ud83c\\udf33',\n  'deer':'\\ud83e\\udd8c',\n  'department_store':'\\ud83c\\udfec',\n  'derelict_house':'\\ud83c\\udfda',\n  'desert':'\\ud83c\\udfdc',\n  'desert_island':'\\ud83c\\udfdd',\n  'desktop_computer':'\\ud83d\\udda5',\n  'male_detective':'\\ud83d\\udd75\\ufe0f',\n  'diamond_shape_with_a_dot_inside':'\\ud83d\\udca0',\n  'diamonds':'\\u2666\\ufe0f',\n  'disappointed':'\\ud83d\\ude1e',\n  'disappointed_relieved':'\\ud83d\\ude25',\n  'dizzy':'\\ud83d\\udcab',\n  'dizzy_face':'\\ud83d\\ude35',\n  'do_not_litter':'\\ud83d\\udeaf',\n  'dog':'\\ud83d\\udc36',\n  'dog2':'\\ud83d\\udc15',\n  'dollar':'\\ud83d\\udcb5',\n  'dolls':'\\ud83c\\udf8e',\n  'dolphin':'\\ud83d\\udc2c',\n  'door':'\\ud83d\\udeaa',\n  'doughnut':'\\ud83c\\udf69',\n  'dove':'\\ud83d\\udd4a',\n  'dragon':'\\ud83d\\udc09',\n  'dragon_face':'\\ud83d\\udc32',\n  'dress':'\\ud83d\\udc57',\n  'dromedary_camel':'\\ud83d\\udc2a',\n  'drooling_face':'\\ud83e\\udd24',\n  'droplet':'\\ud83d\\udca7',\n  'drum':'\\ud83e\\udd41',\n  'duck':'\\ud83e\\udd86',\n  'dvd':'\\ud83d\\udcc0',\n  'e-mail':'\\ud83d\\udce7',\n  'eagle':'\\ud83e\\udd85',\n  'ear':'\\ud83d\\udc42',\n  'ear_of_rice':'\\ud83c\\udf3e',\n  'earth_africa':'\\ud83c\\udf0d',\n  'earth_americas':'\\ud83c\\udf0e',\n  'earth_asia':'\\ud83c\\udf0f',\n  'egg':'\\ud83e\\udd5a',\n  'eggplant':'\\ud83c\\udf46',\n  'eight_pointed_black_star':'\\u2734\\ufe0f',\n  'eight_spoked_asterisk':'\\u2733\\ufe0f',\n  'electric_plug':'\\ud83d\\udd0c',\n  'elephant':'\\ud83d\\udc18',\n  'email':'\\u2709\\ufe0f',\n  'end':'\\ud83d\\udd1a',\n  'envelope_with_arrow':'\\ud83d\\udce9',\n  'euro':'\\ud83d\\udcb6',\n  'european_castle':'\\ud83c\\udff0',\n  'european_post_office':'\\ud83c\\udfe4',\n  'evergreen_tree':'\\ud83c\\udf32',\n  'exclamation':'\\u2757\\ufe0f',\n  'expressionless':'\\ud83d\\ude11',\n  'eye':'\\ud83d\\udc41',\n  'eye_speech_bubble':'\\ud83d\\udc41&zwj;\\ud83d\\udde8',\n  'eyeglasses':'\\ud83d\\udc53',\n  'eyes':'\\ud83d\\udc40',\n  'face_with_head_bandage':'\\ud83e\\udd15',\n  'face_with_thermometer':'\\ud83e\\udd12',\n  'fist_oncoming':'\\ud83d\\udc4a',\n  'factory':'\\ud83c\\udfed',\n  'fallen_leaf':'\\ud83c\\udf42',\n  'family_man_woman_boy':'\\ud83d\\udc6a',\n  'family_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_woman_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_man_woman_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'fast_forward':'\\u23e9',\n  'fax':'\\ud83d\\udce0',\n  'fearful':'\\ud83d\\ude28',\n  'feet':'\\ud83d\\udc3e',\n  'female_detective':'\\ud83d\\udd75\\ufe0f&zwj;\\u2640\\ufe0f',\n  'ferris_wheel':'\\ud83c\\udfa1',\n  'ferry':'\\u26f4',\n  'field_hockey':'\\ud83c\\udfd1',\n  'file_cabinet':'\\ud83d\\uddc4',\n  'file_folder':'\\ud83d\\udcc1',\n  'film_projector':'\\ud83d\\udcfd',\n  'film_strip':'\\ud83c\\udf9e',\n  'fire':'\\ud83d\\udd25',\n  'fire_engine':'\\ud83d\\ude92',\n  'fireworks':'\\ud83c\\udf86',\n  'first_quarter_moon':'\\ud83c\\udf13',\n  'first_quarter_moon_with_face':'\\ud83c\\udf1b',\n  'fish':'\\ud83d\\udc1f',\n  'fish_cake':'\\ud83c\\udf65',\n  'fishing_pole_and_fish':'\\ud83c\\udfa3',\n  'fist_raised':'\\u270a',\n  'fist_left':'\\ud83e\\udd1b',\n  'fist_right':'\\ud83e\\udd1c',\n  'flags':'\\ud83c\\udf8f',\n  'flashlight':'\\ud83d\\udd26',\n  'fleur_de_lis':'\\u269c\\ufe0f',\n  'flight_arrival':'\\ud83d\\udeec',\n  'flight_departure':'\\ud83d\\udeeb',\n  'floppy_disk':'\\ud83d\\udcbe',\n  'flower_playing_cards':'\\ud83c\\udfb4',\n  'flushed':'\\ud83d\\ude33',\n  'fog':'\\ud83c\\udf2b',\n  'foggy':'\\ud83c\\udf01',\n  'football':'\\ud83c\\udfc8',\n  'footprints':'\\ud83d\\udc63',\n  'fork_and_knife':'\\ud83c\\udf74',\n  'fountain':'\\u26f2\\ufe0f',\n  'fountain_pen':'\\ud83d\\udd8b',\n  'four_leaf_clover':'\\ud83c\\udf40',\n  'fox_face':'\\ud83e\\udd8a',\n  'framed_picture':'\\ud83d\\uddbc',\n  'free':'\\ud83c\\udd93',\n  'fried_egg':'\\ud83c\\udf73',\n  'fried_shrimp':'\\ud83c\\udf64',\n  'fries':'\\ud83c\\udf5f',\n  'frog':'\\ud83d\\udc38',\n  'frowning':'\\ud83d\\ude26',\n  'frowning_face':'\\u2639\\ufe0f',\n  'frowning_man':'\\ud83d\\ude4d&zwj;\\u2642\\ufe0f',\n  'frowning_woman':'\\ud83d\\ude4d',\n  'middle_finger':'\\ud83d\\udd95',\n  'fuelpump':'\\u26fd\\ufe0f',\n  'full_moon':'\\ud83c\\udf15',\n  'full_moon_with_face':'\\ud83c\\udf1d',\n  'funeral_urn':'\\u26b1\\ufe0f',\n  'game_die':'\\ud83c\\udfb2',\n  'gear':'\\u2699\\ufe0f',\n  'gem':'\\ud83d\\udc8e',\n  'gemini':'\\u264a\\ufe0f',\n  'ghost':'\\ud83d\\udc7b',\n  'gift':'\\ud83c\\udf81',\n  'gift_heart':'\\ud83d\\udc9d',\n  'girl':'\\ud83d\\udc67',\n  'globe_with_meridians':'\\ud83c\\udf10',\n  'goal_net':'\\ud83e\\udd45',\n  'goat':'\\ud83d\\udc10',\n  'golf':'\\u26f3\\ufe0f',\n  'golfing_man':'\\ud83c\\udfcc\\ufe0f',\n  'golfing_woman':'\\ud83c\\udfcc\\ufe0f&zwj;\\u2640\\ufe0f',\n  'gorilla':'\\ud83e\\udd8d',\n  'grapes':'\\ud83c\\udf47',\n  'green_apple':'\\ud83c\\udf4f',\n  'green_book':'\\ud83d\\udcd7',\n  'green_heart':'\\ud83d\\udc9a',\n  'green_salad':'\\ud83e\\udd57',\n  'grey_exclamation':'\\u2755',\n  'grey_question':'\\u2754',\n  'grimacing':'\\ud83d\\ude2c',\n  'grin':'\\ud83d\\ude01',\n  'grinning':'\\ud83d\\ude00',\n  'guardsman':'\\ud83d\\udc82',\n  'guardswoman':'\\ud83d\\udc82&zwj;\\u2640\\ufe0f',\n  'guitar':'\\ud83c\\udfb8',\n  'gun':'\\ud83d\\udd2b',\n  'haircut_woman':'\\ud83d\\udc87',\n  'haircut_man':'\\ud83d\\udc87&zwj;\\u2642\\ufe0f',\n  'hamburger':'\\ud83c\\udf54',\n  'hammer':'\\ud83d\\udd28',\n  'hammer_and_pick':'\\u2692',\n  'hammer_and_wrench':'\\ud83d\\udee0',\n  'hamster':'\\ud83d\\udc39',\n  'hand':'\\u270b',\n  'handbag':'\\ud83d\\udc5c',\n  'handshake':'\\ud83e\\udd1d',\n  'hankey':'\\ud83d\\udca9',\n  'hatched_chick':'\\ud83d\\udc25',\n  'hatching_chick':'\\ud83d\\udc23',\n  'headphones':'\\ud83c\\udfa7',\n  'hear_no_evil':'\\ud83d\\ude49',\n  'heart':'\\u2764\\ufe0f',\n  'heart_decoration':'\\ud83d\\udc9f',\n  'heart_eyes':'\\ud83d\\ude0d',\n  'heart_eyes_cat':'\\ud83d\\ude3b',\n  'heartbeat':'\\ud83d\\udc93',\n  'heartpulse':'\\ud83d\\udc97',\n  'hearts':'\\u2665\\ufe0f',\n  'heavy_check_mark':'\\u2714\\ufe0f',\n  'heavy_division_sign':'\\u2797',\n  'heavy_dollar_sign':'\\ud83d\\udcb2',\n  'heavy_heart_exclamation':'\\u2763\\ufe0f',\n  'heavy_minus_sign':'\\u2796',\n  'heavy_multiplication_x':'\\u2716\\ufe0f',\n  'heavy_plus_sign':'\\u2795',\n  'helicopter':'\\ud83d\\ude81',\n  'herb':'\\ud83c\\udf3f',\n  'hibiscus':'\\ud83c\\udf3a',\n  'high_brightness':'\\ud83d\\udd06',\n  'high_heel':'\\ud83d\\udc60',\n  'hocho':'\\ud83d\\udd2a',\n  'hole':'\\ud83d\\udd73',\n  'honey_pot':'\\ud83c\\udf6f',\n  'horse':'\\ud83d\\udc34',\n  'horse_racing':'\\ud83c\\udfc7',\n  'hospital':'\\ud83c\\udfe5',\n  'hot_pepper':'\\ud83c\\udf36',\n  'hotdog':'\\ud83c\\udf2d',\n  'hotel':'\\ud83c\\udfe8',\n  'hotsprings':'\\u2668\\ufe0f',\n  'hourglass':'\\u231b\\ufe0f',\n  'hourglass_flowing_sand':'\\u23f3',\n  'house':'\\ud83c\\udfe0',\n  'house_with_garden':'\\ud83c\\udfe1',\n  'houses':'\\ud83c\\udfd8',\n  'hugs':'\\ud83e\\udd17',\n  'hushed':'\\ud83d\\ude2f',\n  'ice_cream':'\\ud83c\\udf68',\n  'ice_hockey':'\\ud83c\\udfd2',\n  'ice_skate':'\\u26f8',\n  'icecream':'\\ud83c\\udf66',\n  'id':'\\ud83c\\udd94',\n  'ideograph_advantage':'\\ud83c\\ude50',\n  'imp':'\\ud83d\\udc7f',\n  'inbox_tray':'\\ud83d\\udce5',\n  'incoming_envelope':'\\ud83d\\udce8',\n  'tipping_hand_woman':'\\ud83d\\udc81',\n  'information_source':'\\u2139\\ufe0f',\n  'innocent':'\\ud83d\\ude07',\n  'interrobang':'\\u2049\\ufe0f',\n  'iphone':'\\ud83d\\udcf1',\n  'izakaya_lantern':'\\ud83c\\udfee',\n  'jack_o_lantern':'\\ud83c\\udf83',\n  'japan':'\\ud83d\\uddfe',\n  'japanese_castle':'\\ud83c\\udfef',\n  'japanese_goblin':'\\ud83d\\udc7a',\n  'japanese_ogre':'\\ud83d\\udc79',\n  'jeans':'\\ud83d\\udc56',\n  'joy':'\\ud83d\\ude02',\n  'joy_cat':'\\ud83d\\ude39',\n  'joystick':'\\ud83d\\udd79',\n  'kaaba':'\\ud83d\\udd4b',\n  'key':'\\ud83d\\udd11',\n  'keyboard':'\\u2328\\ufe0f',\n  'keycap_ten':'\\ud83d\\udd1f',\n  'kick_scooter':'\\ud83d\\udef4',\n  'kimono':'\\ud83d\\udc58',\n  'kiss':'\\ud83d\\udc8b',\n  'kissing':'\\ud83d\\ude17',\n  'kissing_cat':'\\ud83d\\ude3d',\n  'kissing_closed_eyes':'\\ud83d\\ude1a',\n  'kissing_heart':'\\ud83d\\ude18',\n  'kissing_smiling_eyes':'\\ud83d\\ude19',\n  'kiwi_fruit':'\\ud83e\\udd5d',\n  'koala':'\\ud83d\\udc28',\n  'koko':'\\ud83c\\ude01',\n  'label':'\\ud83c\\udff7',\n  'large_blue_circle':'\\ud83d\\udd35',\n  'large_blue_diamond':'\\ud83d\\udd37',\n  'large_orange_diamond':'\\ud83d\\udd36',\n  'last_quarter_moon':'\\ud83c\\udf17',\n  'last_quarter_moon_with_face':'\\ud83c\\udf1c',\n  'latin_cross':'\\u271d\\ufe0f',\n  'laughing':'\\ud83d\\ude06',\n  'leaves':'\\ud83c\\udf43',\n  'ledger':'\\ud83d\\udcd2',\n  'left_luggage':'\\ud83d\\udec5',\n  'left_right_arrow':'\\u2194\\ufe0f',\n  'leftwards_arrow_with_hook':'\\u21a9\\ufe0f',\n  'lemon':'\\ud83c\\udf4b',\n  'leo':'\\u264c\\ufe0f',\n  'leopard':'\\ud83d\\udc06',\n  'level_slider':'\\ud83c\\udf9a',\n  'libra':'\\u264e\\ufe0f',\n  'light_rail':'\\ud83d\\ude88',\n  'link':'\\ud83d\\udd17',\n  'lion':'\\ud83e\\udd81',\n  'lips':'\\ud83d\\udc44',\n  'lipstick':'\\ud83d\\udc84',\n  'lizard':'\\ud83e\\udd8e',\n  'lock':'\\ud83d\\udd12',\n  'lock_with_ink_pen':'\\ud83d\\udd0f',\n  'lollipop':'\\ud83c\\udf6d',\n  'loop':'\\u27bf',\n  'loud_sound':'\\ud83d\\udd0a',\n  'loudspeaker':'\\ud83d\\udce2',\n  'love_hotel':'\\ud83c\\udfe9',\n  'love_letter':'\\ud83d\\udc8c',\n  'low_brightness':'\\ud83d\\udd05',\n  'lying_face':'\\ud83e\\udd25',\n  'm':'\\u24c2\\ufe0f',\n  'mag':'\\ud83d\\udd0d',\n  'mag_right':'\\ud83d\\udd0e',\n  'mahjong':'\\ud83c\\udc04\\ufe0f',\n  'mailbox':'\\ud83d\\udceb',\n  'mailbox_closed':'\\ud83d\\udcea',\n  'mailbox_with_mail':'\\ud83d\\udcec',\n  'mailbox_with_no_mail':'\\ud83d\\udced',\n  'man':'\\ud83d\\udc68',\n  'man_artist':'\\ud83d\\udc68&zwj;\\ud83c\\udfa8',\n  'man_astronaut':'\\ud83d\\udc68&zwj;\\ud83d\\ude80',\n  'man_cartwheeling':'\\ud83e\\udd38&zwj;\\u2642\\ufe0f',\n  'man_cook':'\\ud83d\\udc68&zwj;\\ud83c\\udf73',\n  'man_dancing':'\\ud83d\\udd7a',\n  'man_facepalming':'\\ud83e\\udd26&zwj;\\u2642\\ufe0f',\n  'man_factory_worker':'\\ud83d\\udc68&zwj;\\ud83c\\udfed',\n  'man_farmer':'\\ud83d\\udc68&zwj;\\ud83c\\udf3e',\n  'man_firefighter':'\\ud83d\\udc68&zwj;\\ud83d\\ude92',\n  'man_health_worker':'\\ud83d\\udc68&zwj;\\u2695\\ufe0f',\n  'man_in_tuxedo':'\\ud83e\\udd35',\n  'man_judge':'\\ud83d\\udc68&zwj;\\u2696\\ufe0f',\n  'man_juggling':'\\ud83e\\udd39&zwj;\\u2642\\ufe0f',\n  'man_mechanic':'\\ud83d\\udc68&zwj;\\ud83d\\udd27',\n  'man_office_worker':'\\ud83d\\udc68&zwj;\\ud83d\\udcbc',\n  'man_pilot':'\\ud83d\\udc68&zwj;\\u2708\\ufe0f',\n  'man_playing_handball':'\\ud83e\\udd3e&zwj;\\u2642\\ufe0f',\n  'man_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2642\\ufe0f',\n  'man_scientist':'\\ud83d\\udc68&zwj;\\ud83d\\udd2c',\n  'man_shrugging':'\\ud83e\\udd37&zwj;\\u2642\\ufe0f',\n  'man_singer':'\\ud83d\\udc68&zwj;\\ud83c\\udfa4',\n  'man_student':'\\ud83d\\udc68&zwj;\\ud83c\\udf93',\n  'man_teacher':'\\ud83d\\udc68&zwj;\\ud83c\\udfeb',\n  'man_technologist':'\\ud83d\\udc68&zwj;\\ud83d\\udcbb',\n  'man_with_gua_pi_mao':'\\ud83d\\udc72',\n  'man_with_turban':'\\ud83d\\udc73',\n  'tangerine':'\\ud83c\\udf4a',\n  'mans_shoe':'\\ud83d\\udc5e',\n  'mantelpiece_clock':'\\ud83d\\udd70',\n  'maple_leaf':'\\ud83c\\udf41',\n  'martial_arts_uniform':'\\ud83e\\udd4b',\n  'mask':'\\ud83d\\ude37',\n  'massage_woman':'\\ud83d\\udc86',\n  'massage_man':'\\ud83d\\udc86&zwj;\\u2642\\ufe0f',\n  'meat_on_bone':'\\ud83c\\udf56',\n  'medal_military':'\\ud83c\\udf96',\n  'medal_sports':'\\ud83c\\udfc5',\n  'mega':'\\ud83d\\udce3',\n  'melon':'\\ud83c\\udf48',\n  'memo':'\\ud83d\\udcdd',\n  'men_wrestling':'\\ud83e\\udd3c&zwj;\\u2642\\ufe0f',\n  'menorah':'\\ud83d\\udd4e',\n  'mens':'\\ud83d\\udeb9',\n  'metal':'\\ud83e\\udd18',\n  'metro':'\\ud83d\\ude87',\n  'microphone':'\\ud83c\\udfa4',\n  'microscope':'\\ud83d\\udd2c',\n  'milk_glass':'\\ud83e\\udd5b',\n  'milky_way':'\\ud83c\\udf0c',\n  'minibus':'\\ud83d\\ude90',\n  'minidisc':'\\ud83d\\udcbd',\n  'mobile_phone_off':'\\ud83d\\udcf4',\n  'money_mouth_face':'\\ud83e\\udd11',\n  'money_with_wings':'\\ud83d\\udcb8',\n  'moneybag':'\\ud83d\\udcb0',\n  'monkey':'\\ud83d\\udc12',\n  'monkey_face':'\\ud83d\\udc35',\n  'monorail':'\\ud83d\\ude9d',\n  'moon':'\\ud83c\\udf14',\n  'mortar_board':'\\ud83c\\udf93',\n  'mosque':'\\ud83d\\udd4c',\n  'motor_boat':'\\ud83d\\udee5',\n  'motor_scooter':'\\ud83d\\udef5',\n  'motorcycle':'\\ud83c\\udfcd',\n  'motorway':'\\ud83d\\udee3',\n  'mount_fuji':'\\ud83d\\uddfb',\n  'mountain':'\\u26f0',\n  'mountain_biking_man':'\\ud83d\\udeb5',\n  'mountain_biking_woman':'\\ud83d\\udeb5&zwj;\\u2640\\ufe0f',\n  'mountain_cableway':'\\ud83d\\udea0',\n  'mountain_railway':'\\ud83d\\ude9e',\n  'mountain_snow':'\\ud83c\\udfd4',\n  'mouse':'\\ud83d\\udc2d',\n  'mouse2':'\\ud83d\\udc01',\n  'movie_camera':'\\ud83c\\udfa5',\n  'moyai':'\\ud83d\\uddff',\n  'mrs_claus':'\\ud83e\\udd36',\n  'muscle':'\\ud83d\\udcaa',\n  'mushroom':'\\ud83c\\udf44',\n  'musical_keyboard':'\\ud83c\\udfb9',\n  'musical_note':'\\ud83c\\udfb5',\n  'musical_score':'\\ud83c\\udfbc',\n  'mute':'\\ud83d\\udd07',\n  'nail_care':'\\ud83d\\udc85',\n  'name_badge':'\\ud83d\\udcdb',\n  'national_park':'\\ud83c\\udfde',\n  'nauseated_face':'\\ud83e\\udd22',\n  'necktie':'\\ud83d\\udc54',\n  'negative_squared_cross_mark':'\\u274e',\n  'nerd_face':'\\ud83e\\udd13',\n  'neutral_face':'\\ud83d\\ude10',\n  'new':'\\ud83c\\udd95',\n  'new_moon':'\\ud83c\\udf11',\n  'new_moon_with_face':'\\ud83c\\udf1a',\n  'newspaper':'\\ud83d\\udcf0',\n  'newspaper_roll':'\\ud83d\\uddde',\n  'next_track_button':'\\u23ed',\n  'ng':'\\ud83c\\udd96',\n  'no_good_man':'\\ud83d\\ude45&zwj;\\u2642\\ufe0f',\n  'no_good_woman':'\\ud83d\\ude45',\n  'night_with_stars':'\\ud83c\\udf03',\n  'no_bell':'\\ud83d\\udd15',\n  'no_bicycles':'\\ud83d\\udeb3',\n  'no_entry':'\\u26d4\\ufe0f',\n  'no_entry_sign':'\\ud83d\\udeab',\n  'no_mobile_phones':'\\ud83d\\udcf5',\n  'no_mouth':'\\ud83d\\ude36',\n  'no_pedestrians':'\\ud83d\\udeb7',\n  'no_smoking':'\\ud83d\\udead',\n  'non-potable_water':'\\ud83d\\udeb1',\n  'nose':'\\ud83d\\udc43',\n  'notebook':'\\ud83d\\udcd3',\n  'notebook_with_decorative_cover':'\\ud83d\\udcd4',\n  'notes':'\\ud83c\\udfb6',\n  'nut_and_bolt':'\\ud83d\\udd29',\n  'o':'\\u2b55\\ufe0f',\n  'o2':'\\ud83c\\udd7e\\ufe0f',\n  'ocean':'\\ud83c\\udf0a',\n  'octopus':'\\ud83d\\udc19',\n  'oden':'\\ud83c\\udf62',\n  'office':'\\ud83c\\udfe2',\n  'oil_drum':'\\ud83d\\udee2',\n  'ok':'\\ud83c\\udd97',\n  'ok_hand':'\\ud83d\\udc4c',\n  'ok_man':'\\ud83d\\ude46&zwj;\\u2642\\ufe0f',\n  'ok_woman':'\\ud83d\\ude46',\n  'old_key':'\\ud83d\\udddd',\n  'older_man':'\\ud83d\\udc74',\n  'older_woman':'\\ud83d\\udc75',\n  'om':'\\ud83d\\udd49',\n  'on':'\\ud83d\\udd1b',\n  'oncoming_automobile':'\\ud83d\\ude98',\n  'oncoming_bus':'\\ud83d\\ude8d',\n  'oncoming_police_car':'\\ud83d\\ude94',\n  'oncoming_taxi':'\\ud83d\\ude96',\n  'open_file_folder':'\\ud83d\\udcc2',\n  'open_hands':'\\ud83d\\udc50',\n  'open_mouth':'\\ud83d\\ude2e',\n  'open_umbrella':'\\u2602\\ufe0f',\n  'ophiuchus':'\\u26ce',\n  'orange_book':'\\ud83d\\udcd9',\n  'orthodox_cross':'\\u2626\\ufe0f',\n  'outbox_tray':'\\ud83d\\udce4',\n  'owl':'\\ud83e\\udd89',\n  'ox':'\\ud83d\\udc02',\n  'package':'\\ud83d\\udce6',\n  'page_facing_up':'\\ud83d\\udcc4',\n  'page_with_curl':'\\ud83d\\udcc3',\n  'pager':'\\ud83d\\udcdf',\n  'paintbrush':'\\ud83d\\udd8c',\n  'palm_tree':'\\ud83c\\udf34',\n  'pancakes':'\\ud83e\\udd5e',\n  'panda_face':'\\ud83d\\udc3c',\n  'paperclip':'\\ud83d\\udcce',\n  'paperclips':'\\ud83d\\udd87',\n  'parasol_on_ground':'\\u26f1',\n  'parking':'\\ud83c\\udd7f\\ufe0f',\n  'part_alternation_mark':'\\u303d\\ufe0f',\n  'partly_sunny':'\\u26c5\\ufe0f',\n  'passenger_ship':'\\ud83d\\udef3',\n  'passport_control':'\\ud83d\\udec2',\n  'pause_button':'\\u23f8',\n  'peace_symbol':'\\u262e\\ufe0f',\n  'peach':'\\ud83c\\udf51',\n  'peanuts':'\\ud83e\\udd5c',\n  'pear':'\\ud83c\\udf50',\n  'pen':'\\ud83d\\udd8a',\n  'pencil2':'\\u270f\\ufe0f',\n  'penguin':'\\ud83d\\udc27',\n  'pensive':'\\ud83d\\ude14',\n  'performing_arts':'\\ud83c\\udfad',\n  'persevere':'\\ud83d\\ude23',\n  'person_fencing':'\\ud83e\\udd3a',\n  'pouting_woman':'\\ud83d\\ude4e',\n  'phone':'\\u260e\\ufe0f',\n  'pick':'\\u26cf',\n  'pig':'\\ud83d\\udc37',\n  'pig2':'\\ud83d\\udc16',\n  'pig_nose':'\\ud83d\\udc3d',\n  'pill':'\\ud83d\\udc8a',\n  'pineapple':'\\ud83c\\udf4d',\n  'ping_pong':'\\ud83c\\udfd3',\n  'pisces':'\\u2653\\ufe0f',\n  'pizza':'\\ud83c\\udf55',\n  'place_of_worship':'\\ud83d\\uded0',\n  'plate_with_cutlery':'\\ud83c\\udf7d',\n  'play_or_pause_button':'\\u23ef',\n  'point_down':'\\ud83d\\udc47',\n  'point_left':'\\ud83d\\udc48',\n  'point_right':'\\ud83d\\udc49',\n  'point_up':'\\u261d\\ufe0f',\n  'point_up_2':'\\ud83d\\udc46',\n  'police_car':'\\ud83d\\ude93',\n  'policewoman':'\\ud83d\\udc6e&zwj;\\u2640\\ufe0f',\n  'poodle':'\\ud83d\\udc29',\n  'popcorn':'\\ud83c\\udf7f',\n  'post_office':'\\ud83c\\udfe3',\n  'postal_horn':'\\ud83d\\udcef',\n  'postbox':'\\ud83d\\udcee',\n  'potable_water':'\\ud83d\\udeb0',\n  'potato':'\\ud83e\\udd54',\n  'pouch':'\\ud83d\\udc5d',\n  'poultry_leg':'\\ud83c\\udf57',\n  'pound':'\\ud83d\\udcb7',\n  'rage':'\\ud83d\\ude21',\n  'pouting_cat':'\\ud83d\\ude3e',\n  'pouting_man':'\\ud83d\\ude4e&zwj;\\u2642\\ufe0f',\n  'pray':'\\ud83d\\ude4f',\n  'prayer_beads':'\\ud83d\\udcff',\n  'pregnant_woman':'\\ud83e\\udd30',\n  'previous_track_button':'\\u23ee',\n  'prince':'\\ud83e\\udd34',\n  'princess':'\\ud83d\\udc78',\n  'printer':'\\ud83d\\udda8',\n  'purple_heart':'\\ud83d\\udc9c',\n  'purse':'\\ud83d\\udc5b',\n  'pushpin':'\\ud83d\\udccc',\n  'put_litter_in_its_place':'\\ud83d\\udeae',\n  'question':'\\u2753',\n  'rabbit':'\\ud83d\\udc30',\n  'rabbit2':'\\ud83d\\udc07',\n  'racehorse':'\\ud83d\\udc0e',\n  'racing_car':'\\ud83c\\udfce',\n  'radio':'\\ud83d\\udcfb',\n  'radio_button':'\\ud83d\\udd18',\n  'radioactive':'\\u2622\\ufe0f',\n  'railway_car':'\\ud83d\\ude83',\n  'railway_track':'\\ud83d\\udee4',\n  'rainbow':'\\ud83c\\udf08',\n  'rainbow_flag':'\\ud83c\\udff3\\ufe0f&zwj;\\ud83c\\udf08',\n  'raised_back_of_hand':'\\ud83e\\udd1a',\n  'raised_hand_with_fingers_splayed':'\\ud83d\\udd90',\n  'raised_hands':'\\ud83d\\ude4c',\n  'raising_hand_woman':'\\ud83d\\ude4b',\n  'raising_hand_man':'\\ud83d\\ude4b&zwj;\\u2642\\ufe0f',\n  'ram':'\\ud83d\\udc0f',\n  'ramen':'\\ud83c\\udf5c',\n  'rat':'\\ud83d\\udc00',\n  'record_button':'\\u23fa',\n  'recycle':'\\u267b\\ufe0f',\n  'red_circle':'\\ud83d\\udd34',\n  'registered':'\\u00ae\\ufe0f',\n  'relaxed':'\\u263a\\ufe0f',\n  'relieved':'\\ud83d\\ude0c',\n  'reminder_ribbon':'\\ud83c\\udf97',\n  'repeat':'\\ud83d\\udd01',\n  'repeat_one':'\\ud83d\\udd02',\n  'rescue_worker_helmet':'\\u26d1',\n  'restroom':'\\ud83d\\udebb',\n  'revolving_hearts':'\\ud83d\\udc9e',\n  'rewind':'\\u23ea',\n  'rhinoceros':'\\ud83e\\udd8f',\n  'ribbon':'\\ud83c\\udf80',\n  'rice':'\\ud83c\\udf5a',\n  'rice_ball':'\\ud83c\\udf59',\n  'rice_cracker':'\\ud83c\\udf58',\n  'rice_scene':'\\ud83c\\udf91',\n  'right_anger_bubble':'\\ud83d\\uddef',\n  'ring':'\\ud83d\\udc8d',\n  'robot':'\\ud83e\\udd16',\n  'rocket':'\\ud83d\\ude80',\n  'rofl':'\\ud83e\\udd23',\n  'roll_eyes':'\\ud83d\\ude44',\n  'roller_coaster':'\\ud83c\\udfa2',\n  'rooster':'\\ud83d\\udc13',\n  'rose':'\\ud83c\\udf39',\n  'rosette':'\\ud83c\\udff5',\n  'rotating_light':'\\ud83d\\udea8',\n  'round_pushpin':'\\ud83d\\udccd',\n  'rowing_man':'\\ud83d\\udea3',\n  'rowing_woman':'\\ud83d\\udea3&zwj;\\u2640\\ufe0f',\n  'rugby_football':'\\ud83c\\udfc9',\n  'running_man':'\\ud83c\\udfc3',\n  'running_shirt_with_sash':'\\ud83c\\udfbd',\n  'running_woman':'\\ud83c\\udfc3&zwj;\\u2640\\ufe0f',\n  'sa':'\\ud83c\\ude02\\ufe0f',\n  'sagittarius':'\\u2650\\ufe0f',\n  'sake':'\\ud83c\\udf76',\n  'sandal':'\\ud83d\\udc61',\n  'santa':'\\ud83c\\udf85',\n  'satellite':'\\ud83d\\udce1',\n  'saxophone':'\\ud83c\\udfb7',\n  'school':'\\ud83c\\udfeb',\n  'school_satchel':'\\ud83c\\udf92',\n  'scissors':'\\u2702\\ufe0f',\n  'scorpion':'\\ud83e\\udd82',\n  'scorpius':'\\u264f\\ufe0f',\n  'scream':'\\ud83d\\ude31',\n  'scream_cat':'\\ud83d\\ude40',\n  'scroll':'\\ud83d\\udcdc',\n  'seat':'\\ud83d\\udcba',\n  'secret':'\\u3299\\ufe0f',\n  'see_no_evil':'\\ud83d\\ude48',\n  'seedling':'\\ud83c\\udf31',\n  'selfie':'\\ud83e\\udd33',\n  'shallow_pan_of_food':'\\ud83e\\udd58',\n  'shamrock':'\\u2618\\ufe0f',\n  'shark':'\\ud83e\\udd88',\n  'shaved_ice':'\\ud83c\\udf67',\n  'sheep':'\\ud83d\\udc11',\n  'shell':'\\ud83d\\udc1a',\n  'shield':'\\ud83d\\udee1',\n  'shinto_shrine':'\\u26e9',\n  'ship':'\\ud83d\\udea2',\n  'shirt':'\\ud83d\\udc55',\n  'shopping':'\\ud83d\\udecd',\n  'shopping_cart':'\\ud83d\\uded2',\n  'shower':'\\ud83d\\udebf',\n  'shrimp':'\\ud83e\\udd90',\n  'signal_strength':'\\ud83d\\udcf6',\n  'six_pointed_star':'\\ud83d\\udd2f',\n  'ski':'\\ud83c\\udfbf',\n  'skier':'\\u26f7',\n  'skull':'\\ud83d\\udc80',\n  'skull_and_crossbones':'\\u2620\\ufe0f',\n  'sleeping':'\\ud83d\\ude34',\n  'sleeping_bed':'\\ud83d\\udecc',\n  'sleepy':'\\ud83d\\ude2a',\n  'slightly_frowning_face':'\\ud83d\\ude41',\n  'slightly_smiling_face':'\\ud83d\\ude42',\n  'slot_machine':'\\ud83c\\udfb0',\n  'small_airplane':'\\ud83d\\udee9',\n  'small_blue_diamond':'\\ud83d\\udd39',\n  'small_orange_diamond':'\\ud83d\\udd38',\n  'small_red_triangle':'\\ud83d\\udd3a',\n  'small_red_triangle_down':'\\ud83d\\udd3b',\n  'smile':'\\ud83d\\ude04',\n  'smile_cat':'\\ud83d\\ude38',\n  'smiley':'\\ud83d\\ude03',\n  'smiley_cat':'\\ud83d\\ude3a',\n  'smiling_imp':'\\ud83d\\ude08',\n  'smirk':'\\ud83d\\ude0f',\n  'smirk_cat':'\\ud83d\\ude3c',\n  'smoking':'\\ud83d\\udeac',\n  'snail':'\\ud83d\\udc0c',\n  'snake':'\\ud83d\\udc0d',\n  'sneezing_face':'\\ud83e\\udd27',\n  'snowboarder':'\\ud83c\\udfc2',\n  'snowflake':'\\u2744\\ufe0f',\n  'snowman':'\\u26c4\\ufe0f',\n  'snowman_with_snow':'\\u2603\\ufe0f',\n  'sob':'\\ud83d\\ude2d',\n  'soccer':'\\u26bd\\ufe0f',\n  'soon':'\\ud83d\\udd1c',\n  'sos':'\\ud83c\\udd98',\n  'sound':'\\ud83d\\udd09',\n  'space_invader':'\\ud83d\\udc7e',\n  'spades':'\\u2660\\ufe0f',\n  'spaghetti':'\\ud83c\\udf5d',\n  'sparkle':'\\u2747\\ufe0f',\n  'sparkler':'\\ud83c\\udf87',\n  'sparkles':'\\u2728',\n  'sparkling_heart':'\\ud83d\\udc96',\n  'speak_no_evil':'\\ud83d\\ude4a',\n  'speaker':'\\ud83d\\udd08',\n  'speaking_head':'\\ud83d\\udde3',\n  'speech_balloon':'\\ud83d\\udcac',\n  'speedboat':'\\ud83d\\udea4',\n  'spider':'\\ud83d\\udd77',\n  'spider_web':'\\ud83d\\udd78',\n  'spiral_calendar':'\\ud83d\\uddd3',\n  'spiral_notepad':'\\ud83d\\uddd2',\n  'spoon':'\\ud83e\\udd44',\n  'squid':'\\ud83e\\udd91',\n  'stadium':'\\ud83c\\udfdf',\n  'star':'\\u2b50\\ufe0f',\n  'star2':'\\ud83c\\udf1f',\n  'star_and_crescent':'\\u262a\\ufe0f',\n  'star_of_david':'\\u2721\\ufe0f',\n  'stars':'\\ud83c\\udf20',\n  'station':'\\ud83d\\ude89',\n  'statue_of_liberty':'\\ud83d\\uddfd',\n  'steam_locomotive':'\\ud83d\\ude82',\n  'stew':'\\ud83c\\udf72',\n  'stop_button':'\\u23f9',\n  'stop_sign':'\\ud83d\\uded1',\n  'stopwatch':'\\u23f1',\n  'straight_ruler':'\\ud83d\\udccf',\n  'strawberry':'\\ud83c\\udf53',\n  'stuck_out_tongue':'\\ud83d\\ude1b',\n  'stuck_out_tongue_closed_eyes':'\\ud83d\\ude1d',\n  'stuck_out_tongue_winking_eye':'\\ud83d\\ude1c',\n  'studio_microphone':'\\ud83c\\udf99',\n  'stuffed_flatbread':'\\ud83e\\udd59',\n  'sun_behind_large_cloud':'\\ud83c\\udf25',\n  'sun_behind_rain_cloud':'\\ud83c\\udf26',\n  'sun_behind_small_cloud':'\\ud83c\\udf24',\n  'sun_with_face':'\\ud83c\\udf1e',\n  'sunflower':'\\ud83c\\udf3b',\n  'sunglasses':'\\ud83d\\ude0e',\n  'sunny':'\\u2600\\ufe0f',\n  'sunrise':'\\ud83c\\udf05',\n  'sunrise_over_mountains':'\\ud83c\\udf04',\n  'surfing_man':'\\ud83c\\udfc4',\n  'surfing_woman':'\\ud83c\\udfc4&zwj;\\u2640\\ufe0f',\n  'sushi':'\\ud83c\\udf63',\n  'suspension_railway':'\\ud83d\\ude9f',\n  'sweat':'\\ud83d\\ude13',\n  'sweat_drops':'\\ud83d\\udca6',\n  'sweat_smile':'\\ud83d\\ude05',\n  'sweet_potato':'\\ud83c\\udf60',\n  'swimming_man':'\\ud83c\\udfca',\n  'swimming_woman':'\\ud83c\\udfca&zwj;\\u2640\\ufe0f',\n  'symbols':'\\ud83d\\udd23',\n  'synagogue':'\\ud83d\\udd4d',\n  'syringe':'\\ud83d\\udc89',\n  'taco':'\\ud83c\\udf2e',\n  'tada':'\\ud83c\\udf89',\n  'tanabata_tree':'\\ud83c\\udf8b',\n  'taurus':'\\u2649\\ufe0f',\n  'taxi':'\\ud83d\\ude95',\n  'tea':'\\ud83c\\udf75',\n  'telephone_receiver':'\\ud83d\\udcde',\n  'telescope':'\\ud83d\\udd2d',\n  'tennis':'\\ud83c\\udfbe',\n  'tent':'\\u26fa\\ufe0f',\n  'thermometer':'\\ud83c\\udf21',\n  'thinking':'\\ud83e\\udd14',\n  'thought_balloon':'\\ud83d\\udcad',\n  'ticket':'\\ud83c\\udfab',\n  'tickets':'\\ud83c\\udf9f',\n  'tiger':'\\ud83d\\udc2f',\n  'tiger2':'\\ud83d\\udc05',\n  'timer_clock':'\\u23f2',\n  'tipping_hand_man':'\\ud83d\\udc81&zwj;\\u2642\\ufe0f',\n  'tired_face':'\\ud83d\\ude2b',\n  'tm':'\\u2122\\ufe0f',\n  'toilet':'\\ud83d\\udebd',\n  'tokyo_tower':'\\ud83d\\uddfc',\n  'tomato':'\\ud83c\\udf45',\n  'tongue':'\\ud83d\\udc45',\n  'top':'\\ud83d\\udd1d',\n  'tophat':'\\ud83c\\udfa9',\n  'tornado':'\\ud83c\\udf2a',\n  'trackball':'\\ud83d\\uddb2',\n  'tractor':'\\ud83d\\ude9c',\n  'traffic_light':'\\ud83d\\udea5',\n  'train':'\\ud83d\\ude8b',\n  'train2':'\\ud83d\\ude86',\n  'tram':'\\ud83d\\ude8a',\n  'triangular_flag_on_post':'\\ud83d\\udea9',\n  'triangular_ruler':'\\ud83d\\udcd0',\n  'trident':'\\ud83d\\udd31',\n  'triumph':'\\ud83d\\ude24',\n  'trolleybus':'\\ud83d\\ude8e',\n  'trophy':'\\ud83c\\udfc6',\n  'tropical_drink':'\\ud83c\\udf79',\n  'tropical_fish':'\\ud83d\\udc20',\n  'truck':'\\ud83d\\ude9a',\n  'trumpet':'\\ud83c\\udfba',\n  'tulip':'\\ud83c\\udf37',\n  'tumbler_glass':'\\ud83e\\udd43',\n  'turkey':'\\ud83e\\udd83',\n  'turtle':'\\ud83d\\udc22',\n  'tv':'\\ud83d\\udcfa',\n  'twisted_rightwards_arrows':'\\ud83d\\udd00',\n  'two_hearts':'\\ud83d\\udc95',\n  'two_men_holding_hands':'\\ud83d\\udc6c',\n  'two_women_holding_hands':'\\ud83d\\udc6d',\n  'u5272':'\\ud83c\\ude39',\n  'u5408':'\\ud83c\\ude34',\n  'u55b6':'\\ud83c\\ude3a',\n  'u6307':'\\ud83c\\ude2f\\ufe0f',\n  'u6708':'\\ud83c\\ude37\\ufe0f',\n  'u6709':'\\ud83c\\ude36',\n  'u6e80':'\\ud83c\\ude35',\n  'u7121':'\\ud83c\\ude1a\\ufe0f',\n  'u7533':'\\ud83c\\ude38',\n  'u7981':'\\ud83c\\ude32',\n  'u7a7a':'\\ud83c\\ude33',\n  'umbrella':'\\u2614\\ufe0f',\n  'unamused':'\\ud83d\\ude12',\n  'underage':'\\ud83d\\udd1e',\n  'unicorn':'\\ud83e\\udd84',\n  'unlock':'\\ud83d\\udd13',\n  'up':'\\ud83c\\udd99',\n  'upside_down_face':'\\ud83d\\ude43',\n  'v':'\\u270c\\ufe0f',\n  'vertical_traffic_light':'\\ud83d\\udea6',\n  'vhs':'\\ud83d\\udcfc',\n  'vibration_mode':'\\ud83d\\udcf3',\n  'video_camera':'\\ud83d\\udcf9',\n  'video_game':'\\ud83c\\udfae',\n  'violin':'\\ud83c\\udfbb',\n  'virgo':'\\u264d\\ufe0f',\n  'volcano':'\\ud83c\\udf0b',\n  'volleyball':'\\ud83c\\udfd0',\n  'vs':'\\ud83c\\udd9a',\n  'vulcan_salute':'\\ud83d\\udd96',\n  'walking_man':'\\ud83d\\udeb6',\n  'walking_woman':'\\ud83d\\udeb6&zwj;\\u2640\\ufe0f',\n  'waning_crescent_moon':'\\ud83c\\udf18',\n  'waning_gibbous_moon':'\\ud83c\\udf16',\n  'warning':'\\u26a0\\ufe0f',\n  'wastebasket':'\\ud83d\\uddd1',\n  'watch':'\\u231a\\ufe0f',\n  'water_buffalo':'\\ud83d\\udc03',\n  'watermelon':'\\ud83c\\udf49',\n  'wave':'\\ud83d\\udc4b',\n  'wavy_dash':'\\u3030\\ufe0f',\n  'waxing_crescent_moon':'\\ud83c\\udf12',\n  'wc':'\\ud83d\\udebe',\n  'weary':'\\ud83d\\ude29',\n  'wedding':'\\ud83d\\udc92',\n  'weight_lifting_man':'\\ud83c\\udfcb\\ufe0f',\n  'weight_lifting_woman':'\\ud83c\\udfcb\\ufe0f&zwj;\\u2640\\ufe0f',\n  'whale':'\\ud83d\\udc33',\n  'whale2':'\\ud83d\\udc0b',\n  'wheel_of_dharma':'\\u2638\\ufe0f',\n  'wheelchair':'\\u267f\\ufe0f',\n  'white_check_mark':'\\u2705',\n  'white_circle':'\\u26aa\\ufe0f',\n  'white_flag':'\\ud83c\\udff3\\ufe0f',\n  'white_flower':'\\ud83d\\udcae',\n  'white_large_square':'\\u2b1c\\ufe0f',\n  'white_medium_small_square':'\\u25fd\\ufe0f',\n  'white_medium_square':'\\u25fb\\ufe0f',\n  'white_small_square':'\\u25ab\\ufe0f',\n  'white_square_button':'\\ud83d\\udd33',\n  'wilted_flower':'\\ud83e\\udd40',\n  'wind_chime':'\\ud83c\\udf90',\n  'wind_face':'\\ud83c\\udf2c',\n  'wine_glass':'\\ud83c\\udf77',\n  'wink':'\\ud83d\\ude09',\n  'wolf':'\\ud83d\\udc3a',\n  'woman':'\\ud83d\\udc69',\n  'woman_artist':'\\ud83d\\udc69&zwj;\\ud83c\\udfa8',\n  'woman_astronaut':'\\ud83d\\udc69&zwj;\\ud83d\\ude80',\n  'woman_cartwheeling':'\\ud83e\\udd38&zwj;\\u2640\\ufe0f',\n  'woman_cook':'\\ud83d\\udc69&zwj;\\ud83c\\udf73',\n  'woman_facepalming':'\\ud83e\\udd26&zwj;\\u2640\\ufe0f',\n  'woman_factory_worker':'\\ud83d\\udc69&zwj;\\ud83c\\udfed',\n  'woman_farmer':'\\ud83d\\udc69&zwj;\\ud83c\\udf3e',\n  'woman_firefighter':'\\ud83d\\udc69&zwj;\\ud83d\\ude92',\n  'woman_health_worker':'\\ud83d\\udc69&zwj;\\u2695\\ufe0f',\n  'woman_judge':'\\ud83d\\udc69&zwj;\\u2696\\ufe0f',\n  'woman_juggling':'\\ud83e\\udd39&zwj;\\u2640\\ufe0f',\n  'woman_mechanic':'\\ud83d\\udc69&zwj;\\ud83d\\udd27',\n  'woman_office_worker':'\\ud83d\\udc69&zwj;\\ud83d\\udcbc',\n  'woman_pilot':'\\ud83d\\udc69&zwj;\\u2708\\ufe0f',\n  'woman_playing_handball':'\\ud83e\\udd3e&zwj;\\u2640\\ufe0f',\n  'woman_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2640\\ufe0f',\n  'woman_scientist':'\\ud83d\\udc69&zwj;\\ud83d\\udd2c',\n  'woman_shrugging':'\\ud83e\\udd37&zwj;\\u2640\\ufe0f',\n  'woman_singer':'\\ud83d\\udc69&zwj;\\ud83c\\udfa4',\n  'woman_student':'\\ud83d\\udc69&zwj;\\ud83c\\udf93',\n  'woman_teacher':'\\ud83d\\udc69&zwj;\\ud83c\\udfeb',\n  'woman_technologist':'\\ud83d\\udc69&zwj;\\ud83d\\udcbb',\n  'woman_with_turban':'\\ud83d\\udc73&zwj;\\u2640\\ufe0f',\n  'womans_clothes':'\\ud83d\\udc5a',\n  'womans_hat':'\\ud83d\\udc52',\n  'women_wrestling':'\\ud83e\\udd3c&zwj;\\u2640\\ufe0f',\n  'womens':'\\ud83d\\udeba',\n  'world_map':'\\ud83d\\uddfa',\n  'worried':'\\ud83d\\ude1f',\n  'wrench':'\\ud83d\\udd27',\n  'writing_hand':'\\u270d\\ufe0f',\n  'x':'\\u274c',\n  'yellow_heart':'\\ud83d\\udc9b',\n  'yen':'\\ud83d\\udcb4',\n  'yin_yang':'\\u262f\\ufe0f',\n  'yum':'\\ud83d\\ude0b',\n  'zap':'\\u26a1\\ufe0f',\n  'zipper_mouth_face':'\\ud83e\\udd10',\n  'zzz':'\\ud83d\\udca4',\n\n  /* special emojis :P */\n  'octocat':  '<img width=\"20\" height=\"20\" align=\"absmiddle\" src=\"data:image/png;base64,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\">',\n  'showdown': '<img width=\"20\" height=\"20\" align=\"absmiddle\" src=\"data:image/png;base64,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/GMzLdsAAECtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzA2NyA3OS4xNTc3NDcsIDIwMTUvMDMvMzAtMjM6NDA6NDIgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTUtMDEtMTVUMjE6MDE6MTlaPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNy0xMC0yNFQxMzozMTozMCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTctMTAtMjRUMTM6MzE6MzArMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+c1JHQiBJRUM2MTk2Ni0yLjE8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8cGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgICAgIDxyZGY6QmFnPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+UyAtPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5TIC08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6N2NkMzQxNzctOWYyZi0yNDRiLWEyYjQtMzU1MzJkY2Y1MWJiPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6M2E1YzgxYmYtYjhiNy0xMWU3LTk0NDktYTQ2MzdlZjJkNjMzPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTUtMDEtMTVUMjE6MDE6MTlaPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ODZjNjBkMGQtOGY0Yy01ZTRlLWEwMjQtODI4ZWQyNTIwZDc3PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTEwLTI0VDEzOjMxOjMwKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjdjZDM0MTc3LTlmMmYtMjQ0Yi1hMmI0LTM1NTMyZGNmNTFiYjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0xMC0yNFQxMzozMTozMCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6ODZjNjBkMGQtOGY0Yy01ZTRlLWEwMjQtODI4ZWQyNTIwZDc3PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjYwQzVBRTY1RjY5Q0U0MTE5NDVBODU1RTNCQ0E3RUVCPC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICAgICA8c3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3N0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pse7bzcAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA1JJREFUeNrsm1+OmlAUhz+aeS9dwZggJn1AnRUMO6jpBgZXULuC2hWUWUGZBTSxKyiuoA4mfUBMnB04K5g+9DihRBHlyh/lJLwIXLgf99xzzu9etZeXFy7Z3nDh1gBoAFy4XeVtQNO0zNcapmUDfUBPnFoBfhQGq6IBaHmjwD4Ahmk5wAD4kKG5J8CNwsAFaHe6DvA9cc0wCgOv8gDka3vA9RHNPgo0D7hNnJtGYWBXxgV2dH4MfMnRRA+Y1WIO2NJ5F/ikoKm3tYsChmkNFHW+fmHQMC1dfHaXPQP3wM1yMdc2B/AOGALTWobBmI1Shu0UGCwX83XyRBQGawHntTtdG5gUNfxVu4CTNqNv6/wWGL7kCc+1AmCYVisl3I2ydD4GYZUCs7IjoLXrxHIx9w9tLAqDCfBwDrXAY457x+cAoCfuwRGjYFUnAGk+PsjR7s8Dn1VeLWCYVlpDw+VivjVHSHt+u9PVJbzGzZXQWTkAkz0V31fATUaEsjVJlQBs4FeGcteLgzgbAALBA+4y3voAeJL8nA0AHfClnM1qm1HhnYUidCSE+KzvSSJUTwAxCOMcpfETMFYpfRUKIAbCFhC3OTJJJwqDWS0BxED0JZ4Pjix1P2+E0loCSMBwyK4S/xc1ojBwag8gMU84cvTKGgmlAYhngu1O9xAXuVE5J1QCQCz3bwHuHvdQui5QKQAxEO6eEKpsFCgTRSXkvdoxSlBMCxhJJbgrrbZRtHCiShN0pRB6PeQ3ckBw2K0oKXMBVYJIP+Nvh9qulFivGoBt1lLQxowT2ykBXCfnhZIglgYACWmqXQv+baioBYCeiCQHm+QEg1O7RhF7hO4OhSAhcJKSFU7qBGADwZeqMMuXn6TUBw8qlaMrirNb4LdhWlP+SWD+cjFfxTpuS2GUpik+o3jFSEkqbJiWn0P0OMSGqlWiOu0TvD+FRHZKAE+oW+cfRmEwqlsesJJEJs8y91QqP+9UL6lqEtz2gpuNEY5sm9sIHln2DRa2aFKGJtiXkZEMiWtgVvRKUSUFkSKt2S7fAGgAXLYpmQQXf36MUChTZdUa2u8/rkvPA6Tz30r4eH3ybcBS5gJ6SaNXb+aABkA1AMxKenclBZLW/He4cYEGwEXb3wEASelexk6LIIIAAAAASUVORK5CYII=\">'\n};\n\r\n/**\n * Created by Estevao on 31-05-2015.\n */\n\n/**\n * Showdown Converter class\n * @class\n * @param {object} [converterOptions]\n * @returns {Converter}\n */\nshowdown.Converter = function (converterOptions) {\n  'use strict';\n\n  var\n      /**\n       * Options used by this converter\n       * @private\n       * @type {{}}\n       */\n      options = {},\n\n      /**\n       * Language extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      langExtensions = [],\n\n      /**\n       * Output modifiers extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      outputModifiers = [],\n\n      /**\n       * Event listeners\n       * @private\n       * @type {{}}\n       */\n      listeners = {},\n\n      /**\n       * The flavor set in this converter\n       */\n      setConvFlavor = setFlavor,\n\n    /**\n     * Metadata of the document\n     * @type {{parsed: {}, raw: string, format: string}}\n     */\n      metadata = {\n        parsed: {},\n        raw: '',\n        format: ''\n      };\n\n  _constructor();\n\n  /**\n   * Converter constructor\n   * @private\n   */\n  function _constructor () {\n    converterOptions = converterOptions || {};\n\n    for (var gOpt in globalOptions) {\n      if (globalOptions.hasOwnProperty(gOpt)) {\n        options[gOpt] = globalOptions[gOpt];\n      }\n    }\n\n    // Merge options\n    if (typeof converterOptions === 'object') {\n      for (var opt in converterOptions) {\n        if (converterOptions.hasOwnProperty(opt)) {\n          options[opt] = converterOptions[opt];\n        }\n      }\n    } else {\n      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +\n      ' was passed instead.');\n    }\n\n    if (options.extensions) {\n      showdown.helper.forEach(options.extensions, _parseExtension);\n    }\n  }\n\n  /**\n   * Parse extension\n   * @param {*} ext\n   * @param {string} [name='']\n   * @private\n   */\n  function _parseExtension (ext, name) {\n\n    name = name || null;\n    // If it's a string, the extension was previously loaded\n    if (showdown.helper.isString(ext)) {\n      ext = showdown.helper.stdExtName(ext);\n      name = ext;\n\n      // LEGACY_SUPPORT CODE\n      if (showdown.extensions[ext]) {\n        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +\n          'Please inform the developer that the extension should be updated!');\n        legacyExtensionLoading(showdown.extensions[ext], ext);\n        return;\n      // END LEGACY SUPPORT CODE\n\n      } else if (!showdown.helper.isUndefined(extensions[ext])) {\n        ext = extensions[ext];\n\n      } else {\n        throw Error('Extension \"' + ext + '\" could not be loaded. It was either not found or is not a valid extension.');\n      }\n    }\n\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExt = validate(ext, name);\n    if (!validExt.valid) {\n      throw Error(validExt.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n      }\n      if (ext[i].hasOwnProperty('listeners')) {\n        for (var ln in ext[i].listeners) {\n          if (ext[i].listeners.hasOwnProperty(ln)) {\n            listen(ln, ext[i].listeners[ln]);\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * LEGACY_SUPPORT\n   * @param {*} ext\n   * @param {string} name\n   */\n  function legacyExtensionLoading (ext, name) {\n    if (typeof ext === 'function') {\n      ext = ext(new showdown.Converter());\n    }\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n    var valid = validate(ext, name);\n\n    if (!valid.valid) {\n      throw Error(valid.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n        default:// should never reach here\n          throw Error('Extension loader error: Type unrecognized!!!');\n      }\n    }\n  }\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   */\n  function listen (name, callback) {\n    if (!showdown.helper.isString(name)) {\n      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');\n    }\n\n    if (typeof callback !== 'function') {\n      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');\n    }\n\n    if (!listeners.hasOwnProperty(name)) {\n      listeners[name] = [];\n    }\n    listeners[name].push(callback);\n  }\n\n  function rTrimInputText (text) {\n    var rsp = text.match(/^\\s*/)[0].length,\n        rgx = new RegExp('^\\\\s{0,' + rsp + '}', 'gm');\n    return text.replace(rgx, '');\n  }\n\n  /**\n   * Dispatch an event\n   * @private\n   * @param {string} evtName Event name\n   * @param {string} text Text\n   * @param {{}} options Converter Options\n   * @param {{}} globals\n   * @returns {string}\n   */\n  this._dispatch = function dispatch (evtName, text, options, globals) {\n    if (listeners.hasOwnProperty(evtName)) {\n      for (var ei = 0; ei < listeners[evtName].length; ++ei) {\n        var nText = listeners[evtName][ei](evtName, text, this, options, globals);\n        if (nText && typeof nText !== 'undefined') {\n          text = nText;\n        }\n      }\n    }\n    return text;\n  };\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   * @returns {showdown.Converter}\n   */\n  this.listen = function (name, callback) {\n    listen(name, callback);\n    return this;\n  };\n\n  /**\n   * Converts a markdown string into HTML\n   * @param {string} text\n   * @returns {*}\n   */\n  this.makeHtml = function (text) {\n    //check if text is not falsy\n    if (!text) {\n      return text;\n    }\n\n    var globals = {\n      gHtmlBlocks:     [],\n      gHtmlMdBlocks:   [],\n      gHtmlSpans:      [],\n      gUrls:           {},\n      gTitles:         {},\n      gDimensions:     {},\n      gListLevel:      0,\n      hashLinkCounts:  {},\n      langExtensions:  langExtensions,\n      outputModifiers: outputModifiers,\n      converter:       this,\n      ghCodeBlocks:    [],\n      metadata: {\n        parsed: {},\n        raw: '',\n        format: ''\n      }\n    };\n\n    // This lets us use  trema as an escape char to avoid md5 hashes\n    // The choice of character is arbitrary; anything that isn't\n    // magic in Markdown will work.\n    text = text.replace(//g, 'T');\n\n    // Replace $ with D\n    // RegExp interprets $ as a special character\n    // when it's in a replacement string\n    text = text.replace(/\\$/g, 'D');\n\n    // Standardize line endings\n    text = text.replace(/\\r\\n/g, '\\n'); // DOS to Unix\n    text = text.replace(/\\r/g, '\\n'); // Mac to Unix\n\n    // Stardardize line spaces (nbsp causes trouble in older browsers and some regex flavors)\n    text = text.replace(/\\u00A0/g, ' ');\n\n    if (options.smartIndentationFix) {\n      text = rTrimInputText(text);\n    }\n\n    // Make sure text begins and ends with a couple of newlines:\n    text = '\\n\\n' + text + '\\n\\n';\n\n    // detab\n    text = showdown.subParser('detab')(text, options, globals);\n\n    /**\n     * Strip any lines consisting only of spaces and tabs.\n     * This makes subsequent regexs easier to write, because we can\n     * match consecutive blank lines with /\\n+/ instead of something\n     * contorted like /[ \\t]*\\n+/\n     */\n    text = text.replace(/^[ \\t]+$/mg, '');\n\n    //run languageExtensions\n    showdown.helper.forEach(langExtensions, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // run the sub parsers\n    text = showdown.subParser('metadata')(text, options, globals);\n    text = showdown.subParser('hashPreCodeTags')(text, options, globals);\n    text = showdown.subParser('githubCodeBlocks')(text, options, globals);\n    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n    text = showdown.subParser('hashCodeTags')(text, options, globals);\n    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);\n    text = showdown.subParser('blockGamut')(text, options, globals);\n    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);\n    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);\n\n    // attacklab: Restore dollar signs\n    text = text.replace(/D/g, '$$');\n\n    // attacklab: Restore tremas\n    text = text.replace(/T/g, '');\n\n    // render a complete html document instead of a partial if the option is enabled\n    text = showdown.subParser('completeHTMLDocument')(text, options, globals);\n\n    // Run output modifiers\n    showdown.helper.forEach(outputModifiers, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // update metadata\n    metadata = globals.metadata;\n    return text;\n  };\n\n  /**\n   * Set an option of this Converter instance\n   * @param {string} key\n   * @param {*} value\n   */\n  this.setOption = function (key, value) {\n    options[key] = value;\n  };\n\n  /**\n   * Get the option of this Converter instance\n   * @param {string} key\n   * @returns {*}\n   */\n  this.getOption = function (key) {\n    return options[key];\n  };\n\n  /**\n   * Get the options of this Converter instance\n   * @returns {{}}\n   */\n  this.getOptions = function () {\n    return options;\n  };\n\n  /**\n   * Add extension to THIS converter\n   * @param {{}} extension\n   * @param {string} [name=null]\n   */\n  this.addExtension = function (extension, name) {\n    name = name || null;\n    _parseExtension(extension, name);\n  };\n\n  /**\n   * Use a global registered extension with THIS converter\n   * @param {string} extensionName Name of the previously registered extension\n   */\n  this.useExtension = function (extensionName) {\n    _parseExtension(extensionName);\n  };\n\n  /**\n   * Set the flavor THIS converter should use\n   * @param {string} name\n   */\n  this.setFlavor = function (name) {\n    if (!flavor.hasOwnProperty(name)) {\n      throw Error(name + ' flavor was not found');\n    }\n    var preset = flavor[name];\n    setConvFlavor = name;\n    for (var option in preset) {\n      if (preset.hasOwnProperty(option)) {\n        options[option] = preset[option];\n      }\n    }\n  };\n\n  /**\n   * Get the currently set flavor of this converter\n   * @returns {string}\n   */\n  this.getFlavor = function () {\n    return setConvFlavor;\n  };\n\n  /**\n   * Remove an extension from THIS converter.\n   * Note: This is a costly operation. It's better to initialize a new converter\n   * and specify the extensions you wish to use\n   * @param {Array} extension\n   */\n  this.removeExtension = function (extension) {\n    if (!showdown.helper.isArray(extension)) {\n      extension = [extension];\n    }\n    for (var a = 0; a < extension.length; ++a) {\n      var ext = extension[a];\n      for (var i = 0; i < langExtensions.length; ++i) {\n        if (langExtensions[i] === ext) {\n          langExtensions[i].splice(i, 1);\n        }\n      }\n      for (var ii = 0; ii < outputModifiers.length; ++i) {\n        if (outputModifiers[ii] === ext) {\n          outputModifiers[ii].splice(i, 1);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get all extension of THIS converter\n   * @returns {{language: Array, output: Array}}\n   */\n  this.getAllExtensions = function () {\n    return {\n      language: langExtensions,\n      output: outputModifiers\n    };\n  };\n\n  /**\n   * Get the metadata of the previously parsed document\n   * @param raw\n   * @returns {string|{}}\n   */\n  this.getMetadata = function (raw) {\n    if (raw) {\n      return metadata.raw;\n    } else {\n      return metadata.parsed;\n    }\n  };\n\n  /**\n   * Get the metadata format of the previously parsed document\n   * @returns {string}\n   */\n  this.getMetadataFormat = function () {\n    return metadata.format;\n  };\n\n  /**\n   * Private: set a single key, value metadata pair\n   * @param {string} key\n   * @param {string} value\n   */\n  this._setMetadataPair = function (key, value) {\n    metadata.parsed[key] = value;\n  };\n\n  /**\n   * Private: set metadata format\n   * @param {string} format\n   */\n  this._setMetadataFormat = function (format) {\n    metadata.format = format;\n  };\n\n  /**\n   * Private: set metadata raw text\n   * @param {string} raw\n   */\n  this._setMetadataRaw = function (raw) {\n    metadata.raw = raw;\n  };\n};\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('anchors', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('anchors.before', text, options, globals);\n\n  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {\n    if (showdown.helper.isUndefined(title)) {\n      title = '';\n    }\n    linkId = linkId.toLowerCase();\n\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n    } else if (!url) {\n      if (!linkId) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = linkText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {\n        url = globals.gUrls[linkId];\n        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {\n          title = globals.gTitles[linkId];\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n\n    var result = '<a href=\"' + url + '\"';\n\n    if (title !== '' && title !== null) {\n      title = title.replace(/\"/g, '&quot;');\n      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance\n      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    // optionLinksInNewWindow only applies\n    // to external links. Hash links (#) open in same page\n    if (options.openLinksInNewWindow && !/^#/.test(url)) {\n      // escaped _\n      result += ' target=\"E95Eblank\"';\n    }\n\n    result += '>' + linkText + '</a>';\n\n    return result;\n  };\n\n  // First, handle reference-style links: [link text] [id]\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)] ?(?:\\n *)?\\[(.*?)]()()()()/g, writeAnchorTag);\n\n  // Next, inline-style links: [link text](url \"optional title\")\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<([^>]*)>(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // normal cases\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n                      writeAnchorTag);\n\n  // handle reference-style shortcuts: [link text]\n  // These must come last in case you've also got [link test][1]\n  // or [link test](/foo)\n  text = text.replace(/\\[([^\\[\\]]+)]()()()()()/g, writeAnchorTag);\n\n  // Lastly handle GithubMentions if option is enabled\n  if (options.ghMentions) {\n    text = text.replace(/(^|\\s)(\\\\)?(@([a-z\\d\\-]+))(?=[.!?;,[\\]()]|\\s|$)/gmi, function (wm, st, escape, mentions, username) {\n      if (escape === '\\\\') {\n        return st + mentions;\n      }\n\n      //check if options.ghMentionsLink is a string\n      if (!showdown.helper.isString(options.ghMentionsLink)) {\n        throw new Error('ghMentionsLink option must be a string');\n      }\n      var lnk = options.ghMentionsLink.replace(/\\{u}/g, username),\n          target = '';\n      if (options.openLinksInNewWindow) {\n        target = ' target=\"E95Eblank\"';\n      }\n      return st + '<a href=\"' + lnk + '\"' + target + '>' + mentions + '</a>';\n    });\n  }\n\n  text = globals.converter._dispatch('anchors.after', text, options, globals);\n  return text;\n});\n\r\n// url allowed chars [a-z\\d_.~:/?#[]@!$&'()*+,;=-]\n\nvar simpleURLRegex  = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+?\\.[^'\">\\s]+?)()(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    simpleURLRegex2 = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+\\.[^'\">\\s]+?)([.!?,()\\[\\]])?(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    delimUrlRegex   = /()<(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+)()>()/gi,\n    simpleMailRegex = /(^|\\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)(?=$|\\s)/gmi,\n    delimMailRegex  = /<()(?:mailto:)?([-.\\w]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\n\n    replaceLink = function (options) {\n      'use strict';\n      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {\n        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n        var lnkTxt = link,\n            append = '',\n            target = '',\n            lmc    = leadingMagicChars || '',\n            tmc    = trailingMagicChars || '';\n        if (/^www\\./i.test(link)) {\n          link = link.replace(/^www\\./i, 'http://www.');\n        }\n        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {\n          append = trailingPunctuation;\n        }\n        if (options.openLinksInNewWindow) {\n          target = ' target=\"E95Eblank\"';\n        }\n        return lmc + '<a href=\"' + link + '\"' + target + '>' + lnkTxt + '</a>' + append + tmc;\n      };\n    },\n\n    replaceMail = function (options, globals) {\n      'use strict';\n      return function (wholeMatch, b, mail) {\n        var href = 'mailto:';\n        b = b || '';\n        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);\n        if (options.encodeEmails) {\n          href = showdown.helper.encodeEmailAddress(href + mail);\n          mail = showdown.helper.encodeEmailAddress(mail);\n        } else {\n          href = href + mail;\n        }\n        return b + '<a href=\"' + href + '\">' + mail + '</a>';\n      };\n    };\n\nshowdown.subParser('autoLinks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('autoLinks.before', text, options, globals);\n\n  text = text.replace(delimUrlRegex, replaceLink(options));\n  text = text.replace(delimMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('autoLinks.after', text, options, globals);\n\n  return text;\n});\n\nshowdown.subParser('simplifiedAutoLinks', function (text, options, globals) {\n  'use strict';\n\n  if (!options.simplifiedAutoLink) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);\n\n  if (options.excludeTrailingPunctuationFromURLs) {\n    text = text.replace(simpleURLRegex2, replaceLink(options));\n  } else {\n    text = text.replace(simpleURLRegex, replaceLink(options));\n  }\n  text = text.replace(simpleMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that form block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('blockGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockGamut.before', text, options, globals);\n\n  // we parse blockquotes first so that we can have headings and hrs\n  // inside blockquotes\n  text = showdown.subParser('blockQuotes')(text, options, globals);\n  text = showdown.subParser('headers')(text, options, globals);\n\n  // Do Horizontal Rules:\n  text = showdown.subParser('horizontalRule')(text, options, globals);\n\n  text = showdown.subParser('lists')(text, options, globals);\n  text = showdown.subParser('codeBlocks')(text, options, globals);\n  text = showdown.subParser('tables')(text, options, globals);\n\n  // We already ran _HashHTMLBlocks() before, in Markdown(), but that\n  // was to escape raw HTML in the original Markdown source. This time,\n  // we're escaping the markup we've just created, so that we don't wrap\n  // <p> tags around block-level tags.\n  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n  text = showdown.subParser('paragraphs')(text, options, globals);\n\n  text = globals.converter._dispatch('blockGamut.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('blockQuotes', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);\n\n  // add a couple extra lines after the text and endtext mark\n  text = text + '\\n\\n';\n\n  var rgx = /(^ {0,3}>[ \\t]?.+\\n(.+\\n)*\\n*)+/gm;\n\n  if (options.splitAdjacentBlockquotes) {\n    rgx = /^ {0,3}>[\\s\\S]*?(?:\\n\\n)/gm;\n  }\n\n  text = text.replace(rgx, function (bq) {\n    // attacklab: hack around Konqueror 3.5.4 bug:\n    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, ''); // trim one level of quoting\n\n    // attacklab: clean up hack\n    bq = bq.replace(/0/g, '');\n\n    bq = bq.replace(/^[ \\t]+$/gm, ''); // trim whitespace-only lines\n    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);\n    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse\n\n    bq = bq.replace(/(^|\\n)/g, '$1  ');\n    // These leading spaces screw with <pre> content, so we need to fix that:\n    bq = bq.replace(/(\\s*<pre>[^\\r]+?<\\/pre>)/gm, function (wholeMatch, m1) {\n      var pre = m1;\n      // attacklab: hack around Konqueror 3.5.4 bug:\n      pre = pre.replace(/^  /mg, '0');\n      pre = pre.replace(/0/g, '');\n      return pre;\n    });\n\n    return showdown.subParser('hashBlock')('<blockquote>\\n' + bq + '\\n</blockquote>', options, globals);\n  });\n\n  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Process Markdown `<pre><code>` blocks.\n */\nshowdown.subParser('codeBlocks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);\n\n  // sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '0';\n\n  var pattern = /(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=0))/g;\n  text = text.replace(pattern, function (wholeMatch, m1, m2) {\n    var codeblock = m1,\n        nextChar = m2,\n        end = '\\n';\n\n    codeblock = showdown.subParser('outdent')(codeblock, options, globals);\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing newlines\n\n    if (options.omitExtraWLInCodeBlocks) {\n      end = '';\n    }\n\n    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';\n\n    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;\n  });\n\n  // strip sentinel\n  text = text.replace(/0/, '');\n\n  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n *   *  Backtick quotes are used for <code></code> spans.\n *\n *   *  You can use multiple backticks as the delimiters if you want to\n *     include literal backticks in the code span. So, this input:\n *\n *         Just type ``foo `bar` baz`` at the prompt.\n *\n *       Will translate to:\n *\n *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\n *\n *    There's no arbitrary limit to the number of backticks you\n *    can use as delimters. If you need three consecutive backticks\n *    in your code, use four for delimiters, etc.\n *\n *  *  You can use spaces to get literal backticks at the edges:\n *\n *         ... type `` `bar` `` ...\n *\n *       Turns to:\n *\n *         ... type <code>`bar`</code> ...\n */\nshowdown.subParser('codeSpans', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeSpans.before', text, options, globals);\n\n  if (typeof(text) === 'undefined') {\n    text = '';\n  }\n  text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\n    function (wholeMatch, m1, m2, m3) {\n      var c = m3;\n      c = c.replace(/^([ \\t]*)/g, '');\t// leading whitespace\n      c = c.replace(/[ \\t]*$/g, '');\t// trailing whitespace\n      c = showdown.subParser('encodeCode')(c, options, globals);\n      c = m1 + '<code>' + c + '</code>';\n      c = showdown.subParser('hashHTMLSpans')(c, options, globals);\n      return c;\n    }\n  );\n\n  text = globals.converter._dispatch('codeSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('completeHTMLDocument', function (text, options, globals) {\n  'use strict';\n\n  if (!options.completeHTMLDocument) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);\n\n  var doctype = 'html',\n      doctypeParsed = '<!DOCTYPE HTML>\\n',\n      title = '',\n      charset = '<meta charset=\"utf-8\">\\n',\n      lang = '',\n      metadata = '';\n\n  if (typeof globals.metadata.parsed.doctype !== 'undefined') {\n    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\\n';\n    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();\n    if (doctype === 'html' || doctype === 'html5') {\n      charset = '<meta charset=\"utf-8\">';\n    }\n  }\n\n  for (var meta in globals.metadata.parsed) {\n    if (globals.metadata.parsed.hasOwnProperty(meta)) {\n      switch (meta.toLowerCase()) {\n        case 'doctype':\n          break;\n\n        case 'title':\n          title = '<title>' +  globals.metadata.parsed.title + '</title>\\n';\n          break;\n\n        case 'charset':\n          if (doctype === 'html' || doctype === 'html5') {\n            charset = '<meta charset=\"' + globals.metadata.parsed.charset + '\">\\n';\n          } else {\n            charset = '<meta name=\"charset\" content=\"' + globals.metadata.parsed.charset + '\">\\n';\n          }\n          break;\n\n        case 'language':\n        case 'lang':\n          lang = ' lang=\"' + globals.metadata.parsed[meta] + '\"';\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n          break;\n\n        default:\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n      }\n    }\n  }\n\n  text = doctypeParsed + '<html' + lang + '>\\n<head>\\n' + title + charset + metadata + '</head>\\n<body>\\n' + text.trim() + '\\n</body>\\n</html>';\n\n  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Convert all tabs to spaces\n */\nshowdown.subParser('detab', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('detab.before', text, options, globals);\n\n  // expand first n-1 tabs\n  text = text.replace(/\\t(?=\\t)/g, '    '); // g_tab_width\n\n  // replace the nth with two sentinels\n  text = text.replace(/\\t/g, 'AB');\n\n  // use the sentinel to anchor our regex so it doesn't explode\n  text = text.replace(/B(.+?)A/g, function (wholeMatch, m1) {\n    var leadingText = m1,\n        numSpaces = 4 - leadingText.length % 4;  // g_tab_width\n\n    // there *must* be a better way to do this:\n    for (var i = 0; i < numSpaces; i++) {\n      leadingText += ' ';\n    }\n\n    return leadingText;\n  });\n\n  // clean up sentinels\n  text = text.replace(/A/g, '    ');  // g_tab_width\n  text = text.replace(/B/g, '');\n\n  text = globals.converter._dispatch('detab.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('ellipsis', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('ellipsis.before', text, options, globals);\n\n  text = text.replace(/\\.\\.\\./g, '');\n\n  text = globals.converter._dispatch('ellipsis.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('emoji', function (text, options, globals) {\n  'use strict';\n\n  if (!options.emoji) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('emoji.before', text, options, globals);\n\n  var emojiRgx = /:([\\S]+?):/g;\n\n  text = text.replace(emojiRgx, function (wm, emojiCode) {\n    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {\n      return showdown.helper.emojis[emojiCode];\n    }\n    return wm;\n  });\n\n  text = globals.converter._dispatch('emoji.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Smart processing for ampersands and angle brackets that need to be encoded.\n */\nshowdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);\n\n  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\n  // http://bumppo.net/projects/amputator/\n  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, '&amp;');\n\n  // Encode naked <'s\n  text = text.replace(/<(?![a-z\\/?$!])/gi, '&lt;');\n\n  // Encode <\n  text = text.replace(/</g, '&lt;');\n\n  // Encode >\n  text = text.replace(/>/g, '&gt;');\n\n  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Returns the string, with after processing the following backslash escape sequences.\n *\n * attacklab: The polite way to do this is with the new escapeCharacters() function:\n *\n *    text = escapeCharacters(text,\"\\\\\",true);\n *    text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\n *\n * ...but we're sidestepping its use of the (slow) RegExp constructor\n * as an optimization for Firefox.  This function gets called a LOT.\n */\nshowdown.subParser('encodeBackslashEscapes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);\n\n  text = text.replace(/\\\\(\\\\)/g, showdown.helper.escapeCharactersCallback);\n  text = text.replace(/\\\\([`*_{}\\[\\]()>#+.!~=|-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Encode/escape certain characters inside Markdown code runs.\n * The point is that in code, these characters are literals,\n * and lose their special Markdown meanings.\n */\nshowdown.subParser('encodeCode', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('encodeCode.before', text, options, globals);\n\n  // Encode all ampersands; HTML entities are not\n  // entities within a Markdown code span.\n  text = text\n    .replace(/&/g, '&amp;')\n  // Do the angle bracket song and dance:\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n  // Now, escape characters that are magic in Markdown:\n    .replace(/([*_{}\\[\\]\\\\=~-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeCode.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Within tags -- meaning between < and > -- encode [\\ ` * _ ~ =] so they\n * don't conflict with their use in Markdown for code, italics and strong.\n */\nshowdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);\n\n  // Build a regex to find HTML tags.\n  var tags     = /<\\/?[a-z\\d_:-]+(?:[\\s]+[\\s\\S]+?)?>/gi,\n      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;\n\n  text = text.replace(tags, function (wholeMatch) {\n    return wholeMatch\n      .replace(/(.)<\\/?code>(?=.)/g, '$1`')\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = text.replace(comments, function (wholeMatch) {\n    return wholeMatch\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Handle github codeblocks prior to running HashHTML so that\n * HTML contained within the codeblock gets escaped properly\n * Example:\n * ```ruby\n *     def hello_world(x)\n *       puts \"Hello, #{x}\"\n *     end\n * ```\n */\nshowdown.subParser('githubCodeBlocks', function (text, options, globals) {\n  'use strict';\n\n  // early exit if option is not enabled\n  if (!options.ghCodeBlocks) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);\n\n  text += '0';\n\n  text = text.replace(/(?:^|\\n)(```+|~~~+)([^\\s`~]*)\\n([\\s\\S]*?)\\n\\1/g, function (wholeMatch, delim, language, codeblock) {\n    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\\n';\n\n    // First parse the github code block\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing whitespace\n\n    codeblock = '<pre><code' + (language ? ' class=\"' + language + ' language-' + language + '\"' : '') + '>' + codeblock + end + '</code></pre>';\n\n    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);\n\n    // Since GHCodeblocks can be false positives, we need to\n    // store the primitive text and the parsed text in a global var,\n    // and then return a token\n    return '\\n\\nG' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  });\n\n  // attacklab: strip sentinel\n  text = text.replace(/0/, '');\n\n  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);\n});\n\r\nshowdown.subParser('hashBlock', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashBlock.before', text, options, globals);\n  text = text.replace(/(^\\n+|\\n+$)/g, '');\n  text = '\\n\\nK' + (globals.gHtmlBlocks.push(text) - 1) + 'K\\n\\n';\n  text = globals.converter._dispatch('hashBlock.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return 'C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';\n  };\n\n  // Hash naked <code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\\\b[^>]*>', '</code>', 'gim');\n\n  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('hashElement', function (text, options, globals) {\n  'use strict';\n\n  return function (wholeMatch, m1) {\n    var blockText = m1;\n\n    // Undo double lines\n    blockText = blockText.replace(/\\n\\n/g, '\\n');\n    blockText = blockText.replace(/^\\n/, '');\n\n    // strip trailing blank lines\n    blockText = blockText.replace(/\\n+$/g, '');\n\n    // Replace the element text with a marker (\"KxK\" where x is its key)\n    blockText = '\\n\\nK' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\\n\\n';\n\n    return blockText;\n  };\n});\n\r\nshowdown.subParser('hashHTMLBlocks', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);\n\n  var blockTags = [\n        'pre',\n        'div',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'blockquote',\n        'table',\n        'dl',\n        'ol',\n        'ul',\n        'script',\n        'noscript',\n        'form',\n        'fieldset',\n        'iframe',\n        'math',\n        'style',\n        'section',\n        'header',\n        'footer',\n        'nav',\n        'article',\n        'aside',\n        'address',\n        'audio',\n        'canvas',\n        'figure',\n        'hgroup',\n        'output',\n        'video',\n        'p'\n      ],\n      repFunc = function (wholeMatch, match, left, right) {\n        var txt = wholeMatch;\n        // check if this html element is marked as markdown\n        // if so, it's contents should be parsed as markdown\n        if (left.search(/\\bmarkdown\\b/) !== -1) {\n          txt = left + globals.converter.makeHtml(match) + right;\n        }\n        return '\\n\\nK' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n      };\n\n  if (options.backslashEscapesHTMLTags) {\n    // encode backslash escaped HTML tags\n    text = text.replace(/\\\\<(\\/?[^>]+?)>/g, function (wm, inside) {\n      return '&lt;' + inside + '&gt;';\n    });\n  }\n\n  // hash HTML Blocks\n  for (var i = 0; i < blockTags.length; ++i) {\n\n    var opTagPos,\n        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\\\b[^>]*>)', 'im'),\n        patLeft  = '<' + blockTags[i] + '\\\\b[^>]*>',\n        patRight = '</' + blockTags[i] + '>';\n    // 1. Look for the first position of the first opening HTML tag in the text\n    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {\n\n      // if the HTML tag is \\ escaped, we need to escape it and break\n\n\n      //2. Split the text in that position\n      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),\n      //3. Match recursively\n          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');\n\n      // prevent an infinite loop\n      if (newSubText1 === subTexts[1]) {\n        break;\n      }\n      text = subTexts[0].concat(newSubText1);\n    }\n  }\n  // HR SPECIAL CASE\n  text = text.replace(/(\\n {0,3}(<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  // Special case for standalone HTML comments\n  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {\n    return '\\n\\nK' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n  }, '^ {0,3}<!--', '-->', 'gm');\n\n  // PHP and ASP-style processor instructions (<?...?> and <%...%>)\n  text = text.replace(/(?:\\n\\n)( {0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash span elements that should not be parsed as markdown\n */\nshowdown.subParser('hashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);\n\n  function hashHTMLSpan (html) {\n    return 'C' + (globals.gHtmlSpans.push(html) - 1) + 'C';\n  }\n\n  // Hash Self Closing tags\n  text = text.replace(/<[^>]+?\\/>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags without properties\n  text = text.replace(/<([^>]+?)>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags with properties\n  text = text.replace(/<([^>]+?)\\s[^>]+?>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash self closing tags without />\n  text = text.replace(/<[^>]+?>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  /*showdown.helper.matchRecursiveRegExp(text, '<code\\\\b[^>]*>', '</code>', 'gi');*/\n\n  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\n/**\n * Unhash HTML spans\n */\nshowdown.subParser('unhashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);\n\n  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {\n    var repText = globals.gHtmlSpans[i],\n        // limiter to prevent infinite loop (assume 10 as limit for recurse)\n        limit = 0;\n\n    while (/C(\\d+)C/.test(repText)) {\n      var num = RegExp.$1;\n      repText = repText.replace('C' + num + 'C', globals.gHtmlSpans[num]);\n      if (limit === 10) {\n        console.error('maximum nesting of 10 spans reached!!!');\n        break;\n      }\n      ++limit;\n    }\n    text = text.replace('C' + i + 'C', repText);\n  }\n\n  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <pre><code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashPreCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    // encode html entities\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '\\n\\nG' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  };\n\n  // Hash <pre><code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\\\b[^>]*>\\\\s*<code\\\\b[^>]*>', '^ {0,3}</code>\\\\s*</pre>', 'gim');\n\n  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('headers', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('headers.before', text, options, globals);\n\n  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),\n\n  // Set text-style headers:\n  //\tHeader 1\n  //\t========\n  //\n  //\tHeader 2\n  //\t--------\n  //\n      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n={2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\n      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n-{2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm;\n\n  text = text.replace(setextRegexH1, function (wholeMatch, m1) {\n\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  text = text.replace(setextRegexH2, function (matchFound, m1) {\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart + 1,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  // atx-style headers:\n  //  # Header 1\n  //  ## Header 2\n  //  ## Header 2 with closing hashes ##\n  //  ...\n  //  ###### Header 6\n  //\n  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \\t]+(.+?)[ \\t]*#*\\n+/gm : /^(#{1,6})[ \\t]*(.+?)[ \\t]*#*\\n+/gm;\n\n  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {\n    var hText = m2;\n    if (options.customizedHeaderId) {\n      hText = m2.replace(/\\s?\\{([^{]+?)}\\s*$/, '');\n    }\n\n    var span = showdown.subParser('spanGamut')(hText, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m2) + '\"',\n        hLevel = headerLevelStart - 1 + m1.length,\n        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';\n\n    return showdown.subParser('hashBlock')(header, options, globals);\n  });\n\n  function headerId (m) {\n    var title,\n        prefix;\n\n    // It is separate from other options to allow combining prefix and customized\n    if (options.customizedHeaderId) {\n      var match = m.match(/\\{([^{]+?)}\\s*$/);\n      if (match && match[1]) {\n        m = match[1];\n      }\n    }\n\n    title = m;\n\n    // Prefix id to prevent causing inadvertent pre-existing style matches.\n    if (showdown.helper.isString(options.prefixHeaderId)) {\n      prefix = options.prefixHeaderId;\n    } else if (options.prefixHeaderId === true) {\n      prefix = 'section-';\n    } else {\n      prefix = '';\n    }\n\n    if (!options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (options.ghCompatibleHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&,  and $)\n        .replace(/&amp;/g, '')\n        .replace(/T/g, '')\n        .replace(/D/g, '')\n        // replace rest of the chars (&~$ are repeated as they might have been escaped)\n        // borrowed from github's redcarpet (some they should produce similar results)\n        .replace(/[&+$,\\/:;=?@\"#{}|^~\\[\\]`\\\\*)(%.!'<>]/g, '')\n        .toLowerCase();\n    } else if (options.rawHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&,  and $)\n        .replace(/&amp;/g, '&')\n        .replace(/T/g, '')\n        .replace(/D/g, '$')\n        // replace \" and '\n        .replace(/[\"']/g, '-')\n        .toLowerCase();\n    } else {\n      title = title\n        .replace(/[^\\w]/g, '')\n        .toLowerCase();\n    }\n\n    if (options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (globals.hashLinkCounts[title]) {\n      title = title + '-' + (globals.hashLinkCounts[title]++);\n    } else {\n      globals.hashLinkCounts[title] = 1;\n    }\n    return title;\n  }\n\n  text = globals.converter._dispatch('headers.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('horizontalRule', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);\n\n  var key = showdown.subParser('hashBlock')('<hr />', options, globals);\n  text = text.replace(/^ {0,2}( ?-){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?\\*){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?_){3,}[ \\t]*$/gm, key);\n\n  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown image shortcuts into <img> tags.\n */\nshowdown.subParser('images', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('images.before', text, options, globals);\n\n  var inlineRegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      crazyRegExp       = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<([^>]*)>(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:(?:([\"'])([^\"]*?)\\6))?[ \\t]?\\)/g,\n      base64RegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      referenceRegExp   = /!\\[([^\\]]*?)] ?(?:\\n *)?\\[([\\s\\S]*?)]()()()()()/g,\n      refShortcutRegExp = /!\\[([^\\[\\]]+)]()()()()()/g;\n\n  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {\n    url = url.replace(/\\s/g, '');\n    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);\n  }\n\n  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {\n\n    var gUrls   = globals.gUrls,\n        gTitles = globals.gTitles,\n        gDims   = globals.gDimensions;\n\n    linkId = linkId.toLowerCase();\n\n    if (!title) {\n      title = '';\n    }\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n\n    } else if (url === '' || url === null) {\n      if (linkId === '' || linkId === null) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = altText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(gUrls[linkId])) {\n        url = gUrls[linkId];\n        if (!showdown.helper.isUndefined(gTitles[linkId])) {\n          title = gTitles[linkId];\n        }\n        if (!showdown.helper.isUndefined(gDims[linkId])) {\n          width = gDims[linkId].width;\n          height = gDims[linkId].height;\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    altText = altText\n      .replace(/\"/g, '&quot;')\n    //altText = showdown.helper.escapeCharacters(altText, '*_', false);\n      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    //url = showdown.helper.escapeCharacters(url, '*_', false);\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    var result = '<img src=\"' + url + '\" alt=\"' + altText + '\"';\n\n    if (title) {\n      title = title\n        .replace(/\"/g, '&quot;')\n      //title = showdown.helper.escapeCharacters(title, '*_', false);\n        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    if (width && height) {\n      width  = (width === '*') ? 'auto' : width;\n      height = (height === '*') ? 'auto' : height;\n\n      result += ' width=\"' + width + '\"';\n      result += ' height=\"' + height + '\"';\n    }\n\n    result += ' />';\n\n    return result;\n  }\n\n  // First, handle reference-style labeled images: ![alt text][id]\n  text = text.replace(referenceRegExp, writeImageTag);\n\n  // Next, handle inline images:  ![alt text](url =<width>x<height> \"optional title\")\n\n  // base64 encoded images\n  text = text.replace(base64RegExp, writeImageTagBase64);\n\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(crazyRegExp, writeImageTag);\n\n  // normal cases\n  text = text.replace(inlineRegExp, writeImageTag);\n\n  // handle reference-style shortcuts: ![img text]\n  text = text.replace(refShortcutRegExp, writeImageTag);\n\n  text = globals.converter._dispatch('images.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('italicsAndBold', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);\n\n  // it's faster to have 3 separate regexes for each case than have just one\n  // because of backtracing, in some cases, it could lead to an exponential effect\n  // called \"catastrophic backtrace\". Ominous!\n\n  function parseInside (txt, left, right) {\n    /*\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    */\n    return left + txt + right;\n  }\n\n  // Parse underscores\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*)___\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*)__\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong>', '</strong>');\n    });\n    text = text.replace(/\\b_(\\S[\\s\\S]*?)_\\b/g, function (wm, txt) {\n      return parseInside (txt, '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/_([^\\s_][\\s\\S]*?)_/g, function (wm, m) {\n      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n  // Now parse asterisks\n  if (options.literalMidWordAsterisks) {\n    text = text.replace(/([^*]|^)\\B\\*\\*\\*(\\S[\\s\\S]+?)\\*\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*\\*(\\S[\\s\\S]+?)\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong>', '</strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*(\\S[\\s\\S]+?)\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/\\*\\*(\\S[\\s\\S]*?)\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/\\*([^\\s*][\\s\\S]*?)\\*/g, function (wm, m) {\n      // !/^\\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n\n  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Form HTML ordered (numbered) and unordered (bulleted) lists.\n */\nshowdown.subParser('lists', function (text, options, globals) {\n  'use strict';\n\n  /**\n   * Process the contents of a single ordered or unordered list, splitting it\n   * into individual list items.\n   * @param {string} listStr\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function processListItems (listStr, trimTrailing) {\n    // The $g_list_level global keeps track of when we're inside a list.\n    // Each time we enter a list, we increment it; when we leave a list,\n    // we decrement. If it's zero, we're not in a list anymore.\n    //\n    // We do this because when we're not inside a list, we want to treat\n    // something like this:\n    //\n    //    I recommend upgrading to version\n    //    8. Oops, now this line is treated\n    //    as a sub-list.\n    //\n    // As a single paragraph, despite the fact that the second line starts\n    // with a digit-period-space sequence.\n    //\n    // Whereas when we're inside a list (or sub-list), that line will be\n    // treated as the start of a sub-list. What a kludge, huh? This is\n    // an aspect of Markdown's syntax that's hard to parse perfectly\n    // without resorting to mind-reading. Perhaps the solution is to\n    // change the syntax rules such that sub-lists must start with a\n    // starting cardinal number; e.g. \"1.\" or \"a.\".\n    globals.gListLevel++;\n\n    // trim trailing blank lines:\n    listStr = listStr.replace(/\\n{2,}$/, '\\n');\n\n    // attacklab: add sentinel to emulate \\z\n    listStr += '0';\n\n    var rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(0| {0,3}([*+-]|\\d+[.])[ \\t]+))/gm,\n        isParagraphed = (/\\n[ \\t]*\\n(?!0)/.test(listStr));\n\n    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,\n    // which is a syntax breaking change\n    // activating this option reverts to old behavior\n    if (options.disableForced4SpacesIndentedSublists) {\n      rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(0|\\2([*+-]|\\d+[.])[ \\t]+))/gm;\n    }\n\n    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {\n      checked = (checked && checked.trim() !== '');\n\n      var item = showdown.subParser('outdent')(m4, options, globals),\n          bulletStyle = '';\n\n      // Support for github tasklists\n      if (taskbtn && options.tasklists) {\n        bulletStyle = ' class=\"task-list-item\" style=\"list-style-type: none;\"';\n        item = item.replace(/^[ \\t]*\\[(x|X| )?]/m, function () {\n          var otp = '<input type=\"checkbox\" disabled style=\"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;\"';\n          if (checked) {\n            otp += ' checked';\n          }\n          otp += '>';\n          return otp;\n        });\n      }\n\n      // ISSUE #312\n      // This input: - - - a\n      // causes trouble to the parser, since it interprets it as:\n      // <ul><li><li><li>a</li></li></li></ul>\n      // instead of:\n      // <ul><li>- - a</li></ul>\n      // So, to prevent it, we will put a marker (A)in the beginning of the line\n      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser\n      item = item.replace(/^([-*+]|\\d\\.)[ \\t]+[\\S\\n ]*/g, function (wm2) {\n        return 'A' + wm2;\n      });\n\n      // m1 - Leading line or\n      // Has a double return (multi paragraph) or\n      // Has sublist\n      if (m1 || (item.search(/\\n{2,}/) > -1)) {\n        item = showdown.subParser('githubCodeBlocks')(item, options, globals);\n        item = showdown.subParser('blockGamut')(item, options, globals);\n      } else {\n        // Recursion for sub-lists:\n        item = showdown.subParser('lists')(item, options, globals);\n        item = item.replace(/\\n$/, ''); // chomp(item)\n        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);\n\n        // Colapse double linebreaks\n        item = item.replace(/\\n\\n+/g, '\\n\\n');\n        if (isParagraphed) {\n          item = showdown.subParser('paragraphs')(item, options, globals);\n        } else {\n          item = showdown.subParser('spanGamut')(item, options, globals);\n        }\n      }\n\n      // now we need to remove the marker (A)\n      item = item.replace('A', '');\n      // we can finally wrap the line in list item tags\n      item =  '<li' + bulletStyle + '>' + item + '</li>\\n';\n\n      return item;\n    });\n\n    // attacklab: strip sentinel\n    listStr = listStr.replace(/0/g, '');\n\n    globals.gListLevel--;\n\n    if (trimTrailing) {\n      listStr = listStr.replace(/\\s+$/, '');\n    }\n\n    return listStr;\n  }\n\n  function styleStartNumber (list, listType) {\n    // check if ol and starts by a number different than 1\n    if (listType === 'ol') {\n      var res = list.match(/^ *(\\d+)\\./);\n      if (res && res[1] !== '1') {\n        return ' start=\"' + res[1] + '\"';\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Check and parse consecutive lists (better fix for issue #142)\n   * @param {string} list\n   * @param {string} listType\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function parseConsecutiveLists (list, listType, trimTrailing) {\n    // check if we caught 2 or more consecutive lists by mistake\n    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa\n    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\\d+\\.[ \\t]/gm : /^ {0,3}\\d+\\.[ \\t]/gm,\n        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \\t]/gm : /^ {0,3}[*+-][ \\t]/gm,\n        counterRxg = (listType === 'ul') ? olRgx : ulRgx,\n        result = '';\n\n    if (list.search(counterRxg) !== -1) {\n      (function parseCL (txt) {\n        var pos = txt.search(counterRxg),\n            style = styleStartNumber(list, listType);\n        if (pos !== -1) {\n          // slice\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\\n';\n\n          // invert counterType and listType\n          listType = (listType === 'ul') ? 'ol' : 'ul';\n          counterRxg = (listType === 'ul') ? olRgx : ulRgx;\n\n          //recurse\n          parseCL(txt.slice(pos));\n        } else {\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\\n';\n        }\n      })(list);\n    } else {\n      var style = styleStartNumber(list, listType);\n      result = '\\n\\n<' + listType + style + '>\\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\\n';\n    }\n\n    return result;\n  }\n\n  /** Start of list parsing **/\n  text = globals.converter._dispatch('lists.before', text, options, globals);\n  // add sentinel to hack around khtml/safari bug:\n  // http://bugs.webkit.org/show_bug.cgi?id=11231\n  text += '0';\n\n  if (globals.gListLevel) {\n    text = text.replace(/^(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, list, m2) {\n        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, true);\n      }\n    );\n  } else {\n    text = text.replace(/(\\n\\n|^\\n?)(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, m1, list, m3) {\n        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, false);\n      }\n    );\n  }\n\n  // strip sentinel\n  text = text.replace(/0/, '');\n  text = globals.converter._dispatch('lists.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Parse metadata at the top of the document\n */\nshowdown.subParser('metadata', function (text, options, globals) {\n  'use strict';\n\n  if (!options.metadata) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('metadata.before', text, options, globals);\n\n  function parseMetadataContents (content) {\n    // raw is raw so it's not changed in any way\n    globals.metadata.raw = content;\n\n    // escape chars forbidden in html attributes\n    // double quotes\n    content = content\n      // ampersand first\n      .replace(/&/g, '&amp;')\n      // double quotes\n      .replace(/\"/g, '&quot;');\n\n    content = content.replace(/\\n {4}/g, ' ');\n    content.replace(/^([\\S ]+): +([\\s\\S]+?)$/gm, function (wm, key, value) {\n      globals.metadata.parsed[key] = value;\n      return '';\n    });\n  }\n\n  text = text.replace(/^\\s*+(\\S*?)\\n([\\s\\S]+?)\\n+\\n/, function (wholematch, format, content) {\n    parseMetadataContents(content);\n    return 'M';\n  });\n\n  text = text.replace(/^\\s*---+(\\S*?)\\n([\\s\\S]+?)\\n---+\\n/, function (wholematch, format, content) {\n    if (format) {\n      globals.metadata.format = format;\n    }\n    parseMetadataContents(content);\n    return 'M';\n  });\n\n  text = text.replace(/M/g, '');\n\n  text = globals.converter._dispatch('metadata.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Remove one level of line-leading tabs or spaces\n */\nshowdown.subParser('outdent', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('outdent.before', text, options, globals);\n\n  // attacklab: hack around Konqueror 3.5.4 bug:\n  // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n  text = text.replace(/^(\\t|[ ]{1,4})/gm, '0'); // attacklab: g_tab_width\n\n  // attacklab: clean up hack\n  text = text.replace(/0/g, '');\n\n  text = globals.converter._dispatch('outdent.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n */\nshowdown.subParser('paragraphs', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('paragraphs.before', text, options, globals);\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n\n  var grafs = text.split(/\\n{2,}/g),\n      grafsOut = [],\n      end = grafs.length; // Wrap <p> tags\n\n  for (var i = 0; i < end; i++) {\n    var str = grafs[i];\n    // if this is an HTML marker, copy it\n    if (str.search(/(K|G)(\\d+)\\1/g) >= 0) {\n      grafsOut.push(str);\n\n    // test for presence of characters to prevent empty lines being parsed\n    // as paragraphs (resulting in undesired extra empty paragraphs)\n    } else if (str.search(/\\S/) >= 0) {\n      str = showdown.subParser('spanGamut')(str, options, globals);\n      str = str.replace(/^([ \\t]*)/g, '<p>');\n      str += '</p>';\n      grafsOut.push(str);\n    }\n  }\n\n  /** Unhashify HTML blocks */\n  end = grafsOut.length;\n  for (i = 0; i < end; i++) {\n    var blockText = '',\n        grafsOutIt = grafsOut[i],\n        codeFlag = false;\n    // if this is a marker for an html block...\n    // use RegExp.test instead of string.search because of QML bug\n    while (/(K|G)(\\d+)\\1/.test(grafsOutIt)) {\n      var delim = RegExp.$1,\n          num   = RegExp.$2;\n\n      if (delim === 'K') {\n        blockText = globals.gHtmlBlocks[num];\n      } else {\n        // we need to check if ghBlock is a false positive\n        if (codeFlag) {\n          // use encoded version of all text\n          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);\n        } else {\n          blockText = globals.ghCodeBlocks[num].codeblock;\n        }\n      }\n      blockText = blockText.replace(/\\$/g, '$$$$'); // Escape any dollar signs\n\n      grafsOutIt = grafsOutIt.replace(/(\\n\\n)?(K|G)\\d+\\2(\\n\\n)?/, blockText);\n      // Check if grafsOutIt is a pre->code\n      if (/^<pre\\b[^>]*>\\s*<code\\b[^>]*>/.test(grafsOutIt)) {\n        codeFlag = true;\n      }\n    }\n    grafsOut[i] = grafsOutIt;\n  }\n  text = grafsOut.join('\\n');\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n  return globals.converter._dispatch('paragraphs.after', text, options, globals);\n});\n\r\n/**\n * Run extension\n */\nshowdown.subParser('runExtension', function (ext, text, options, globals) {\n  'use strict';\n\n  if (ext.filter) {\n    text = ext.filter(text, globals.converter, options);\n\n  } else if (ext.regex) {\n    // TODO remove this when old extension loading mechanism is deprecated\n    var re = ext.regex;\n    if (!(re instanceof RegExp)) {\n      re = new RegExp(re, 'g');\n    }\n    text = text.replace(re, ext.replace);\n  }\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('spanGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('spanGamut.before', text, options, globals);\n  text = showdown.subParser('codeSpans')(text, options, globals);\n  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);\n  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);\n\n  // Process anchor and image tags. Images must come first,\n  // because ![foo][f] looks like an anchor.\n  text = showdown.subParser('images')(text, options, globals);\n  text = showdown.subParser('anchors')(text, options, globals);\n\n  // Make links out of things like `<http://example.com/>`\n  // Must come after anchors, because you can use < and >\n  // delimiters in inline links like [this](<url>).\n  text = showdown.subParser('autoLinks')(text, options, globals);\n  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);\n  text = showdown.subParser('emoji')(text, options, globals);\n  text = showdown.subParser('underline')(text, options, globals);\n  text = showdown.subParser('italicsAndBold')(text, options, globals);\n  text = showdown.subParser('strikethrough')(text, options, globals);\n  text = showdown.subParser('ellipsis')(text, options, globals);\n\n  // we need to hash HTML tags inside spans\n  text = showdown.subParser('hashHTMLSpans')(text, options, globals);\n\n  // now we encode amps and angles\n  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);\n\n  // Do hard breaks\n  if (options.simpleLineBreaks) {\n    // GFM style hard breaks\n    // only add line breaks if the text does not contain a block (special case for lists)\n    if (!/\\n\\nK/.test(text)) {\n      text = text.replace(/\\n+/g, '<br />\\n');\n    }\n  } else {\n    // Vanilla hard breaks\n    text = text.replace(/  +\\n/g, '<br />\\n');\n  }\n\n  text = globals.converter._dispatch('spanGamut.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('strikethrough', function (text, options, globals) {\n  'use strict';\n\n  function parseInside (txt) {\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    return '<del>' + txt + '</del>';\n  }\n\n  if (options.strikethrough) {\n    text = globals.converter._dispatch('strikethrough.before', text, options, globals);\n    text = text.replace(/(?:~){2}([\\s\\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });\n    text = globals.converter._dispatch('strikethrough.after', text, options, globals);\n  }\n\n  return text;\n});\n\r\n/**\n * Strips link definitions from text, stores the URLs and titles in\n * hash references.\n * Link defs are in the form: ^[id]: url \"optional title\"\n */\nshowdown.subParser('stripLinkDefinitions', function (text, options, globals) {\n  'use strict';\n\n  var regex       = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?([^>\\s]+)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n+|(?=0))/gm,\n      base64Regex = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n\\n|(?=0)|(?=\\n\\[))/gm;\n\n  // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '0';\n\n  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {\n    linkId = linkId.toLowerCase();\n    if (url.match(/^data:.+?\\/.+?;base64,/)) {\n      // remove newlines\n      globals.gUrls[linkId] = url.replace(/\\s/g, '');\n    } else {\n      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive\n    }\n\n    if (blankLines) {\n      // Oops, found blank lines, so it's not a title.\n      // Put back the parenthetical statement we stole.\n      return blankLines + title;\n\n    } else {\n      if (title) {\n        globals.gTitles[linkId] = title.replace(/\"|'/g, '&quot;');\n      }\n      if (options.parseImgDimensions && width && height) {\n        globals.gDimensions[linkId] = {\n          width:  width,\n          height: height\n        };\n      }\n    }\n    // Completely remove the definition from the text\n    return '';\n  };\n\n  // first we try to find base64 link references\n  text = text.replace(base64Regex, replaceFunc);\n\n  text = text.replace(regex, replaceFunc);\n\n  // attacklab: strip sentinel\n  text = text.replace(/0/, '');\n\n  return text;\n});\n\r\nshowdown.subParser('tables', function (text, options, globals) {\n  'use strict';\n\n  if (!options.tables) {\n    return text;\n  }\n\n  var tableRgx       = /^ {0,3}\\|?.+\\|.+\\n {0,3}\\|?[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[\\s\\S]+?(?:\\n\\n|0)/gm,\n    //singeColTblRgx = /^ {0,3}\\|.+\\|\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n(?: {0,3}\\|.+\\|\\n)+(?:\\n\\n|0)/gm;\n      singeColTblRgx = /^ {0,3}\\|.+\\|[ \\t]*\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n( {0,3}\\|.+\\|[ \\t]*\\n)*(?:\\n|0)/gm;\n\n  function parseStyles (sLine) {\n    if (/^:[ \\t]*--*$/.test(sLine)) {\n      return ' style=\"text-align:left;\"';\n    } else if (/^--*[ \\t]*:[ \\t]*$/.test(sLine)) {\n      return ' style=\"text-align:right;\"';\n    } else if (/^:[ \\t]*--*[ \\t]*:$/.test(sLine)) {\n      return ' style=\"text-align:center;\"';\n    } else {\n      return '';\n    }\n  }\n\n  function parseHeaders (header, style) {\n    var id = '';\n    header = header.trim();\n    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility\n    if (options.tablesHeaderId || options.tableHeaderId) {\n      id = ' id=\"' + header.replace(/ /g, '_').toLowerCase() + '\"';\n    }\n    header = showdown.subParser('spanGamut')(header, options, globals);\n\n    return '<th' + id + style + '>' + header + '</th>\\n';\n  }\n\n  function parseCells (cell, style) {\n    var subText = showdown.subParser('spanGamut')(cell, options, globals);\n    return '<td' + style + '>' + subText + '</td>\\n';\n  }\n\n  function buildTable (headers, cells) {\n    var tb = '<table>\\n<thead>\\n<tr>\\n',\n        tblLgn = headers.length;\n\n    for (var i = 0; i < tblLgn; ++i) {\n      tb += headers[i];\n    }\n    tb += '</tr>\\n</thead>\\n<tbody>\\n';\n\n    for (i = 0; i < cells.length; ++i) {\n      tb += '<tr>\\n';\n      for (var ii = 0; ii < tblLgn; ++ii) {\n        tb += cells[i][ii];\n      }\n      tb += '</tr>\\n';\n    }\n    tb += '</tbody>\\n</table>\\n';\n    return tb;\n  }\n\n  function parseTable (rawTable) {\n    var i, tableLines = rawTable.split('\\n');\n\n    for (i = 0; i < tableLines.length; ++i) {\n      // strip wrong first and last column if wrapped tables are used\n      if (/^ {0,3}\\|/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/^ {0,3}\\|/, '');\n      }\n      if (/\\|[ \\t]*$/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/\\|[ \\t]*$/, '');\n      }\n      // parse code spans first, but we only support one line code spans\n      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);\n    }\n\n    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),\n        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),\n        rawCells = [],\n        headers = [],\n        styles = [],\n        cells = [];\n\n    tableLines.shift();\n    tableLines.shift();\n\n    for (i = 0; i < tableLines.length; ++i) {\n      if (tableLines[i].trim() === '') {\n        continue;\n      }\n      rawCells.push(\n        tableLines[i]\n          .split('|')\n          .map(function (s) {\n            return s.trim();\n          })\n      );\n    }\n\n    if (rawHeaders.length < rawStyles.length) {\n      return rawTable;\n    }\n\n    for (i = 0; i < rawStyles.length; ++i) {\n      styles.push(parseStyles(rawStyles[i]));\n    }\n\n    for (i = 0; i < rawHeaders.length; ++i) {\n      if (showdown.helper.isUndefined(styles[i])) {\n        styles[i] = '';\n      }\n      headers.push(parseHeaders(rawHeaders[i], styles[i]));\n    }\n\n    for (i = 0; i < rawCells.length; ++i) {\n      var row = [];\n      for (var ii = 0; ii < headers.length; ++ii) {\n        if (showdown.helper.isUndefined(rawCells[i][ii])) {\n\n        }\n        row.push(parseCells(rawCells[i][ii], styles[ii]));\n      }\n      cells.push(row);\n    }\n\n    return buildTable(headers, cells);\n  }\n\n  text = globals.converter._dispatch('tables.before', text, options, globals);\n\n  // find escaped pipe characters\n  text = text.replace(/\\\\(\\|)/g, showdown.helper.escapeCharactersCallback);\n\n  // parse multi column tables\n  text = text.replace(tableRgx, parseTable);\n\n  // parse one column tables\n  text = text.replace(singeColTblRgx, parseTable);\n\n  text = globals.converter._dispatch('tables.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('underline', function (text, options, globals) {\n  'use strict';\n\n  if (!options.underline) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('underline.before', text, options, globals);\n\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b_?__(\\S[\\s\\S]*)___?\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n  } else {\n    text = text.replace(/_?__(\\S[\\s\\S]*?)___?/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n  }\n\n  // escape remaining underscores to prevent them being parsed by italic and bold\n  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('underline.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Swap back in all the special characters we've hidden.\n */\nshowdown.subParser('unescapeSpecialChars', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);\n\n  text = text.replace(/E(\\d+)E/g, function (wholeMatch, m1) {\n    var charCodeToReplace = parseInt(m1);\n    return String.fromCharCode(charCodeToReplace);\n  });\n\n  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);\n  return text;\n});\n\r\nvar root = this;\n\n// AMD Loader\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    'use strict';\n    return showdown;\n  });\n\n// CommonJS/nodeJS Loader\n} else if (typeof module !== 'undefined' && module.exports) {\n  module.exports = showdown;\n\n// Regular Browser loader\n} else {\n  root.showdown = showdown;\n}\n}).call(this);\r\n\n//# sourceMappingURL=showdown.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/showdown/dist/showdown.js\n// module id = ../chat-codes-services/node_modules/showdown/dist/showdown.js\n// module chunks = main","//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result  either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../chat-codes-services/node_modules/underscore/underscore.js\n// module id = ../chat-codes-services/node_modules/underscore/underscore.js\n// module chunks = main","import * as _ from 'underscore';\nimport { ChatUser, ChatUserList } from './chat-user';\nimport { EditorStateTracker, EditorState } from './editor-state-tracker';\nimport { ChannelCommunicationService } from './communication-service';\nimport { EventEmitter } from './event';\nimport * as showdown from 'showdown';\nimport * as difflib from 'difflib';\nimport * as ShareDB from 'sharedb/lib/client';\n\nfunction tstamp(x:number|Timestamped):number {\n\tif(typeof(x) === typeof(1)) { return (x as number); }\n\telse { return (x as Timestamped).getTimestamp(); }\n}\nfunction before(a:number|Timestamped, b:number|Timestamped):boolean { return tstamp(a) < tstamp(b); }\nfunction after(a:number|Timestamped, b:number|Timestamped):boolean { return tstamp(a) > tstamp(b); }\nfunction beforeEQ(a:number|Timestamped, b:number|Timestamped):boolean { return tstamp(a) <= tstamp(b); }\nfunction afterEQ(a:number|Timestamped, b:number|Timestamped):boolean { return tstamp(a) >= tstamp(b); }\n\nfunction reverseArr(input) {\n    var ret = new Array;\n    for(var i = input.length-1; i >= 0; i--) {\n        ret.push(input[i]);\n    }\n    return ret;\n}\n\nenum ConnectionAction {\n\tconnect = 1,\n\tdisconnect\n};\n\nexport interface Timestamped {\n\tgetTimestamp():number;\n}\n\ninterface MessageGroup<Timestamped> {\n\tgetEarliestTimestamp():number;\n\tgetLatestTimestamp():number;\n\tincludesTimestamp(timestamp:number):boolean;\n\taddItem(item):number;\n    split(timestamp:number):Array<MessageGroup<Timestamped>>;\n\toccuredBefore(item:Timestamped|number);\n\toccuredBeforeEQ(item:Timestamped|number);\n\toccuredAfter(item:Timestamped|number);\n\toccuredAfterEQ(item:Timestamped|number);\n}\n\nexport class ConnectionMessage implements Timestamped {\n\tconstructor(private user:ChatUser, private timestamp:number, private action:ConnectionAction) { }\n\tpublic getUser():ChatUser { return this.user; };\n\tpublic getTimestamp():number { return this.timestamp; };\n\tpublic isConnect():boolean { return this.action === ConnectionAction.connect; }\n\tpublic isDisconnect():boolean { return this.action !== ConnectionAction.connect; }\n}\n\nexport class EditMessage implements Timestamped {\n\tconstructor(private users:Array<ChatUser>, private editors:Array<EditorState>, private timestamp:number, private contents) { }\n\tpublic getUsers():Array<ChatUser> { return this.users; };\n\tpublic getEditors():Array<EditorState> { return this.editors; };\n\tpublic getTimestamp():number { return this.timestamp; };\n\tpublic getContents() { return this.contents; };\n}\n\nexport class TextMessage implements Timestamped {\n\tconstructor(private sender:ChatUser, private timestamp:number, private message:string, private editorsVersion:number, editorStateTracker:EditorStateTracker) {\n\t\tconst htmlBuilder = document.createElement('li');\n\t\thtmlBuilder.innerHTML = this.converter.makeHtml(this.message);\n\t\t_.each(htmlBuilder.querySelectorAll('a'), (a) => {\n\t\t\tconst fileLinkInfo = this.matchFileLinkAttributes(a.getAttribute('href'));\n\t\t\tif(fileLinkInfo) {\n\t\t\t\tconst {fileName, start, end} = fileLinkInfo;\n\t\t\t\tif(isNaN(start.column)) { start.column = -1; }\n\t\t\t\tif(isNaN(end.row)) { end.row = start.row; } // just one line\n\t\t\t\tif(isNaN(end.column)) { end.column = -1; }\n\n\t\t\t\tconst editorState = editorStateTracker.fuzzyMatch(fileName);\n\t\t\t\tconst fileID = editorState ? editorState.getEditorID() : fileName;\n\n\t\t\t\ta.setAttribute('href', 'javascript:void(0)');\n\t\t\t\ta.setAttribute('class', 'line_ref');\n\n\t\t\t\ta.setAttribute('data-file', fileID);\n\t\t\t\ta.setAttribute('data-start', [start.row, start.column].join(','));\n\t\t\t\ta.setAttribute('data-end', [end.row, end.column].join(','));\n\t\t\t}\n\t\t});\n\t\tthis.html = htmlBuilder.innerHTML;\n\t}\n\tprivate html:string;\n\tpublic getSender():ChatUser { return this.sender; };\n\tpublic getTimestamp():number { return this.timestamp; };\n\tpublic getMessage():string { return this.message; };\n\tpublic getHTML():string { return this.html; };\n\tpublic getEditorVersion():number { return this.editorsVersion; };\n\n\tprivate converter = new showdown.Converter({simplifiedAutoLink: true});\n\tprivate fileLinkRegexp = new RegExp('^(.+):\\s*L(\\\\d+)(\\\\s*,\\\\s*(\\\\d+))?(\\s*-\\s*L(\\\\d+)(\\\\s*,\\\\s*(\\\\d+))?)?$')\n\tprivate matchFileLinkAttributes(str) {\n\t\tconst match = str.match(this.fileLinkRegexp);\n\t\tif(match) {\n\t\t\treturn {\n\t\t\t\tfileName: match[1],\n\t\t\t\tstart: {\n\t\t\t\t\trow:  parseInt(match[2]),\n\t\t\t\t\tcolumn: parseInt(match[4])\n\t\t\t\t},\n\t\t\t\tend: {\n\t\t\t\t\trow:  parseInt(match[6]),\n\t\t\t\t\tcolumn: parseInt(match[8])\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n}\n\nclass Group<T extends Timestamped> extends EventEmitter implements MessageGroup<T> {\n\tprivate items:Array<T>=[];\n\tconstructor(items:Array<Timestamped>) {\n\t\tsuper();\n\t\titems.forEach((item:T) => {\n\t\t\tthis.doAddItem(item);\n\t\t});\n\t};\n\n\tpublic getItems():Array<T> { return this.items; }\n\tpublic getEarliestItem():T { return _.first(this.getItems()); }\n\tpublic getLatestItem():T { return _.last(this.getItems()); }\n\tpublic getEarliestTimestamp():number { return this.getEarliestItem().getTimestamp(); }\n\tpublic getLatestTimestamp():number { return this.getLatestItem().getTimestamp(); }\n\tpublic includesTimestamp(timestamp:number):boolean {\n\t\treturn afterEQ(timestamp, this.getEarliestTimestamp()) && beforeEQ(timestamp, this.getLatestTimestamp());\n\t};\n\tpublic occuredBefore(item:Timestamped|number):boolean {\n\t\treturn before(this.getLatestTimestamp(), item);\n\t};\n\tpublic occuredBeforeEQ(item:Timestamped|number):boolean {\n\t\treturn beforeEQ(this.getLatestTimestamp(), item);\n\t};\n\tpublic occuredAfter(item:Timestamped|number):boolean {\n\t\treturn after(this.getLatestTimestamp(), item);\n\t};\n\tpublic occuredAfterEQ(item:Timestamped|number):boolean {\n\t\treturn afterEQ(this.getLatestTimestamp(), item);\n\t};\n\tprivate getInsertionIndex(timestamp:number):number {\n\t\tconst items = this.getItems();\n\n\t\tlet i = items.length-1;\n\t\tfor(; i>=0; i--) {\n\t\t\tif(before(this.items[i], timestamp)) {\n\t\t\t\treturn i+1;\n\t\t\t}\n\t\t}\n\t\treturn i;\n\t}\n\tpublic split(timestamp:number):Array<Group<T>> {\n\t\tconst index = this.getInsertionIndex(timestamp);\n\t\tconst beforeIndex = this.constructNew(this.items.slice(0, index));\n\t\tconst afterIndex = this.constructNew(this.items.slice(index));\n\t\treturn [beforeIndex, afterIndex];\n\t};\n\tprivate doAddItem(item:T) {\n\t\tconst insertionIndex = this.getInsertionIndex(item.getTimestamp());\n\t\tthis.items.splice(insertionIndex, 0, item);\n\t\treturn {\n\t\t\tinsertionIndex: insertionIndex,\n\t\t\titem: item\n\t\t};\n\t};\n\tpublic addItem(titem:T):number {\n\t\t(this as any).emit('item-will-be-added', {\n\t\t\tgroup: this,\n\t\t\titem: titem\n\t\t});\n\t\tconst {insertionIndex, item} = this.doAddItem(titem);\n\t\t(this as any).emit('item-added', {\n\t\t\tgroup: this,\n\t\t\titem: titem,\n\t\t\tinsertionIndex: insertionIndex\n\t\t});\n\t\treturn insertionIndex;\n\t};\n\tpublic compatibleWith(item:any):boolean {\n\t\treturn true;\n\t};\n\tprotected constructNew(items):Group<T> {\n\t\treturn new Group<T>(items);\n\t};\n\tpublic clearItems() {\n\t\tfor(let i = 0; i<this.items.length; i++) {\n\t\t\tthis.removeItem(i);\n\t\t\ti--;\n\t\t}\n\t};\n\tpublic removeItem(i:number) {\n\t\tconst item = this.items[i];\n\t\t(this as any).emit('item-will-be-removed', {\n\t\t\tgroup: this,\n\t\t\titem: item\n\t\t});\n\t\tthis.items.splice(i, 1);\n\t\t(this as any).emit('item-removed', {\n\t\t\tgroup: this,\n\t\t\titem: item\n\t\t});\n\t}\n}\n\nexport class EditGroup extends Group<EditMessage> {\n\tpublic getDiffSummary():Array<any> {\n\t\tconst contentMap:Map<string, any> = new Map();\n\t\tthis.getItems().forEach((em:EditMessage) => {\n\t\t\tconst contents = em.getContents();\n\t\t\t_.each(contents, (info, editorID:string) => {\n\t\t\t\tcontentMap.set(editorID, info);\n\t\t\t})\n\t\t});\n\t\tconst editors = this.getEditorStates();\n\t\tconst editorMap:Map<string, EditorState> = new Map<string, EditorState>();\n\t\teditors.forEach((ed:EditorState) => {\n\t\t\teditorMap.set(ed.getEditorID(), ed);\n\t\t});\n\t\tconst diffs = [];\n\t\tcontentMap.forEach((info, editorID) => {\n\t\t\tconst editorState = editorMap.get(editorID);\n\t\t\tconst editorTitle = editorState.getTitle();\n\t\t\tconst {valueBefore, valueAfter} = info;\n\n\t\t\tlet diff = difflib.unifiedDiff(valueBefore.split('\\n'), valueAfter.split('\\n'), {fromfile:editorTitle, tofile:editorTitle});\n\t\t\tif(diff.length > 0) { diff[0]=diff[0].trim(); }\n\t\t\tif(diff.length > 1) { diff[1]=diff[1].trim(); }\n\t\t\tdiff = diff.join('\\n');\n\t\t\tdiffs.push({\n\t\t\t\teditorState: editorState,\n\t\t\t\tvalueBefore: valueBefore,\n\t\t\t\tvalueAfter: valueAfter,\n\t\t\t\tdiff: diff\n\t\t\t});\n\t\t});\n\t\treturn diffs;\n\t};\n\n\tpublic getEditorStates():Array<EditorState> {\n\t\tconst editorStates = _.chain(this.getItems())\n\t\t\t\t\t\t\t\t.map(delta => delta.getEditors())\n\t\t\t\t\t\t\t\t.flatten()\n\t\t\t\t\t\t\t\t.compact()\n\t\t\t\t\t\t\t\t.unique()\n\t\t\t\t\t\t\t\t.value();\n\t\treturn editorStates;\n\t}\n\tpublic getAuthors():Array<ChatUser> {\n\t\tconst authors = _.chain(this.getItems())\n\t\t\t\t\t\t\t\t.map(delta => delta.getUsers())\n\t\t\t\t\t\t\t\t.flatten()\n\t\t\t\t\t\t\t\t.compact()\n\t\t\t\t\t\t\t\t.unique()\n\t\t\t\t\t\t\t\t.value();\n\t\treturn authors;\n\t}\n\tpublic compatibleWith(item:any):boolean {\n\t\treturn item instanceof EditMessage;\n\t};\n\tprotected constructNew(items):EditGroup {\n\t\treturn new EditGroup(items);\n\t};\n}\n/*\n * MessageGroup represents a group of messages that were sent by the same user *around*\n * the same time with no other users interrupting.\n */\nexport class TextMessageGroup extends Group<TextMessage> {\n\tpublic getSender():ChatUser { return this.getEarliestItem().getSender(); }\n\tpublic compatibleWith(item:TextMessage):boolean {\n\t\treturn item instanceof TextMessage && item.getSender() === this.getSender();\n\t};\n\tprotected constructNew(items):TextMessageGroup {\n\t\treturn new TextMessageGroup(items);\n\t};\n\tpublic getEditorVersion():number {\n\t\treturn this.getLatestItem().getEditorVersion();\n\t};\n};\n\nexport class ConnectionMessageGroup extends Group<ConnectionMessage> {\n\tpublic isConnect():boolean { return this.getEarliestItem().isConnect(); }\n\tpublic isDisconnect():boolean { return this.getEarliestItem().isDisconnect(); }\n\tpublic compatibleWith(item:any):boolean {\n\t\treturn (item instanceof ConnectionMessage) && ((this.isConnect() && item.isConnect()) || (this.isDisconnect() && item.isDisconnect()));\n\t};\n\tprotected constructNew(items):ConnectionMessageGroup {\n\t\treturn new ConnectionMessageGroup(items);\n\t};\n\tpublic getUsers():Array<ChatUser> {\n\t\tconst users = this.getItems().map(cm => cm.getUser() )\n\t\treturn _.unique(users);\n\t}\n};\n\n/*\n * A class to keep track of all of the messages in a conversation (where messages are grouped).\n */\nexport class MessageGroups extends EventEmitter {\n    private chatDocPromise:Promise<ShareDB.Doc>;\n\tprivate messageGroupingTimeThreshold: number = 5 * 60 * 1000; // The delay between when messages should be in separate groups (5 minutes)\n\tprivate messageGroups: Array<Group<TextMessage|EditMessage|ConnectionMessage>> = [];\n\tpublic ready:Promise<any>;\n\tconstructor(private channelService:ChannelCommunicationService, private chatUserList:ChatUserList, public editorStateTracker:EditorStateTracker) {\n\t\tsuper();\n        this.chatDocPromise = this.channelService.getShareDBChat();\n\t\tthis.ready = Promise.all([this.chatDocPromise, this.chatUserList.ready, editorStateTracker.ready]).then((info) => {\n\t\t\tconst doc:ShareDB.Doc = info[0];\n\t\t\tdoc.data['messages'].forEach((li) => {\n\t\t\t\tthis.addFromSerializedMessage(li);\n\t\t\t});\n            doc.on('op', (ops, source) => {\n                ops.forEach((op) => {\n                    const {p, li, ld} = op;\n                    const [field] = p;\n\t\t\t\t\tif(field === 'messages') {\n\t\t\t\t\t\tconst messageGroups = this.getMessageGroups();\n\t\t\t\t\t\tconst lastMessageGroup = _.last(messageGroups);\n\t\t\t\t\t\tif(ld && !_.isEmpty(ld) && lastMessageGroup instanceof EditGroup) {\n\t\t\t\t\t\t\tlastMessageGroup.addItem(this.createMessage(li) as EditMessage);\n\t\t\t\t\t\t\tlastMessageGroup.removeItem(0);\n\t\t\t\t\t\t} else if(li) {\n\t\t\t\t\t\t\tthis.addFromSerializedMessage(li);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n                });\n\t\t\t});\n\t\t});\n\t};\n\tprivate createMessage(li):TextMessage|ConnectionMessage|EditMessage {\n\t\tif(!_.has(li, 'type')) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst {type} = li;\n\t\tif(type === 'text') {\n\t\t\tconst sender = this.chatUserList.getUser(li.uid);\n\t\t\treturn new TextMessage(sender, li.timestamp, li.message, li.editorsVersion, this.editorStateTracker);\n\t\t} else if(type === 'join') {\n\t\t\tconst user = this.chatUserList.getUser(li.uid);\n\t\t\treturn new ConnectionMessage(user, li.timestamp, ConnectionAction.connect);\n\t\t} else if(type === 'left') {\n\t\t\tconst user = this.chatUserList.getUser(li.uid);\n\t\t\treturn new ConnectionMessage(user, li.timestamp, ConnectionAction.disconnect);\n\t\t} else if(type === 'edit') {\n\t\t\tconst users:Array<ChatUser> = li.users.map((uid) => this.chatUserList.getUser(uid));\n\t\t\tconst editors:Array<EditorState> = li.files.map((eid) => this.editorStateTracker.getEditorState(eid));\n\t\t\treturn new EditMessage(users, editors, li.endTimestamp, li.fileContents);\n\t\t} else {\n\t\t\tconsole.error(type);\n\t\t\treturn null;\n\t\t}\n\t}\n\tprivate addFromSerializedMessage(li) {\n\t\tconst message = this.createMessage(li);\n\t\tif(message) {\n\t\t\treturn this.addItem(message);\n\t\t}\n\t}\n\n\tprivate typeMatches(item:Timestamped, group:Group<Timestamped>):boolean {\n\t\treturn (group instanceof EditGroup && item instanceof EditMessage) ||\n\t\t\t\t(group instanceof TextMessageGroup && item instanceof TextMessage) ||\n\t\t\t\t(group instanceof ConnectionMessageGroup && item instanceof ConnectionMessage);\n\t}\n\n\tprivate addItem(item:EditMessage|TextMessage|ConnectionMessage) {\n\t\tconst itemTimestamp = item.getTimestamp();\n\t\tlet insertedIntoExistingGroup:boolean = false;\n\t\tlet i = this.messageGroups.length-1\n\n\t\tfor(; i>=0; i--) {\n\t\t\tconst messageGroup = this.messageGroups[i];\n\t\t\tif(messageGroup.includesTimestamp(itemTimestamp)) {\n\t\t\t\tif(messageGroup.compatibleWith(item)) {\n\t\t\t\t\tmessageGroup.addItem(item);\n\t\t\t\t\tinsertedIntoExistingGroup = true;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t(this as any).emit('group-will-be-removed', {\n\t\t\t\t\t\tmessageGroup: messageGroup,\n\t\t\t\t\t\tinsertionIndex: i\n\t\t\t\t\t});\n\t\t\t\t\tthis.messageGroups.splice(i, 1);\n\t\t\t\t\t(this as any).emit('group-removed', {\n\t\t\t\t\t\tmessageGroup: messageGroup,\n\t\t\t\t\t\tinsertionIndex: i\n\t\t\t\t\t});\n\t\t\t\t\tconst splitGroup = messageGroup.split(itemTimestamp);\n\t\t\t\t\tsplitGroup.forEach((mg, j) => {\n\t\t\t\t\t\tthis.addGroup(mg, i+j);\n\t\t\t\t\t});\n\t\t\t\t\ti+=splitGroup.length; // on the next loop, will be at the later split\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if(messageGroup.occuredBefore(itemTimestamp)) {\n\t\t\t\tif(messageGroup.compatibleWith(item) && (itemTimestamp <= messageGroup.getEarliestTimestamp()+this.messageGroupingTimeThreshold)) {\n\t\t\t\t\tmessageGroup.addItem(item);\n\t\t\t\t\tinsertedIntoExistingGroup = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(!insertedIntoExistingGroup) {\n\t\t\tconst insertionIndex = i+1;\n\t\t\tlet group:Group<EditMessage|TextMessage|ConnectionMessage>;\n\t\t\tif(item instanceof TextMessage) {\n\t\t\t\tgroup = new TextMessageGroup([item]);\n\t\t\t} else if(item instanceof ConnectionMessage){\n\t\t\t\tgroup = new ConnectionMessageGroup([item]);\n\t\t\t} else {\n\t\t\t\tgroup = new EditGroup([item]);\n\t\t\t}\n\t\t\tthis.addGroup(group, insertionIndex);\n\t\t}\n\t}\n\tprivate addGroup(group:Group<EditMessage|TextMessage|ConnectionMessage>, insertionIndex:number) {\n\t\t(this as any).emit('group-will-be-added', {\n\t\t\tmessageGroup: group,\n\t\t\tinsertionIndex: insertionIndex\n\t\t});\n\t\tthis.messageGroups.splice(insertionIndex, 0, group);\n\t\t(this as any).emit('group-added', {\n\t\t\tmessageGroup: group,\n\t\t\tinsertionIndex: insertionIndex\n\t\t});\n\t\t(group as any).on('item-will-be-added', (event) => {\n\t\t\t(this as any).emit('item-will-be-added', event);\n\t\t});\n\t\t(group as any).on('item-added', (event) => {\n\t\t\t(this as any).emit('item-added', event);\n\t\t});\n\t\t(group as any).on('item-will-be-removed', (event) => {\n\t\t\t(this as any).emit('item-will-be-removed', event);\n\t\t});\n\t\t(group as any).on('item-removed', (event) => {\n\t\t\t(this as any).emit('item-removed', event);\n\t\t});\n\t}\n\n\tpublic getMessageGroups() { return this.messageGroups; }\n\n\t/**\n\t * Returns true if there are no messages and false otherwise\n\t * @return {boolean} If there are no messages\n\t */\n\tpublic isEmpty():boolean {\n\t\treturn this.messageGroups.length === 0;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../chat-codes-services/src/chat-messages.ts","import * as _ from 'underscore';\nimport { EventEmitter } from './event';\nimport { ChannelCommunicationService } from './communication-service';\nimport * as ShareDB from 'sharedb/lib/client';\n\n/*\n * Represents a single chat user\n */\nexport class ChatUser extends EventEmitter {\n    private chatDocPromise:Promise<ShareDB.Doc>;\n    /**\n     * constructor\n     * @param  {boolean} isMe       Whether the user is me or not\n     * @param  {string}  id         The unique id\n     * @param  {string}  name       The display name\n     * @param  {boolean} active     Whether this user is currently in the channel\n     * @param  {number}  colorIndex The user's color\n     */\n    constructor(private isMe:boolean, private id:string, private name:string, private joined:number, private left:number, private colorIndex:number, private channelService:ChannelCommunicationService) {\n        super();\n        this.chatDocPromise = this.channelService.getShareDBChat();\n    }\n    private typingStatus:string='IDLE';\n    public getIsMe():boolean { return this.isMe; };\n    public getID():string { return this.id; }\n    public getName():string { return this.name; }\n    public getColorIndex():number { return this.colorIndex; };\n    public getTypingStatus():string { return this.typingStatus; };\n    public setLeft(ts:number) { this.left = ts; };\n    public getLeft():number { return this.left; };\n    public getJoined():number { return this.joined; };\n\n    public setTypingStatus(status:string) {\n        this.typingStatus = status;\n        (this as any).emit('typingStatus', {\n            status: status\n        });\n    }\n}\n\nexport class ChatUserList extends EventEmitter {\n    private activeUsers:Map<string, ChatUser>=new Map();\n    private allUsers:Map<string, ChatUser>=new Map();\n    private chatDocPromise:Promise<ShareDB.Doc>;\n    public ready:Promise<boolean>;\n    constructor(private myIDPromise:Promise<string>, private channelService:ChannelCommunicationService) {\n        super();\n        this.chatDocPromise = this.channelService.getShareDBChat();\n        this.ready = Promise.all([this.chatDocPromise, this.myIDPromise]).then((info) => {\n            const doc:ShareDB.Doc = info[0];\n            const myID:string = info[1];\n            _.each(doc.data.allUsers, (oi:any) => {\n                this.allUsers.set(oi.id, this.createUser(oi, myID));\n            });\n            _.each(doc.data.activeUsers, (oi:any) => {\n                this.activeUsers.set(oi.id, this.createUser(oi, myID));\n            });\n\n            doc.on('op', (ops, source) => {\n                ops.forEach((op) => {\n                    const {p} = op;\n                    const [field] = p;\n                    if((field === 'activeUsers' || field === 'allUsers') && (p.length === 2)) {\n                        const userMap:Map<string,ChatUser> = field==='activeUsers' ? this.activeUsers : this.allUsers;\n\n                        if(_.has(op, 'od') && _.has(op, 'oi')) {\n                            const {od, oi} = op;\n                            if(od.id !== oi.id) {\n                                const addedUser = this.createUser(oi, myID);\n                                userMap.delete(od.id);\n                                (this as any).emit('userRemoved', {\n                                    id: od.id\n                                });\n                                userMap.set(oi.id, addedUser);\n                                (this as any).emit('userAdded', {\n                                    user: addedUser\n                                });\n                            }\n                        } else if (_.has(op, 'od')) {\n                            const {od} = op;\n                            const {id} = od;\n                            userMap.delete(id);\n                            (this as any).emit('userRemoved', {\n                                id: id\n                            });\n                        } else if (_.has(op, 'oi')) {\n                            const {oi} = op;\n                            const addedUser = this.createUser(oi, myID);\n\n                            userMap.set(oi.id, addedUser);\n                            (this as any).emit('userAdded', {\n                                user: addedUser\n                            });\n                        }\n                    } else if (_.last(p) === 'typingStatus') {\n                        if(_.has(op, 'oi')) {\n                            const {oi} = op;\n                            const uid:string = p[1];\n                            const user = this.getUser(uid);\n                            user.setTypingStatus(oi);\n                        }\n                    } else {\n                        // console.log(p);\n                    }\n                });\n            });\n        }).then(() => {\n            return true;\n        });\n    }\n    private createUser(userInfo, myID):ChatUser {\n        const {id, joined, left, info} = userInfo;\n\n        if(this.allUsers.has(id)) {\n            const user:ChatUser = this.allUsers.get(id);\n            return user;\n        } else {\n            const {name, colorIndex} = info;\n            const isMe = (id === myID);\n            const user:ChatUser = new ChatUser(isMe, id, name, joined, left, colorIndex, this.channelService);\n            this.allUsers.set(id, user);\n            return user;\n        }\n    };\n    public getUser(id:string):ChatUser {\n        return this.allUsers.get(id);\n    }\n    public getMe():ChatUser {\n        const activeUsers = this.getActiveUsers();\n        for(let i = 0; i<activeUsers.length; i++) {\n            let user = activeUsers[i];\n            if(user.getIsMe()) { return user; }\n        }\n        return null;\n    }\n    public getActiveUsers():Array<ChatUser> {\n        return Array.from(this.activeUsers.values());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../chat-codes-services/src/chat-user.ts","import * as _ from 'underscore';\nimport * as sharedb from 'sharedb/lib/client';\nimport { ChatUserList, ChatUser } from './chat-user'\nimport { WebSocketCommunicationLayer, NamespaceCommunicator } from './socket-communication-layer';\nimport { MessageGroups } from './chat-messages';\nimport { EventEmitter } from './event';\nimport { EditorStateTracker, EditorState } from './editor-state-tracker';\n\nexport class ChannelCommunicationService extends EventEmitter {\n    private userList:ChatUserList; // A list of chat userList\n    private messageGroups:MessageGroups // A list of message groups\n    private editorStateTracker:EditorStateTracker; // A tool to help keep track of the editor state\n    private myID:string; // The ID assigned to this user\n    private _isRoot:boolean=false;\n    private chatDoc:Promise<sharedb.Doc>;\n    private editorsDoc:Promise<sharedb.Doc>;\n    private cursorsDoc:Promise<sharedb.Doc>;\n    private commLayer:WebSocketCommunicationLayer;\n    private channelCommLayer:Promise<NamespaceCommunicator>;\n    /**\n     * [constructor description]\n     * @param  {CommunicationService} privatecommService The CommunicationService object that created this instance\n     * @param  {string}               channelName The name of the channel we're communicating on\n     * @param  {class}               EditorWrapperClass A class whose instances satisfy the EditorWrapper interface\n     */\n    constructor(private commService:CommunicationService, private channelName:string, private channelID:string, private isObserver:boolean, EditorWrapperClass) {\n        super();\n        this.commLayer = commService.commLayer;\n        this.channelCommLayer = this.commLayer.getNamespace(this.getChannelName(), this.channelID);\n\n        this.chatDoc = this.createDocSubscription('chat');\n        this.editorsDoc = this.createDocSubscription('editors');\n        this.cursorsDoc = this.createDocSubscription('cursors');\n\n        this.userList = new ChatUserList(this.getMyID(), this);\n        this.editorStateTracker = new EditorStateTracker(EditorWrapperClass, this, this.userList, this.isObserver);\n        this.messageGroups = new MessageGroups(this, this.userList, this.editorStateTracker);\n    }\n    public getUserList():ChatUserList { return this.userList; };\n    public getEditorStateTracker():EditorStateTracker { return this.editorStateTracker; };\n    public getMessageGroups():MessageGroups { return this.messageGroups; };\n    private createDocSubscription(docName:string):Promise<sharedb.Doc> {\n        return this.channelCommLayer.then((ccomm:NamespaceCommunicator) => {\n            return ccomm.getShareDBObject(docName);\n        }).then((doc) => {\n            return new Promise((resolve, reject) => {\n                doc.subscribe((err) => {\n                    if(err) {\n                        reject(err);\n                    } else {\n                        resolve(doc);\n                    }\n                });\n            });\n        });\n    }\n\tpublic getMyID():Promise<string> {\n        return this.channelCommLayer.then((ccomm) => {\n            return ccomm.getID();\n        })\n\t}\n    public getShareDBChat():Promise<sharedb.Doc> { return this.chatDoc; }\n    public getShareDBEditors():Promise<sharedb.Doc> { return this.editorsDoc; }\n    public getShareDBCursors():Promise<sharedb.Doc> { return this.cursorsDoc; }\n\n    private cachedEditorVersions:Map<number, Promise<Map<string,any>>> = new Map();\n    public getEditorVersion(version:number):Promise<Map<string, any>> {\n        if(this.cachedEditorVersions.has(version)) {\n            return this.cachedEditorVersions.get(version);\n        } else {\n            const prv = this.channelCommLayer.then((ccomm) => {\n                return ccomm.pemit('get-editors-values', version);\n            }).then((data) => {\n                const rv:Map<string, any> = new Map<string, any>();\n\n                _.each(data, (x:any) => {\n                    rv.set(x.id, x);\n                })\n                return rv;\n            });\n            this.cachedEditorVersions.set(version, prv);\n            return prv;\n        }\n    }\n\n    /**\n     * A promise that resolves when the communication channel is ready\n     * @return {Promise<any>} [description]\n     */\n    public ready():Promise<any> {\n        return Promise.all([ this.channelCommLayer, this.editorStateTracker.ready, this.userList.ready , this.messageGroups.ready ])\n    }\n\n    /**\n     * Request that the user saves a particular file\n      * @param {[type]} data Information about which file to save\n     */\n    public emitSave(data):void {\n        (this as any).emit('save', _.extend({\n            sender: this.userList.getMe(),\n            timestamp: this.getTimestamp()\n        }, data));\n    }\n\n    /**\n     * Called when the user opens a new editor window\n     * @param {[type]} data Information about the editor\n     */\n    public emitEditorOpened(data):void {\n\t\tconst editorState = this.editorStateTracker.onEditorOpened(data, true);\n        (this as any).emit('editor-opened', data);\n    }\n\n    /**\n     * Send chat message\n     * @param {string} message The text of the message to send\n     */\n    public sendTextMessage(message:string):void {\n        if(!this.isObserver) {\n            Promise.all([this.getMyID(), this.getShareDBChat(), this.getShareDBEditors()]).then((info) => {\n                const myID:string = info[0]\n                const chatDoc:sharedb.Doc = info[1]\n                const editorsDoc:sharedb.Doc = info[2]\n\n                const data = {\n                    uid: myID,\n                    type: 'text',\n                    message: message,\n                    timestamp: this.getTimestamp(),\n                    editorsVersion: editorsDoc.version\n                };\n    \t\t\tchatDoc.submitOp([{p: ['messages', chatDoc.data.messages.length], li: data}]);\n            });\n        }\n    }\n\n    public addAction(action:any):void {\n        Promise.all([this.getMyID(), this.getShareDBChat(), this.getShareDBEditors()]).then((info) => {\n            const myID:string = info[0]\n            const chatDoc:sharedb.Doc = info[1]\n            const editorsDoc:sharedb.Doc = info[2]\n\n            const data = {\n                uid: myID,\n                type: 'text',\n                action,\n                timestamp: this.getTimestamp()\n            };\n            chatDoc.submitOp([{p: ['actions', chatDoc.data.actions.length], li: data}]);\n        });\n    };\n\n    public getChatDoc():Promise<any> {\n        return Promise.all([this.getMyID(), this.getShareDBChat(), this.getShareDBEditors()]).then((info) => {\n            const myID:string = info[0]\n            const chatDoc:sharedb.Doc = info[1]\n            const editorsDoc:sharedb.Doc = info[2]\n\n            return chatDoc.data;\n        });\n    };\n\n    /**\n     * Update typing status to either:\n     * - 'IDLE' - The user is not typing anything\n     * - 'ACTIVE_TYPING' - The user is actively typing\n     * - 'IDLE_TYPED' - The user typed something but hasn't sent it or updated for a while\n     * @param {string} status IDLE, ACTIVE_TYPING, or IDLE_TYPED\n     */\n    public sendTypingStatus(status:string):void {\n        if(!this.isObserver) {\n            Promise.all([this.getMyID(), this.getShareDBChat()]).then((info) => {\n                const myID:string = info[0]\n                const doc:sharedb.Doc = info[1]\n\n                const oldValue = doc.data['activeUsers'][myID]['info']['typingStatus'];\n                doc.submitOp([{p: ['activeUsers', myID, 'info', 'typingStatus'], od: oldValue, oi: status}]);\n            });\n        }\n    }\n\n    /**\n     * The user modified something in the editor\n     * @param {[type]} serializedDelta       The change\n     * @param {[type]} remote=true whether the change was made by a remote client or on the editor\n     */\n    public emitEditorChanged(serializedDelta, remote=true):void {\n        this.channelCommLayer.then((ccomm) => {\n            const myID = ccomm.getID();\n            _.extend(serializedDelta, {\n    \t\t\ttimestamp: this.getTimestamp(),\n                uid: myID,\n    \t\t\tremote: remote\n            });\n            return ccomm.pemit('editor-event', serializedDelta);\n        });\n    }\n\n    /**\n     * The cursor position for the user changed\n     * @param {[type]} delta       Information about the cursor position\n     * @param {[type]} remote=true Whether this was from a remote user\n     */\n    public onCursorPositionChanged(delta):void {\n        if(!this.isObserver) {\n            Promise.all([this.getMyID(), this.getShareDBCursors()]).then((info) => {\n                const myID:string = info[0]\n                const doc:sharedb.Doc = info[1]\n                const {editorID} = delta;\n                if(_.has(doc.data, editorID)) {\n                    doc.submitOp({p: [editorID, 'userCursors', myID], oi: delta, od: doc.data[editorID]['userCursors'][myID]});\n                } else {\n                    const oi = { 'userCursors': {}, 'userSelections': {} };\n                    oi['userCursors'][myID] = delta;\n                    doc.submitOp({p: [editorID], oi});\n                }\n            });\n        }\n    }\n\n    /**\n     * The selected content for the user has changed\n     * @param {[type]} delta       Information about the selection\n     * @param {[type]} remote=true Whether this was from a remote user\n     */\n    public onCursorSelectionChanged(delta):void {\n        if(!this.isObserver) {\n            Promise.all([this.getMyID(), this.getShareDBCursors()]).then((info) => {\n                const myID:string = info[0]\n                const doc:sharedb.Doc = info[1]\n                const {editorID} = delta;\n                if(_.has(doc.data, editorID)) {\n                    doc.submitOp({p: [editorID, 'userSelections', myID], oi: delta, od: doc.data[editorID]['userSelections'][myID]});\n                } else {\n                    const oi = { 'userCursors':{}, 'userSelections': {} };\n                    oi['userSelections'][myID] = delta;\n                    doc.submitOp({p: [editorID], oi});\n                }\n            });\n        }\n    }\n\n    /**\n     * Called when the terminal outputs something\n     * @param {[type]} data         Information about what the terminal outputted\n     * @param {[type]} remote=false Whether this was outputted by a remote client\n     */\n    public emitTerminalData(data, remote=false):void {\n        this.channelCommLayer.then((ccomm) => {\n            return ccomm.pemit('terminal-data', {\n    \t\t\ttimestamp: this.getTimestamp(),\n                data: data,\n    \t\t\tremote: remote\n    \t\t});\n        });\n    };\n\n    public writeToTerminal(data):void {\n        this.channelCommLayer.then((ccomm) => {\n            return ccomm.pemit('write-to-terminal', {\n    \t\t\ttimestamp: this.getTimestamp(),\n                uid: this.myID,\n    \t\t\tremote: true,\n                contents: data\n    \t\t});\n        });\n    }\n\n    public getURL():string { return `https://chat.codes/${this.getChannelName()}`; }\n\n    public destroy():void {\n        this.channelCommLayer.then((ccomm) => {\n            ccomm.destroy();\n        });\n    }\n\n    public getActiveEditors() {\n        return this.editorStateTracker.getActiveEditors();\n    }\n\n    /**\n     * Get the current timestamp (as milliseconds since Jan 1 1970)\n     * @return {number} The timestamp\n     */\n    private getTimestamp():number {\n        return new Date().getTime();\n    };\n    public getChannelName():string {\n        return this.channelName;\n    }\n    public getIsObserver():boolean {\n        return this.isObserver;\n    }\n}\n\n/* A class to create and manage ChannelCommunicationService instances */\nexport class CommunicationService {\n    constructor(authInfo, private EditorWrapperClass) {\n        this.commLayer = new WebSocketCommunicationLayer(authInfo);\n        // // if(USE_PUSHER) {\n        // //     this.commLayer = new PusherCommunicationLayer(authInfo);\n        // // } else {\n        //     // this.commLayer = new WebSocketCommunicationLayer(authInfo);\n        // }\n    }\n    public commLayer:WebSocketCommunicationLayer; // The underlying communication mechanism\n    private clients:{[channelName:string]:ChannelCommunicationService} = {}; // Maps channel names to channel comms\n\n    /**\n     * Create a new channel and supply the name\n     * @param  {string}                      channelName The name of the channel\n     * @return {ChannelCommunicationService}             The communication channel\n     */\n    public createChannelWithName(channelName:string, channelID:string=null, isObserver:boolean=false):ChannelCommunicationService {\n        var channel = new ChannelCommunicationService(this, channelName, channelID, isObserver, this.EditorWrapperClass);\n        this.clients[channelName] = channel;\n        return channel;\n    }\n\n    /**\n     * Clean up the resources for a specific channel client\n     * @param {string} name The name of the channel\n     */\n    public destroyChannel(name:string):void {\n        if(this.clients[name]) {\n            var client = this.clients[name]\n            client.destroy();\n            delete this.clients[name];\n        }\n    }\n\n    /**\n     * Clean up resources from every client\n     */\n    destroy():void {\n        this.commLayer.destroy();\n        _.each(this.clients, (client, name) => {\n            this.destroyChannel(name);\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../chat-codes-services/src/communication-service.ts","import * as _ from 'underscore';\nimport * as FuzzySet from 'fuzzyset.js';\nimport { EventEmitter } from './event';\nimport { ChannelCommunicationService } from './communication-service';\nimport { ChatUser, ChatUserList } from './chat-user';\nimport { Timestamped } from './chat-messages';\nimport * as ShareDB from 'sharedb/lib/client';\nimport * as otText from 'ot-text';\n\nShareDB.types.map['json0'].registerSubtype(otText.type);\n\ninterface SerializedRange {\n\tstart: Array<number>,\n\tend: Array<number>\n};\ninterface SerializedPos {\n\trow: number,\n\tcolumn: number\n}\n\nconst CURRENT:number=-1;\n\n/*\n * Tracks a set of remote cursors.\n */\nexport class RemoteCursorMarker extends EventEmitter {\n    constructor(private editorState:EditorState) {\n\t\tsuper();\n\t}\n\tprivate cursors:Map<number, any> = new Map();\n\tpublic updateCursor(id, user, pos:SerializedPos) {\n\t\tif(!user.getIsMe()) {\n\t\t\tlet cursor;\n\t\t\tif(this.cursors.has(id)) {\n\t\t\t\tcursor = this.cursors.get(id);\n\t\t\t} else {\n\t\t\t\tcursor = {id: id, user: user};\n\t\t\t\tthis.cursors.set(id, cursor);\n\t\t\t\tthis.editorState.getEditorWrapper().addRemoteCursor(cursor, this);\n\t\t\t}\n\n\t\t\tconst oldPos = cursor.pos;\n\t\t\tcursor.pos = pos;\n\n\t\t\tif(oldPos) {\n\t\t\t\tthis.editorState.getEditorWrapper().updateRemoteCursorPosition(cursor, this);\n\t\t\t} else {\n\t\t\t\tthis.editorState.getEditorWrapper().addRemoteCursorPosition(cursor, this);\n\t\t\t}\n\t\t}\n\t};\n\tpublic updateSelection(id, user, range:SerializedRange) {\n\t\tif(!user.getIsMe()) {\n\t\t\tlet cursor;\n\t\t\tif(this.cursors.has(id)) {\n\t\t\t\tcursor = this.cursors.get(id);\n\t\t\t} else {\n\t\t\t\tcursor = {id: id, user: user};\n\t\t\t\tthis.cursors.set(id, { id: id, user: user });\n\t\t\t\tthis.editorState.getEditorWrapper().addRemoteCursor(cursor, this);\n\t\t\t}\n\n\t\t\tconst oldRange = cursor.range;\n\t\t\tcursor.range = range;\n\n\t\t\tif(oldRange) {\n\t\t\t\tthis.editorState.getEditorWrapper().updateRemoteCursorSelection(cursor, this);\n\t\t\t} else {\n\t\t\t\tthis.editorState.getEditorWrapper().addRemoteCursorSelection(cursor, this);\n\t\t\t}\n\t\t}\n\t};\n    public removeCursor(id, user) {\n\t\tif(this.cursors.has(id)) {\n\t\t\tthis.editorState.getEditorWrapper().removeRemoteCursor(this.cursors.get(id), this);\n\t\t\tthis.cursors.delete(id);\n\t\t}\n    }\n\tpublic getCursors() {\n\t\treturn Array.from(this.cursors.values());\n\t}\n\tpublic serialize() {\n\t\treturn {\n\t\t\tcursors: this.cursors\n\t\t};\n\t}\n\tpublic removeUserCursors(user) {\n\t\tthis.cursors.forEach((cursor:any, id) => {\n\t\t\tif(cursor.user.id === user.id) {\n\t\t\t\tthis.removeCursor(id, user);\n\t\t\t}\n\t\t});\n\t}\n\tpublic hideCursors() {\n\t\tthis.editorState.getEditorWrapper().hideRemoteCursors();\n\t}\n\tpublic showCursors() {\n\t\tthis.editorState.getEditorWrapper().showRemoteCursors(this);\n\t}\n}\n\n/**\n * EditorWrapper is an interface for interacting with a given editor.\n */\ninterface EditorWrapper {\n\tsetText(value:string);\n\treplaceText(range, value:string);\n\tsetEditorState(editorState:EditorState);\n\tsetGrammar(grammarName:string);\n\tgetAnchor(range);\n\tgetCurrentAnchorPosition(anchor);\n\tsetText(value:string);\n\taddRemoteCursor(cursor, remoteCursorMarker:RemoteCursorMarker);\n\taddRemoteCursorPosition(cursor, remoteCursorMarker:RemoteCursorMarker);\n\taddRemoteCursorSelection(cursor, remoteCursorMarker:RemoteCursorMarker);\n\tupdateRemoteCursorPosition(cursor, remoteCursorMarker:RemoteCursorMarker);\n\tupdateRemoteCursorSelection(cursor, remoteCursorMarker:RemoteCursorMarker);\n\tremoveRemoteCursor(cursor, remoteCursorMarker:RemoteCursorMarker);\n    addHighlight(range:SerializedRange, extraInfo?):number;\n    removeHighlight(highlightID:number, extraInfo?);\n\tfocus(range:SerializedRange, extraInfo?);\n    saveFile();\n\tserializeEditorStates();\n\tsetReadOnly(readOnly:boolean, extraInfo?);\n\thideRemoteCursors();\n\tshowRemoteCursors(cursors?);\n\tsuspendEditorBinding();\n\tresumeEditorBinding();\n}\n\n\nexport class EditorState {\n\tprivate isOpen:boolean;\n    private selections:{[selectionID:number]:any} = {};\n\tprivate editorID:string;\n\tprivate remoteCursors:RemoteCursorMarker = new RemoteCursorMarker(this);\n\tprivate title:string;\n\tprivate modified:boolean;\n\tprivate deltaPointer:number=-1;\n\tprivate currentVersion:number=CURRENT;\n    constructor(suppliedState, private editorWrapper, private userList:ChatUserList, private isObserver:boolean) {\n        let state = _.extend({\n            isOpen: true,\n            deltas: [],\n            cursors: []\n        }, suppliedState);\n\n\t\tthis.isOpen = state.isOpen;\n\t\tthis.title = state.title;\n\n\t\tthis.editorWrapper.setEditorState(this);\n\t\tsetTimeout(() => {\n\t\t\tthis.editorWrapper.setGrammar(state.grammarName);\n\t\t}, 100)\n\t\tthis.editorID = state.id;\n\t\tstate.cursors.forEach((c) => { });\n\t}\n\tpublic setTitle(newTitle:string):void { this.title = newTitle; };\n\tpublic setIsOpen(val:boolean):void { this.isOpen = val; };\n\tpublic setIsModified(val:boolean):void { this.modified = val; };\n\tpublic getEditorWrapper():EditorWrapper { return this.editorWrapper; };\n\tpublic getTitle():string { return this.title; };\n\tpublic getIsOpen():boolean { return this.isOpen; };\n\tpublic getRemoteCursors():RemoteCursorMarker { return this.remoteCursors; };\n\tpublic getEditorID():string { return this.editorID; };\n\tpublic getIsModified():boolean { return this.modified; };\n\tpublic getIsObserver():boolean { return this.isObserver; };\n\tpublic setText(val:string) {\n\t\tthis.editorWrapper.setText(val);\n\t}\n\tpublic addHighlight(range, extraInfo):number {\n\t\treturn this.getEditorWrapper().addHighlight(range, extraInfo);\n\t}\n\tpublic removeHighlight(highlightID:number, extraInfo):boolean {\n\t\treturn this.getEditorWrapper().removeHighlight(highlightID, extraInfo);\n\t}\n\tpublic focus(range, extraInfo):boolean {\n\t\treturn this.getEditorWrapper().focus(range, extraInfo);\n\t}\n\tpublic removeUserCursors(user) {\n\t\tthis.remoteCursors.removeUserCursors(user);\n\t}\n\tprivate getCurrentVersion():number { return this.currentVersion; }\n\tpublic setVersion(version:number, extraInfo?) {\n\t\tthis.currentVersion = version;\n\n\t\tconst editorWrapper = this.getEditorWrapper();\n\n\t\tif(this.isLatestVersion()) {\n\t\t\tif(this.isObserver) {\n\t\t\t\teditorWrapper.setReadOnly(true, extraInfo);\n\t\t\t} else {\n\t\t\t\teditorWrapper.resumeEditorBinding();\n\t\t\t\teditorWrapper.setReadOnly(false, extraInfo);\n\t\t\t\tthis.remoteCursors.showCursors();\n\t\t\t}\n\t\t} else {\n\t\t\teditorWrapper.suspendEditorBinding();\n\t\t\teditorWrapper.setReadOnly(true, extraInfo);\n\t\t\tthis.remoteCursors.hideCursors();\n\t\t}\n\t}\n\tprivate isLatestVersion():boolean {\n\t\treturn this.getCurrentVersion() === CURRENT;\n\t};\n}\n\nexport class EditorStateTracker extends EventEmitter {\n    private editorStates:Map<string, EditorState> = new Map();\n\tprivate currentVersion:number=CURRENT;\n\tprivate currentTimestamp:number=CURRENT;\n    public ready:Promise<boolean>;\n    constructor(protected EditorWrapperClass, private channelCommunicationService:ChannelCommunicationService, private userList:ChatUserList, private isObserver:boolean) {\n\t\tsuper();\n\t\tconst editorsDocPromise = this.channelCommunicationService.getShareDBEditors().then((editorDoc) => {\n\t\t\teditorDoc.data.forEach((li) => {\n\t\t\t\tthis.onEditorOpened(li, true);\n\t\t\t});\n\t\t\teditorDoc.on('op', (ops) => {\n\t\t\t\tops.forEach((op) => {\n\t\t\t\t\tconst {p} = op;\n\t\t\t\t\tif(p.length === 1) { // new editor\n\t\t\t\t\t\tif(_.has(op, 'li')) {\n\t\t\t\t\t\t\tconst {li} = op;\n\t\t\t\t\t\t\tthis.onEditorOpened(li, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\tconst cursorsDocPromise =this.channelCommunicationService.getShareDBCursors().then((cursorsDoc) => {\n\t\t\t_.each(cursorsDoc.data, (cursorInfo:any, editorID:string) => {\n\t\t\t\tconst editor = this.getEditorState(editorID);\n\t\t\t\tif(editor) {\n\t\t\t\t\tconst remoteCursors = editor.getRemoteCursors();\n\t\t\t\t\t_.each(cursorInfo['userCursors'], (cursorInfo:any, userID:string) => {\n\t\t\t\t\t\tconst {newBufferPosition} = cursorInfo;\n\t\t\t\t\t\tconst user = this.userList.getUser(userID);\n\t\t\t\t\t\tif(user) { remoteCursors.updateCursor(user.getID(), user, newBufferPosition); }\n\t\t\t\t\t});\n\t\t\t\t\t_.each(cursorInfo['userSelections'], (selectionInfo:any, userID:string) => {\n\t\t\t\t\t\tconst {newRange} = selectionInfo;\n\t\t\t\t\t\tconst user = this.userList.getUser(userID);\n\t\t\t\t\t\tif(user) { remoteCursors.updateSelection(user.getID(), user, newRange); }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcursorsDoc.on('op', (ops) => {\n\t\t\t\tops.forEach((op) => {\n\t\t\t\t\tconst {p, oi, od} = op;\n\t\t\t\t\tconst editorID = p[0];\n\t\t\t\t\tconst editor = this.getEditorState(editorID);\n\n\t\t\t\t\tif(editor) {\n\t\t\t\t\t\tconst remoteCursors = editor.getRemoteCursors();\n\t\t\t\t\t\tif(p.length === 3) {\n\t\t\t\t\t\t\tconst isUserCursor:boolean = p[1] === 'userCursors';\n\t\t\t\t\t\t\tconst isUserSelection:boolean = p[1] === 'userSelections';\n\t\t\t\t\t\t\tconst userID:string = p[2];\n\t\t\t\t\t\t\tconst user = this.userList.getUser(userID);\n\t\t\t\t\t\t\tif(oi) {\n\t\t\t\t\t\t\t\tif(isUserCursor) {\n\t\t\t\t\t\t\t\t\tremoteCursors.updateCursor(user.getID(), user, oi['newBufferPosition']);\n\t\t\t\t\t\t\t\t} else if(isUserSelection) {\n\t\t\t\t\t\t\t\t\tremoteCursors.updateSelection(user.getID(), user, oi['newRange']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if(od) {\n\t\t\t\t\t\t\t\tremoteCursors.removeUserCursors(user);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if(p.length === 1) {\n\t\t\t\t\t\t\t_.each(cursorsDoc.data[editorID]['userCursors'], (cursorInfo:any, userID:string) => {\n\t\t\t\t\t\t\t\tconst {newBufferPosition} = cursorInfo;\n\t\t\t\t\t\t\t\tconst user = this.userList.getUser(userID);\n\t\t\t\t\t\t\t\tremoteCursors.updateCursor(user.getID(), user, newBufferPosition);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_.each(cursorsDoc.data[editorID]['userSelections'], (selectionInfo:any, userID:string) => {\n\t\t\t\t\t\t\t\tconst {newRange} = selectionInfo;\n\t\t\t\t\t\t\t\tconst user = this.userList.getUser(userID);\n\t\t\t\t\t\t\t\tremoteCursors.updateSelection(user.getID(), user, newRange);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(`Could not find editor ${editorID}`)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// if(p.length === 3) {\n\t\t\t// \tconst editorID = editorDoc.data[p[0]]['id'];\n\t\t\t// \tconst editor = this.getEditorState(editorID);\n\t\t\t// \tconst isUserCursor:boolean = p[1] === 'userCursors';\n\t\t\t// \tconst isUserSelection:boolean = p[1] === 'userSelections';\n\t\t\t//\n\t\t\t// \tif(isUserCursor || isUserSelection) {\n\t\t\t// \t\tconst remoteCursors = editor.getRemoteCursors();\n\t\t\t// \t\tconst userID:string = p[2];\n\t\t\t// \t\tconst user = this.userList.getUser(userID);\n\t\t\t// \t\tconst {oi, od} = op;\n\t\t\t// \t\tif(oi) {\n\t\t\t// \t\t\tif(isUserCursor) {\n\t\t\t// \t\t\t\tremoteCursors.updateCursor(user.getID(), user, oi.newBufferPosition);\n\t\t\t// \t\t\t} else if(isUserSelection) {\n\t\t\t// \t\t\t\tremoteCursors.updateSelection(user.getID(), user, oi.newRange);\n\t\t\t// \t\t\t}\n\t\t\t// \t\t} else if(od) {\n\t\t\t// \t\t\tremoteCursors.removeUserCursors(user);\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// }\n\t\t});\n\t\tthis.ready = Promise.all([editorsDocPromise, cursorsDocPromise]).then(() => {\n\t\t\treturn true;\n\t\t});\n\t}\n\n\tpublic createEditor(id:string, title:string, contents:string, grammarName:string, modified:boolean):Promise<EditorState> {\n\t\treturn this.channelCommunicationService.getShareDBEditors().then((editorDoc) => {\n\t\t\tconst data = { title, id, contents, grammarName, modified, userCursors:{}, userSelections:{} };\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\teditorDoc.submitOp({p: [editorDoc.data.length], li: data}, (err) => {\n\t\t\t\t\tif(err) { reject(err); }\n\t\t\t\t\tresolve(data);\n\t\t\t\t});\n\t\t\t});\n\t\t}).then((data) => {\n\t\t\treturn this.onEditorOpened(data, true);\n\t\t});\n\t}\n\n\tpublic getAllEditors():Array<EditorState> {\n\t\treturn Array.from(this.editorStates.values());\n\t}\n\n\tpublic getEditorState(editorID:string):EditorState {\n        if(this.editorStates.has(editorID)) {\n    \t\treturn this.editorStates.get(editorID);\n        } else {\n            return null;\n        }\n\t}\n\n\tpublic getActiveEditors():Array<EditorState> {\n\t\tconst rv = _.filter(this.getAllEditors(), s => s.getIsOpen());\n\t\treturn rv;\n\t}\n\n\tpublic onEditorOpened(state, mustPerformChange:boolean):EditorState {\n\t\tconst {id} = state;\n\t\tif(this.editorStates.has(id)) {\n\t\t\treturn this.editorStates.get(id);\n\t\t} else {\n\t\t\tconst editorState =  new EditorState(state, new this.EditorWrapperClass(state, this.channelCommunicationService), this.userList, this.isObserver);\n\t\t\tthis.editorStates.set(id, editorState);\n\t\t\treturn editorState;\n\t\t}\n\t}\n\n\tpublic removeUserCursors(user):void {\n\t\tthis.editorStates.forEach((es:EditorState) => {\n\t\t\tes.removeUserCursors(user);\n\t\t});\n\t}\n\tpublic addHighlight(editorID:string, range:SerializedRange, version:number, timestamp:number, extraInfo={}):number {\n\t\tconst editorState:EditorState = this.getEditorState(editorID);\n\t\tthis.setVersion(version, timestamp, extraInfo);\n\t\tif(editorState) {\n\t\t\treturn editorState.addHighlight(range, extraInfo);\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\tpublic removeHighlight(editorID:string, highlightID:number, extraInfo={}):boolean {\n\t\tconst editorState:EditorState = this.getEditorState(editorID);\n\t\tif(editorState) {\n\t\t\treturn editorState.removeHighlight(highlightID, extraInfo);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\tpublic focus(editorID:string, range:SerializedRange, version:number, timestamp:number, extraInfo={}):boolean {\n\t\tconst editorState:EditorState = this.getEditorState(editorID);\n\t\tthis.setVersion(version, timestamp, extraInfo);\n\t\tif(editorState) {\n\t\t\treturn editorState.focus(range, extraInfo);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\tpublic fuzzyMatch(query:string):EditorState {\n\t\tconst editors = this.getAllEditors();\n\t\tconst editorTitleSet = new FuzzySet(_.map(editors, (e) => e.getTitle() ));\n\t\tconst matches = editorTitleSet.get(query);\n\t\tif(matches) {\n\t\t\tconst bestTitleMatch = matches[0][1];\n\t\t\tconst matchingTitles = _.filter(this.getAllEditors(), (es) => es.getTitle() === bestTitleMatch);\n\t\t\tif(matchingTitles.length > 0) {\n\t\t\t\treturn matchingTitles[0];\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t};\n\tpublic getCurrentTimestamp():number {\n\t\treturn this.currentTimestamp;\n\t};\n\tpublic getCurrentVersion():number {\n\t\treturn this.currentVersion;\n\t};\n\tpublic isAtLatest():boolean {\n\t\treturn this.getCurrentVersion() === CURRENT;\n\t}\n\tpublic setVersion(version:number, timestamp:number, extraInfo?):void {\n\t\tif(version === CURRENT) {\n\t\t\tthis.currentVersion = version;\n\t\t\tthis.currentTimestamp = timestamp;\n\t\t\t_.each(this.getAllEditors(), (e:EditorState) => {\n\t\t\t\te.setVersion(this.currentVersion, extraInfo);\n\t\t\t});\n\t\t\t(this as any).emit('timestampChanged', {\n\t\t\t\tversion: this.currentVersion\n\t\t\t});\n\t\t} else {\n\t\t\tthis.channelCommunicationService.getEditorVersion(version).then((data) => {\n\t\t\t\tthis.currentVersion = version;\n\t\t\t\tthis.currentTimestamp = timestamp;\n\t\t\t\t_.each(this.getAllEditors(), (e:EditorState) => {\n\t\t\t\t\tconst stateInfo = data.get(e.getEditorID());\n\t\t\t\t\tconst value = stateInfo ? stateInfo.contents : '';\n\t\t\t\t\te.setVersion(this.currentVersion, extraInfo);\n\t\t\t\t\te.setText(value);\n\t\t\t\t});\n\t\t\t\t(this as any).emit('timestampChanged', {\n\t\t\t\t\tversion: this.currentVersion\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\tpublic toLatestVersion(extraInfo?):void {\n\t\tthis.setVersion(CURRENT, CURRENT, extraInfo);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../chat-codes-services/src/editor-state-tracker.ts","export class EventEmitter {\n    private eventListeners:Map<string, any > = new Map();\n    constructor() { }\n    public on(event:string, listener:any):Listener {\n        if (!this.eventListeners.has(event)) {\n            this.eventListeners.set(event, [listener]);\n        }\n        else {\n            this.eventListeners.get(event).push(listener);\n        }\n        return new Listener(this, event, listener);\n    }\n    public addListener(event, listener):Listener {\n        return this.on(event, listener);\n    }\n    public removeListener(...args):void {\n        if (args.length == 0) {\n            this.eventListeners.clear();\n        }\n        else if (args.length == 1 && typeof args[0] == 'object') {\n            const {id} = args[0];\n            this.removeListener(id.event, id.listener);\n        }\n        else if (arguments.length >= 1) {\n            const [event, listener] = args;\n            if (this.eventListeners.has(event)) {\n                let listeners = this.eventListeners.get(event);\n                let idx;\n                while (!listener || (idx = listeners.indexOf(listener)) != -1) {\n                    listeners.splice(idx, 1);\n                }\n            }\n        }\n    }\n    /**\n     * Emit event. Calls all bound listeners with args.\n     */\n    public emit(event, ...args) {\n        if (this.eventListeners.has(event)) {\n            for (let listener of this.eventListeners.get(event)) {\n                listener(...args);\n            }\n        }\n    }\n    /**\n     * @typeparam T The event handler signature.\n     */\n    public registerEvent() {\n        let eventBinder = (handler) => {\n            return this.addListener(eventBinder, handler);\n        };\n        return eventBinder;\n    }\n}\n\nclass Listener {\n    constructor(private owner:EventEmitter, private event:string, private listener:() => any) {\n    }\n    public unbind() {\n        this.owner.removeListener(this);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../chat-codes-services/src/event.ts","import { EventEmitter } from './event';\nimport * as sharedb from 'sharedb/lib/client';\nimport * as _ from 'underscore';\nimport * as textType from 'ot-text';\nimport * as json0Type from 'ot-json0';\ndeclare var window;\n\nexport class NamespaceCommunicator {\n\tprivate id:string;\n\tprivate responseCallbacks:Map<string, (err, data)=>any> = new Map();\n\tprivate typeCallbacks:Map<string, Array<(err, data)=>any>> = new Map();\n\tprivate readyPromise:Promise<NamespaceCommunicator>;\n\tprivate wsPromise:Promise<WebSocket>;\n\tprivate shareDBNamespace:string;\n\tpublic constructor(private channelName:string, private channelID:string, private username:string, private ws:WebSocket, private sdbp:Promise<sharedb.Connection>) {\n\t\tthis.id = `/${this.getChannelName()}#${guid()}`;\n\t\tthis.wsPromise = new Promise((resolve, reject) => {\n\t\t\tif(this.ws.readyState === WebSocket.OPEN) {\n\t\t\t\tresolve(this.ws);\n\t\t\t} else {\n\t\t\t\tthis.ws.addEventListener('open', (event) => {\n\t\t\t\t\tresolve(this.ws);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis.readyPromise = this.wsPromise.then(() => {\n\t\t\tws.addEventListener('message', (event) => {\n\t\t\t\tconst {data} = event;\n\t\t\t\ttry {\n\t\t\t\t\tconst parsedData = JSON.parse(data);\n\t\t\t\t\tif(parsedData.cc === 2) {\n\t\t\t\t\t\tif(parsedData.ns == this.getShareDBNamespace()) {\n\t\t\t\t\t\t\tif(this.responseCallbacks.has(parsedData.messageID)) {\n\t\t\t\t\t\t\t\tconst callback = this.responseCallbacks.get(parsedData.messageID);\n\t\t\t\t\t\t\t\tcallback(null, parsedData.payload);\n\t\t\t\t\t\t\t\tthis.responseCallbacks.delete(parsedData.messageID);\n\t\t\t\t\t\t\t} else if(this.typeCallbacks.has(parsedData.type)) {\n\t\t\t\t\t\t\t\tconst callbacks = this.typeCallbacks.get(parsedData.type);\n\t\t\t\t\t\t\t\tcallbacks.forEach((callback) => {\n\t\t\t\t\t\t\t\t\tcallback(null, parsedData.payload);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(this.getChannelName()) {\n\t\t\t\treturn this.pemit('request-join-room', {\n\t\t\t\t\tchannel: this.getChannelName(),\n\t\t\t\t\tchannelID: this.channelID,\n\t\t\t\t\tusername: this.username,\n\t\t\t\t\tid: this.getID()\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}).then((result) => {\n\t\t\tconst {id, ns} = result;\n\t\t\tthis.channelID = id;\n\t\t\tthis.shareDBNamespace = ns;\n\t\t\treturn this;\n\t\t});\n\t}\n\tpublic emit(type:string, payload:any, callback?) {\n\t\tlet messageID = null;\n\t\tif(callback) {\n\t\t\tmessageID = guid();\n\t\t\tthis.responseCallbacks.set(messageID, callback);\n\t\t}\n\t\tconst message = { messageID, type, ns: this.getShareDBNamespace(), payload, cc: 1};\n\t\tthis.wsPromise.then((ws) => {\n\t\t\ttry {\n\t\t\t\tws.send(JSON.stringify(message));\n\t\t\t} catch (e) {\n\t\t\t\tif(callback) {\n\t\t\t\t\tcallback(e);\n\t\t\t\t\tthis.responseCallbacks.delete(messageID);\n\t\t\t\t}\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t});\n\t}\n\tpublic pemit(type:string, payload:any):Promise<any> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst callback = (err, data) => {\n\t\t\t\tif(err) { reject(err); }\n\t\t\t\telse { resolve(data); }\n\t\t\t};\n\t\t\tthis.emit(type, payload, callback);\n\t\t});\n\t};\n\tpublic bind(type:string, callback) {\n\t\tif(this.typeCallbacks.has(type)) {\n\t\t\tthis.typeCallbacks.get(type).push(callback);\n\t\t} else {\n\t\t\tthis.typeCallbacks.set(type, [callback]);\n\t\t}\n\t}\n\tpublic unbind(type:string, callback) {\n\t\tif(this.typeCallbacks.has(type)) {\n\t\t\tconst callbacks = this.typeCallbacks.get(type);\n\t\t\tfor(let i = 0; i<callbacks.length; i++) {\n\t\t\t\tconst cb = callbacks[i];\n\t\t\t\tif(cb === callback) {\n\t\t\t\t\tcallbacks.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(callbacks.length === 0) {\n\t\t\t\tthis.typeCallbacks.delete(type);\n\t\t\t}\n\t\t}\n\t}\n\tpublic ready():Promise<NamespaceCommunicator> {\n\t\treturn this.readyPromise;\n\t}\n\tpublic getID():string { return this.id; }\n\n\tpublic getChannelName():string { return this.channelName; };\n\tpublic getChannelID():string { return this.channelID; };\n\tpublic getShareDBNamespace():string { return this.shareDBNamespace; };\n\tpublic getShareDBObject(path:string):Promise<sharedb.Doc> {\n\t\treturn this.sdbp.then((connection) => {\n\t\t\treturn connection.get('chatcodes', `${this.getShareDBNamespace()}-${path}`);\n\t\t\t// return connection.get(this.getShareDBNamespace(), path);\n\t\t});\n\t};\n\tpublic destroy() {\n\n\t};\n\tpublic trigger(channelName:string, eventName:string, eventContents:any, callback?):void {\n\t\tif(callback) {\n\t\t\tthis.emit(eventName, eventContents, callback);\n\t\t} else {\n\t\t\tthis.emit(eventName, eventContents);\n\t\t}\n\t};\n}\n\nexport class WebSocketCommunicationLayer {\n\tprivate mainSocket:Promise<NamespaceCommunicator>;\n\tprivate wsPromise:Promise<WebSocket>;\n\tprivate shareDBConnectionPromise:Promise<sharedb.Connection>;\n\tprivate namespaces:Map<string, Promise<NamespaceCommunicator>> = new Map();\n\tprivate username:string;\n\tprivate disconnectListeners:Array<()=>any> = [];\n\tconstructor(private authInfo) {\n\t\tthis.username = authInfo.username;\n\t\tthis.wsPromise = new Promise<WebSocket>((resolve, reject) => {\n\t\t\tconst wsProtocol = window.location.protocol === 'https:' ? 'wss' : 'ws';\n\t\t\tconst ws = new WebSocket(`${wsProtocol}://${authInfo.host}`);\n\t\t\tws.addEventListener('open', (event) => {\n\t\t\t\tresolve(ws);\n\t\t\t});\n\t\t\tws.addEventListener('close', (event) => {\n\t\t\t\tthis.disconnectListeners.forEach((cb) => cb() );\n\t\t\t});\n\t\t});\n\t\tthis.mainSocket = this.wsPromise.then((ws) => {\n\t\t\treturn new NamespaceCommunicator(null, null, this.username, ws, this.shareDBConnectionPromise).ready();\n\t\t});\n\t\tthis.shareDBConnectionPromise = this.wsPromise.then((ws) => {\n\t\t\tconst connection = new sharedb.Connection(ws);\n\t\t\t// connection.debug = true;\n\t\t\treturn connection;\n\t\t});\n\t}\n\tpublic onDisconnect(callback:()=>any):WebSocketCommunicationLayer {\n\t\tthis.disconnectListeners.push(callback);\n\t\treturn this;\n\t}\n\tpublic getShareDBConnection():Promise<sharedb.Connection> {\n\t\treturn this.shareDBConnectionPromise;\n\t}\n\tpublic getNamespace(channelName:string, channelID?:string):Promise<NamespaceCommunicator> {\n\t\tif(this.namespaces.has(channelName)) {\n\t\t\treturn this.namespaces.get(channelName);\n\t\t} else {\n\t\t\tconst namespacePromise = this.wsPromise.then((ws) => {\n\t\t\t\treturn new NamespaceCommunicator(channelName, channelID, this.username, ws, this.shareDBConnectionPromise).ready();\n\t\t\t});\n\t\t\tthis.namespaces.set(channelName, namespacePromise);\n\t\t\treturn namespacePromise;\n\t\t}\n\t}\n\tpublic getMembers(channelName:string):Promise<any> {\n\t\treturn this.getNamespace(channelName).then((room) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\troom.emit('get-members', (memberInfo) => {\n\t\t\t\t\tresolve(memberInfo);\n\t\t\t\t});\n\t\t\t});\n\t\t}) as Promise<any>;\n\t};\n\tpublic channelNameAvailable(channelName:string):Promise<boolean> {\n\t\treturn this.mainSocket.then((socket) => {\n\t\t\treturn new Promise<boolean>((resolve, reject) => {\n\t\t\t\tsocket.emit('channel-available', channelName, (available:boolean) => {\n\t\t\t\t\tresolve(available);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\tpublic destroy():void {\n\t\t// this.manager.then((manager) => {\n\t\t// });\n\t};\n}\n\nfunction guid():string {\n    function s4():string {\n        return Math.floor((1 + Math.random()) * 0x10000)\n                    .toString(16)\n                    .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n}\n\n\n\n// WEBPACK FOOTER //\n// ../chat-codes-services/src/socket-communication-layer.ts","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale recursive ^\\\\.\\\\/.*$\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = ./node_modules/moment/locale recursive ^\\.\\/.*$\n// module chunks = main","var map = {\n\t\"./attach/attach\": \"./node_modules/xterm/lib/addons/attach/attach.js\",\n\t\"./attach/attach.js\": \"./node_modules/xterm/lib/addons/attach/attach.js\",\n\t\"./attach/package.json\": \"./node_modules/xterm/lib/addons/attach/package.json\",\n\t\"./fit/fit\": \"./node_modules/xterm/lib/addons/fit/fit.js\",\n\t\"./fit/fit.js\": \"./node_modules/xterm/lib/addons/fit/fit.js\",\n\t\"./fit/package.json\": \"./node_modules/xterm/lib/addons/fit/package.json\",\n\t\"./fullscreen/fullscreen\": \"./node_modules/xterm/lib/addons/fullscreen/fullscreen.js\",\n\t\"./fullscreen/fullscreen.css\": \"./node_modules/xterm/lib/addons/fullscreen/fullscreen.css\",\n\t\"./fullscreen/fullscreen.js\": \"./node_modules/xterm/lib/addons/fullscreen/fullscreen.js\",\n\t\"./fullscreen/package.json\": \"./node_modules/xterm/lib/addons/fullscreen/package.json\",\n\t\"./search/SearchHelper\": \"./node_modules/xterm/lib/addons/search/SearchHelper.js\",\n\t\"./search/SearchHelper.js\": \"./node_modules/xterm/lib/addons/search/SearchHelper.js\",\n\t\"./search/SearchHelper.js.map\": \"./node_modules/xterm/lib/addons/search/SearchHelper.js.map\",\n\t\"./search/search\": \"./node_modules/xterm/lib/addons/search/search.js\",\n\t\"./search/search.js\": \"./node_modules/xterm/lib/addons/search/search.js\",\n\t\"./search/search.js.map\": \"./node_modules/xterm/lib/addons/search/search.js.map\",\n\t\"./terminado/package.json\": \"./node_modules/xterm/lib/addons/terminado/package.json\",\n\t\"./terminado/terminado\": \"./node_modules/xterm/lib/addons/terminado/terminado.js\",\n\t\"./terminado/terminado.js\": \"./node_modules/xterm/lib/addons/terminado/terminado.js\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/xterm/lib/addons recursive ^\\\\.\\\\/.*$\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/xterm/lib/addons ^\\.\\/.*$\n// module id = ./node_modules/xterm/lib/addons recursive ^\\.\\/.*$\n// module chunks = main","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_gendir lazy\n// module id = ./src/$$_gendir lazy recursive\n// module chunks = main","module.exports = \"img.logo {\\n    height: 40px;\\n}\\n\\n.container-fluid {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    height: 100%;\\n}\\n\\n#content_row {\\n    -webkit-box-flex: 1;\\n        -ms-flex-positive: 1;\\n            flex-grow: 1;\\n}\\n\\n#input_row,#list_row,.navbar {\\n    -webkit-box-flex: 0;\\n        -ms-flex-positive: 0;\\n            flex-grow: 0;\\n}\\n\\n#list_row {\\n    min-height: 42px;\\n    margin-top: 15px;\\n}\\n\\n.navbar { min-height: 42px; }\\n\\n#input_row {\\n    height: 70px;\\n    min-height: 48px;\\n    margin-bottom: 15px;\\n}\\n\\nchat-messages,code-editor,terminal {\\n    height: 100%;\\n}\\n\\n.modifiedFlag.modified {\\n    border-radius: 5px;\\n    height: 10px;\\n    width: 10px;\\n    display: inline-block;\\n    background-color: #AAA;\\n}\\n\\nul.members {\\n    list-style: none;\\n    padding: 0px;\\n    display: inline-block;\\n}\\n\\nli.member {\\n    display: inline-block;\\n    margin-left: 5px;\\n    margin-right: 5px;\\n}\\n\\n.message {\\n    color: #333;\\n}\\n\\n.message p {\\n    margin: 0px;\\n    line-height: normal;\\n}\\n\\n/*\\nli.messageGroup > .header {\\n    border-bottom: 1px solid #AAA;\\n    background-color: #EEE;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n    padding: 5px;\\n}\\n\\nul.messageGroups ul.messages {\\n    list-style: none;\\n    padding: 0px;\\n}\\n\\nul.messageGroups ul.messages > li {\\n    border-top: 1px solid #EEE;\\n    padding-left: 5px;\\n    padding-right: 5px;\\n    padding-top: 2px;\\n    padding-bottom: 2px;\\n}\\nul.messageGroups ul.messages > li:first-child {\\n    border-top: none;\\n}\\n*/\\n\\n.header .time {\\n    color: #888;\\n}\\n\\n.header .sender {\\n    /*color: #333;*/\\n    /*font-weight: bold;*/\\n}\\n\\n.user-1 { color: #007bff; }\\n\\n/* blue */\\n\\n.user-2 { color: #dc3545; }\\n\\n/* red */\\n\\n.user-3 { color: #fd7e14; }\\n\\n/* orange */\\n\\n.user-4 { color: #ffc107; }\\n\\n/* yellow */\\n\\n.user-5 { color: #28a745; }\\n\\n/* green */\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<name-entry *ngIf=\\\"!hasName\\\" (onEnter)=\\\"setName($event)\\\"></name-entry>\\n\\n<div class=\\\"container\\\" *ngIf=\\\"hasName && !connected\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col\\\">Connecting...</div>\\n    </div>\\n</div>\\n<div class=\\\"container-fluid\\\" *ngIf=\\\"hasName && connected\\\">\\n    <!-- <nav class=\\\"navbar\\\">\\n        <span class=\\\"navbar-brand\\\">\\n            <img src=\\\"assets/images/cc_icon.svg\\\" class=\\\"logo\\\" />\\n            <input type=\\\"text\\\" [value]=\\\"getChatURL()\\\" readonly />\\n        </span>\\n    </nav> -->\\n    <div class=\\\"row\\\" id=\\\"list_row\\\">\\n        <div class=\\\"col-8\\\">\\n            <ul class='files nav nav-tabs'>\\n                <li class='nav-item' *ngFor=\\\"let editorState of getActiveEditors()\\\">\\n                    <a [ngClass]=\\\"{'active': editorState.selected}\\\" class='nav-link' href='javascript:void(0);' (click)=\\\"codeEditor.selectFile(editorState)\\\">\\n                        {{editorState.getTitle()}}\\n                        <span class='modifiedFlag' [ngClass]=\\\"{'modified':editorState.getIsModified()}\\\"></span>\\n                    </a>\\n                </li>\\n                <li *ngIf=\\\"!isObserver\\\" class='nav-item'>\\n                    <a class='nav-link' href='javascript:void(0);' (click)=\\\"createNewFile()\\\">\\n                        +\\n                    </a>\\n                </li>\\n            </ul>\\n        </div>\\n        <!-- <div class=\\\"col-1\\\"></div> -->\\n        <div class=\\\"col-4\\\">\\n            Here now:\\n            <ul class='members'>\\n                <li class='member' *ngFor=\\\"let user of channelCommLayer.getUserList().getActiveUsers()\\\">\\n                    <user-display [user]='user'></user-display>\\n                </li>\\n            </ul>\\n        </div>\\n    </div>\\n    <div class=\\\"row\\\" id=\\\"content_row\\\">\\n        <div class=\\\"col-8\\\">\\n            <code-editor (onGoLatest)='onGoLatest($event)' [isObserver]=\\\"isObserver\\\" [commLayer]='channelCommLayer' (cursorSelectionChanged)='editorCursorSelectionChanged($event)' #codeEditor></code-editor>\\n        </div>\\n        <!-- <div class=\\\"col-1\\\">\\n            <timeline-display></timeline-display>\\n        </div> -->\\n        <div class=\\\"col-4\\\">\\n            <chat-messages (onAddHighlight)='onAddHighlight($event)' (onSetVersion)='onSetVersion($event)'  [isObserver]=\\\"isObserver\\\" [editorStateTracker]='editorStateTracker' [commLayer]='channelCommLayer' [editor]='codeEditor'></chat-messages>\\n        </div>\\n    </div>\\n    <div class=\\\"row\\\" id=\\\"input_row\\\">\\n        <div class=\\\"col-8\\\">\\n            <!-- <terminal [commLayer]='channelCommLayer'></terminal> -->\\n            <python-output (onRun)='onRun($event)' [commLayer]='channelCommLayer' [editor]='codeEditor'></python-output>\\n        </div>\\n        <!-- <div class=\\\"col-1\\\"></div> -->\\n        <div *ngIf=\\\"!isObserver\\\" class=\\\"col-4\\\">\\n            <chat-input (send)='sendTextMessage($event)'\\n            (typing)='updateTypingStatus($event)' #chatinput></chat-input>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component, Input, ViewEncapsulation, ViewChild, OnInit } from '@angular/core';\nimport { EditorStateTracker, EditorState } from 'chat-codes-services/src/editor-state-tracker';\nimport { CommunicationService, ChannelCommunicationService } from 'chat-codes-services/src/communication-service';\nimport { Location } from '@angular/common';\nimport * as _ from 'underscore';\nimport * as $ from 'jquery';\nimport * as showdown from 'showdown';\nimport { AceEditorWrapper } from './editor/ace-editor-wrapper';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css', '../../node_modules/bootstrap/dist/css/bootstrap.css', '../../node_modules/xterm/dist/xterm.css'],\n    encapsulation: ViewEncapsulation.None,\n})\n\nexport class AppComponent implements OnInit {\n    ngOnInit() { }\n\n    @ViewChild('chatinput') private chatinput;\n\n    editorCursorSelectionChanged(data) {\n        if(this.chatinput) {\n            this.chatinput.onEditorCursorSelectionChanged(data);\n        }\n    }\n\n    constructor() {\n        const paths:Array<string> = _.compact(location.pathname.substring(1).split('/'));\n        if(paths.length > 0) {\n            this.channelName = Location.stripTrailingSlash(paths[0]);\n        }\n        if(paths.length > 1) {\n            this.channelID = Location.stripTrailingSlash(paths[1]);\n            this.isObserver = true;\n            this.setName(null);\n        }\n        // this.setName('remote');\n    };\n\n    public editorStateTracker: EditorStateTracker;\n    public commLayer: CommunicationService;\n    public channelCommLayer: ChannelCommunicationService;\n    private at_bottom: boolean = false;\n    private name:string = '';\n    public hasName: boolean = false;\n    public connected: boolean = false;\n    private channelName:string;\n    private channelID:string;\n    public isObserver:boolean = false;\n\n    public onGoLatest(e) {\n        this.channelCommLayer.addAction({\n            type: 'latest'\n        });\n    };\n\n    public onSetVersion(e) {\n        this.channelCommLayer.addAction({\n            type: 'setVersion',\n            range: e.range,\n            file: e.file,\n            version:e.version\n        });\n    };\n    public onAddHighlight(e) {\n        this.channelCommLayer.addAction({\n            type: 'highlight',\n            range: e.range,\n            file: e.file,\n            version:e.version\n        });\n    };\n    public onRun(e) {\n        this.channelCommLayer.addAction({\n            type: 'run',\n            editorValue: e.editorValue\n        });\n    };\n\n    public setName(name:string): void {\n        this.name = name;\n        this.hasName = true;\n\n        this.commLayer = new CommunicationService({\n            username: this.name,\n            // host: window.location.host\n            host: 'localhost:8080',\n        }, AceEditorWrapper);\n        this.channelCommLayer = this.commLayer.createChannelWithName(this.channelName, this.channelID, this.isObserver);\n        this.editorStateTracker = this.channelCommLayer.getEditorStateTracker();\n\n        window['getChatDoc'] = () => {\n            return this.channelCommLayer.getChatDoc();\n        }\n\n        this.channelCommLayer.ready().then((channel) => {\n            this.connected = true;\n        });\n    };\n    public getChatURL(): string {\n        return 'chat.codes/' + this.channelName;\n    };\n    sendTextMessage(message: string): void {\n        this.channelCommLayer.sendTextMessage(message);\n    };\n    updateTypingStatus(status: string): void {\n        this.channelCommLayer.sendTypingStatus(status);\n    };\n    getActiveEditors() {\n        return this.channelCommLayer.getActiveEditors();\n    };\n    public createNewFile():Promise<EditorState> {\n        return this.channelCommLayer.ready().then(() => {\n            return this.channelCommLayer.getShareDBEditors();\n        }).then((editorsDoc) => {\n            const id:string = guid();\n            const title:string = 'file-'+(editorsDoc.data.length+1);\n            return this.editorStateTracker.createEditor(id, title, '', 'Python', false);\n        }).then((es:EditorState) => {\n            this.codeEditor.selectFile(es);\n            return es;\n        });\n    };\n    @ViewChild('codeEditor') codeEditor;\n}\n\nfunction guid():string {\n    function s4():string {\n        return Math.floor((1 + Math.random()) * 0x10000)\n                    .toString(16)\n                    .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { NameEntry } from './name-entry/name-entry.component';\nimport { ChatInput } from './chat-input/chat-input.component';\nimport { EditorDisplay } from './editor/editor.component';\nimport { UserDisplay } from './user/user-display.component';\nimport { AceEditorModule } from 'ng2-ace-editor';\nimport { TerminalDisplay } from './terminal/terminal.component';\nimport { TimestampDisplay } from './timestamp/timestamp.component';\nimport { ChatMessagesDisplay } from './chat-messages/chat-messages.component';\nimport { ChatMessageDisplay } from './chat-messages/single-message.component';\nimport { EditMessageDisplay } from './chat-messages/edit-message.component';\nimport { ConnectionMessageDisplay } from './chat-messages/connection-message.component';\nimport { PythonOutputDisplay } from './python_out/python_out.component';\n\nimport { MomentModule } from 'angular2-moment';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ChatInput,\n    NameEntry,\n    UserDisplay,\n    EditorDisplay,\n    TerminalDisplay,\n    ChatMessagesDisplay,\n    EditMessageDisplay,\n    TimestampDisplay,\n    ChatMessageDisplay,\n    ConnectionMessageDisplay,\n    PythonOutputDisplay\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    MomentModule,\n    AceEditorModule\n  ],\n  providers: [ ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"textarea {\\n    width: 100%;\\n}\\nace-editor {\\n    height: 100%;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-input/chat-input.component.css\n// module id = ./src/app/chat-input/chat-input.component.css\n// module chunks = main","module.exports = \"<ace-editor [theme]=\\\"'chrome'\\\"\\n\\t\\t\\t\\tid='chat-input-editor'\\n\\t\\t\\t\\tclass='form-control'\\n\\t\\t\\t\\t(keydown)='onTextareaKeydown($event)'\\n\\t            (textChanged)=\\\"onTextareaChange($event)\\\"\\n\\t            placeholder=\\\"Say something\\\"\\n\\t\\t\\t\\t#editor></ace-editor>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-input/chat-input.component.html\n// module id = ./src/app/chat-input/chat-input.component.html\n// module chunks = main","import {Component, Injectable, EventEmitter, Output, OnInit, Input, ViewChild} from '@angular/core';\nimport * as _ from 'underscore';\ndeclare let ace: any;\n\nconst chatInputSoftWrapNumber = 35;\n\nconst STATUS = {\n    IDLE: 'IDLE',\n    ACTIVE_TYPING: 'ACTIVE_TYPING',\n    IDLE_TYPED: 'IDLE_TYPED'\n}\nfunction trimString(str, size) {\n    return str.length > size ? str.substring(0, size-3) + '...' : str;\n}\n\n@Component({\n    selector: 'chat-input',\n    templateUrl: './chat-input.component.html',\n    styleUrls: ['./chat-input.component.css'],\n})\n\nexport class ChatInput implements OnInit{\n    ngOnInit(){\n        let editor = this.editor.getEditor();\n        const session = editor.getSession();\n        editor.$blockScrolling = Infinity;\n        editor.setHighlightActiveLine(false);\n        editor.renderer.setShowGutter(false);\n        session.setUseWrapMode(true);\n        session.setWrapLimitRange(chatInputSoftWrapNumber,chatInputSoftWrapNumber);\n        session.setOption(\"indentedSoftWrap\", false);\n        session.setMode('markdown');\n\n        setTimeout(() => {\n            editor.focus();\n        }, 100);\n    }\n\n    @ViewChild('editor') editor;\n    @Output() messageChanged = new EventEmitter<any>();\n\n    onTextareaChange(val):void {\n        if(val === '') {\n            this.setTypingStatus(STATUS.IDLE);\n            this.clearActiveTypingTimeout();\n        } else {\n            this.setTypingStatus(STATUS.ACTIVE_TYPING);\n            this.resetActiveTypingTimeout();\n        }\n        this.messageChanged.emit(val);\n    };\n\n    onTextareaKeydown(event):void {\n        if(event.keyCode === 13) { // Enter\n            const chatEditor = this.editor.getEditor();\n            const toSend = chatEditor.getValue();\n            event.preventDefault();\n            event.stopPropagation();\n\n            this.setTypingStatus(STATUS.IDLE);\n            this.clearActiveTypingTimeout();\n\n            if(toSend) {\n                chatEditor.setValue('');\n                this.send.emit(toSend);\n            }\n        }\n    };\n    private rangeFromStartAndEnd(start, end) {\n        const Range = ace.require('ace/range').Range;\n        let startRow = _.has(start, 'row') ? start.row : start[0];\n        let startCol = _.has(start, 'column') ? start.column : start[1];\n        let endRow = _.has(end, 'row') ? end.row : end[0];\n        let endCol = _.has(end, 'column') ? end.column : end[1];\n\n        return new Range(startRow, startCol, endRow, endCol);\n    };\n\n    public onEditorCursorSelectionChanged(data):void {\n        const Search = ace.require('ace/search').Search;\n        const Range = ace.require('ace/range').Range;\n        const chatEditor = this.editor.getEditor();\n        const chatSession = chatEditor.getSession();\n        const chatDocument = chatSession.getDocument();\n        const chatSelection = chatSession.getSelection();\n        const codeEditor = data.editor;\n        const codeSession = codeEditor.getSession();\n        const codeDocument = codeSession.getDocument();\n\n        const range = this.rangeFromStartAndEnd(data.newRange.start, data.newRange.end);\n\n        let locationString;\n\n        if(range.isEmpty()) {\n            locationString = false;\n        } else {\n            const {start,end} = range;\n            const openFileTitle = data.fileName;\n\n            if(range.start.column === 0 && range.end.column === 0) { // multi-full-line selection\n                if(range.start.row === range.end.row-1) { //selected one full line\n                    locationString = `${openFileTitle}:L${start.row}`;\n                } else {\n                    locationString = `${openFileTitle}:L${start.row}-L${end.row-1}`;\n                }\n            } else {\n                locationString = `${openFileTitle}:L${start.row},${start.column}-L${end.row},${end.column}`;\n            }\n        }\n        // const currentMessage = session.getText();\n        // // const chatEditorBuffer = this.editor.getBuffer();\n        // const chatInputSelectionRange = chatEditor.getSelectedBufferRange();\n        const chatInputSelectionRange = chatSession.getSelection().getRange();\n        const messageRegex = new RegExp('\\\\[(.*)\\\\]\\s*\\\\((.*)\\\\)');\n        // const messageMatch = currentMessage.match(messageRegex);\n\n        let found = false;\n        let searchQuery = new Search();\n        searchQuery.set({\n            regExp: true,\n            needle: messageRegex\n        });\n        let matchRanges = searchQuery.findAll(chatSession);\n        _.each(matchRanges, (matchRange:any) => {\n            if(matchRange.intersects(chatInputSelectionRange)) {\n                if(matchRange.isEqual(chatInputSelectionRange)) { // replace the text and the content\n                    if(locationString) {\n                        const textInRange = trimString(codeSession.getTextRange(range).replace(new RegExp('\\n', 'g'), ' '), 10);\n                        const newEnd = chatSession.replace(matchRange, `[\\`${textInRange}\\`](${locationString})`);\n                        chatSelection.setSelectionRange(this.rangeFromStartAndEnd(matchRange.start, newEnd));\n                    } else {\n                        const newEnd = chatSession.replace(matchRange, '');\n                        chatSelection.setSelectionRange(this.rangeFromStartAndEnd(matchRange.start, newEnd));\n                    }\n                } else { // just replace the content\n                    const match = chatSession.getTextRange(matchRange).match(messageRegex);\n                    const textStr = match[1];\n                    const previousLinkStr = match[2];\n                    if(locationString) {\n                        let previousLinkSearchQuery = new Search();\n                        previousLinkSearchQuery.set({\n                            regExp: false,\n                            needle: `(${previousLinkStr})`,\n                            backwards: true,\n                            range: matchRange\n                        });\n                        const previousLinkRange = previousLinkSearchQuery.find(chatSession);\n                        if(previousLinkRange) {\n                            chatSession.replace(previousLinkRange, `(${locationString})`);\n                        }\n                        let previousTextSearchQuery = new Search();\n                        previousTextSearchQuery.set({\n                            regExp: false,\n                            needle: `${textStr}`,\n                            range: matchRange\n                        });\n                        let previousTextRange = previousTextSearchQuery.find(chatSession);\n\n                        if(previousTextRange) {\n                            chatSelection.setSelectionRange(previousTextRange);\n                        }\n                    } else {\n                        const newEnd = chatSession.replace(matchRange, `${textStr}`);\n                        chatSelection.setSelectionRange(this.rangeFromStartAndEnd(matchRange.start, newEnd));\n                    }\n                }\n                found = true;\n            }\n        });\n        if(locationString && !found) {\n            if(chatInputSelectionRange.isEmpty()) {\n                const textInRange = trimString(codeSession.getTextRange(range).replace(new RegExp('\\n', 'g'), ' '), 10);\n                const newEnd = chatSession.replace(chatInputSelectionRange, `[\\`${textInRange}\\`](${locationString})`);\n                chatSelection.setSelectionRange(this.rangeFromStartAndEnd(chatInputSelectionRange.start, newEnd));\n            } else {\n                const newOpenBracketEnd = chatSession.insert(chatInputSelectionRange.start, `[`);\n                const newEnd = _.extend({}, chatInputSelectionRange.end, { column: chatInputSelectionRange.end.column+1});\n                const endReplacementRange = chatSession.insert(newEnd, `](${locationString})`);\n\n\n                chatSelection.setSelectionRange(this.rangeFromStartAndEnd(newOpenBracketEnd, newEnd));\n            }\n        }\n    }\n\n    private setTypingStatus(newStatus:string):string {\n        if(this.typingStatus != newStatus) {\n            this.typingStatus = newStatus;\n            this.typing.emit(this.typingStatus);\n        }\n        return this.typingStatus;\n    };\n\n    @Output()\n    public send:EventEmitter<any> = new EventEmitter();\n    @Output()\n    public typing:EventEmitter<any> = new EventEmitter();\n\n\n    private typingTimeout:number = 3000;\n    private typingStatus:string = STATUS.IDLE;\n    private resetActiveTypingTimeout() {\n        this.clearActiveTypingTimeout();\n        this.setActiveTypingTimeout();\n    }\n    private setActiveTypingTimeout() {\n        this.activeTypingTimeout = window.setTimeout(() => {\n            this.setTypingStatus(STATUS.IDLE_TYPED);\n        }, this.typingTimeout);\n    }\n    private clearActiveTypingTimeout():void {\n        if(this.hasActiveTypingTimeout()) {\n            window.clearTimeout(this.activeTypingTimeout);\n            this.activeTypingTimeout = -1;\n        }\n    }\n    private hasActiveTypingTimeout():boolean {\n        return this.activeTypingTimeout >= 0;\n    }\n    private activeTypingTimeout:number = -1;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chat-input/chat-input.component.ts","module.exports = \".no-messages {\\n    text-align: center;\\n    vertical-align: middle;\\n    font-size: 2em;\\n    color: #AAA;\\n    font-weight: lighter;\\n}\\n\\n.message-display {\\n    overflow-y: auto;\\n    height: 100%;\\n    border-top: 1px solid #DDD;\\n    padding-right: 5px;\\n}\\n\\n.typing {\\n    color: #AAA;\\n}\\n\\nul.messageGroups {\\n    list-style: none;\\n    padding: 0px;\\n}\\n\\nul.messageGroups > li.messageGroup {\\n    margin-top: 10px;\\n    margin-bottom: 10px;\\n}\\n\\nli.messageGroup  .header {\\n    background-color: #EEE;\\n}\\n\\n.revert {\\n    position: absolute;\\n    right: 5px;\\n}\\n\\n.cameAfterTimestamp .text-messages {\\n    opacity: 0.5;\\n}\\n\\nli.messageGroup .isCurrentTimestamp {\\n    border: 1px solid #0275d8;\\n    border-radius: 5px;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-messages/chat-messages.component.css\n// module id = ./src/app/chat-messages/chat-messages.component.css\n// module chunks = main","module.exports = \"<div #messageDisplay class=\\\"message-display\\\">\\n    <div class=\\\"no-messages\\\" *ngIf='commLayer.getMessageGroups().isEmpty()'>\\n        (no messages)\\n    </div>\\n    <ul class='messageGroups'>\\n        <li class='messageGroup' *ngFor=\\\"let messageGroup of commLayer.getMessageGroups().getMessageGroups()\\\" [ngClass]='{cameAfterTimestamp: (!editorStateTracker.isAtLatest() && isChatMessage(messageGroup) && messageGroup.getEditorVersion() > editorStateTracker.getCurrentVersion())}'>\\n            <ul *ngIf=\\\"isChatMessage(messageGroup)\\\" class='text-messages list-group'  [ngClass]='\\\"user-\\\"+messageGroup.getSender().getColorIndex() + ((editorStateTracker.getCurrentVersion() === messageGroup.getEditorVersion()) ? \\\" isCurrentTimestamp\\\":\\\"\\\")' (click)=\\\"revert(messageGroup)\\\">\\n                <li class='header list-group-item'>\\n                    <span class=\\\"sender\\\">{{messageGroup.getSender().getName()}}</span>&nbsp;<timestamp [t]='messageGroup.getLatestTimestamp()' [parens]='true'></timestamp>\\n                    <!-- <button *ngIf='this.currentTimestamp!==messageGroup.getTimestamp()' class=\\\"btn btn-default btn-sm revert\\\" (click)=\\\"revert(messageGroup)\\\">Look</button> -->\\n                    <!-- <button *ngIf='this.currentTimestamp===messageGroup.getTimestamp()' class=\\\"btn btn-primary btn-sm revert\\\" (click)=\\\"toLatest($event)\\\">Latest</button> -->\\n                </li>\\n                <li *ngFor=\\\"let message of messageGroup.getItems()\\\" class='message list-group-item'>\\n                    <chat-message (onSetVersion)='onMessageSetVersion($event)' (onAddHighlight)='onMessageAddHighlight($event)' [message]='message' [editorStateTracker]='commLayer.getEditorStateTracker()' [editor]='editor' ></chat-message>\\n                </li>\\n            </ul>\\n            <ul *ngIf=\\\"isEditMessage(messageGroup)\\\" class='edit-messages list-group'>\\n                <edit-message-group (willExpand)='this.willChangeSize.emit($event)' (expanded)='this.changedSize.emit($event)' [messageGroup]='messageGroup' [editor]='editor' [editorStateTracker]='commLayer.getEditorStateTracker()'></edit-message-group>\\n            </ul>\\n            <ul *ngIf=\\\"isConnectMessage(messageGroup) && !isObserver\\\" class='connect-messages list-group'>\\n                <connection-message-group [messageGroup]='messageGroup'></connection-message-group>\\n            </ul>\\n        </li>\\n        <!-- <li [style.visibility]='this.currentTimestamp >= 0 ? \\\"visible\\\" : \\\"hidden\\\"'>\\n            <button class='btn btn-primary btn-sm btn-block' (click)=\\\"toLatest($event)\\\">Show current</button>\\n        </li> -->\\n    </ul>\\n    <div class='typing'>\\n        <div *ngFor='let user of commLayer.getUserList().getActiveUsers()'>\\n            <div *ngIf='user.typingStatus==\\\"ACTIVE_TYPING\\\" && !user.getIsMe()'>\\n                {{user.name}} is typing...\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-messages/chat-messages.component.html\n// module id = ./src/app/chat-messages/chat-messages.component.html\n// module chunks = main","import {Component,Injectable,EventEmitter,Output,Input,ViewChild,AfterViewInit} from '@angular/core';\nimport * as _ from 'underscore';\nimport {MessageGroups, TextMessage, TextMessageGroup, EditGroup, ConnectionMessageGroup} from 'chat-codes-services/src/chat-messages';\nimport {EditorStateTracker} from 'chat-codes-services/src/editor-state-tracker';\nimport { CommunicationService, ChannelCommunicationService } from 'chat-codes-services/src/communication-service';\nimport {EditorDisplay} from '../editor/editor.component';\n\n@Component({\n    selector: 'chat-messages',\n    templateUrl: './chat-messages.component.html',\n    styleUrls: ['./chat-messages.component.css'],\n})\n\nexport class ChatMessagesDisplay {\n    @Input() commLayer: ChannelCommunicationService;\n    @Input() editorStateTracker: EditorStateTracker;\n    @Input() editor:EditorDisplay;\n    @Input() isObserver:boolean;\n    @Output() public onAddHighlight:EventEmitter<{message:TextMessage, range:any, file:string, version:number}> = new EventEmitter();\n    @Output() public onSetVersion:EventEmitter<{message:TextMessage, version:number}> = new EventEmitter();\n    public willChangeSize:EventEmitter<any> = new EventEmitter();\n    public changedSize:EventEmitter<any> = new EventEmitter();\n    // private currentTimestamp:number=-1;\n    constructor() {\n        // this.editorStateTracker = this.commLayer.getEditorStateTracker();\n    }\n    public onMessageSetVersion(e) { this.onSetVersion.emit(e);};\n    public onMessageAddHighlight(e) {this.onAddHighlight.emit(e);};\n    ngOnInit() {\n        if(!this.isObserver) {\n            setTimeout(() => { this.scrollToBottom(); }, 0);\n        }\n\n        let at_bottom = false;\n        const messageGroups = this.commLayer.getMessageGroups() as any;\n        messageGroups.on('group-will-be-added', (event) => {\n            at_bottom = this.atBottom();\n        });\n        messageGroups.on('item-will-be-added', (event) => {\n            at_bottom = this.atBottom();\n        });\n        this.willChangeSize.subscribe(() => {\n            at_bottom = this.atBottom();\n        });\n        messageGroups.on('group-added', (event) => {\n            setTimeout(() => { if(at_bottom) { this.scrollToBottom(); } }, 0);\n        });\n        messageGroups.on('item-added', (event) => {\n            setTimeout(() => { if(at_bottom) { this.scrollToBottom(); } }, 0);\n        });\n        (this.editorStateTracker as any).on('timestampChanged', (event) => {\n            this.updateCurrentTimestamp();\n        });\n        this.changedSize.subscribe(() => {\n            setTimeout(() => { if(at_bottom) { this.scrollToBottom(); } }, 0);\n        });\n    }\n    private scrollToBottom(): void {\n        const element = this.messageDisplay.nativeElement;\n        try {\n            element.scrollTop = element.scrollHeight;\n        } catch (err) { console.error(err); }\n    }\n    private atBottom():boolean {\n        const element = this.messageDisplay.nativeElement;\n        return Math.abs(element.scrollTop + element.clientHeight - element.scrollHeight) < 100;\n    }\n    public revert(messageGroup:TextMessageGroup) {\n        this.onSetVersion.emit({message: messageGroup.getEarliestItem(), version: messageGroup.getEditorVersion()})\n\t\treturn this.editorStateTracker.setVersion(messageGroup.getEditorVersion(), messageGroup.getLatestTimestamp(), {editor: this.editor.getEditorInstance()});\n    }\n    private isChatMessage(message):boolean {\n        return message instanceof TextMessageGroup;\n    };\n    private isEditMessage(message):boolean {\n        return message instanceof EditGroup;\n    };\n    private isConnectMessage(message):boolean {\n        return message instanceof ConnectionMessageGroup;\n    };\n    private updateCurrentTimestamp() {\n        // this.currentTimestamp = this.editorStateTracker.getCurrentTimestamp();\n    }\n    public toLatest(event) {\n        event.stopPropagation();\n  \t\treturn this.editorStateTracker.toLatestVersion({editor: this.editor.getEditorInstance()});\n    }\n    @ViewChild('messageDisplay') messageDisplay;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chat-messages/chat-messages.component.ts","module.exports = \".full_connection_message {\\n    font-size: 0.8em;\\n    margin-top: 5px;\\n    margin-bottom: 5px;\\n}\\n.connection_message .action {\\n    opacity: 0.7;\\n}\\ntimestamp {\\n    opacity: 0.7;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-messages/connection-message.component.css\n// module id = ./src/app/chat-messages/connection-message.component.css\n// module chunks = main","module.exports = \"<div class=\\\"full_connection_message\\\">\\n\\t<div class=\\\"connection_message\\\">\\n\\t\\t<span class=\\\"users\\\" *ngFor=\\\"let user of users; let i = index\\\">\\n\\t\\t\\t<span [ngClass]='\\\"user-\\\"+user.getColorIndex()'>{{user.getName()}}</span><span *ngIf=\\\"numUsers>2 && i<numUsers-2\\\">, </span><span *ngIf=\\\"numUsers>2 && i===numUsers-2\\\">, and</span><span *ngIf=\\\"numUsers==2 && i==0\\\"> and</span>\\n\\t\\t</span>\\n\\t\\t<span class=\\\"action\\\">\\n\\t\\t\\t{{action}}\\n\\t\\t</span>\\n\\t\\t<timestamp [t]='messageGroup.getLatestTimestamp()' [parens]='true'></timestamp>\\n\\t</div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-messages/connection-message.component.html\n// module id = ./src/app/chat-messages/connection-message.component.html\n// module chunks = main","import {Component,Injectable,Output,Input,ViewChild} from '@angular/core';\nimport * as _ from 'underscore';\nimport * as $ from 'jquery';\nimport {MessageGroups, EditGroup, ConnectionMessageGroup} from 'chat-codes-services/src/chat-messages';\nimport {ChatUser} from 'chat-codes-services/src/chat-user';\n\n@Component({\n    selector: 'connection-message-group',\n    templateUrl: './connection-message.component.html',\n    styleUrls: ['./connection-message.component.css'],\n})\n\nexport class ConnectionMessageDisplay {\n    @Input() messageGroup:ConnectionMessageGroup;\n\n    public users:Array<ChatUser> = [];\n    public numUsers:number = 0;\n    public action:string = '';\n\n    ngOnInit() {\n        setTimeout(() => { this.updateVariables(); }, 0);\n\n\t\t(this.messageGroup as any).on('item-added', () => {\n            this.updateVariables();\n        });\n\n\t\t(this.messageGroup as any).on('delta-added', () => {\n            this.updateVariables();\n        });\n    }\n    private updateVariables():void {\n        this.users = this.messageGroup.getUsers();\n        this.numUsers = this.users.length;\n        this.action = this.messageGroup.isConnect() ? 'connected':'disconnected';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chat-messages/connection-message.component.ts","module.exports = \".full_edit_message {\\n    font-size: 0.8em;\\n    margin-top: 5px;\\n    margin-bottom: 5px;\\n    /*padding-top: 8px;\\n    padding-bottom: 10px;*/\\n    /*border-top: 1px solid #EEE;*/\\n    /*border-bottom: 1px solid #EEE;*/\\n}\\n.edit_message .action {\\n    opacity: 0.7;\\n}\\n.btn-group {\\n    margin-right: 5px;\\n}\\ntimestamp {\\n    opacity: 0.7;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-messages/edit-message.component.css\n// module id = ./src/app/chat-messages/edit-message.component.css\n// module chunks = main","module.exports = \"<div class=\\\"full_edit_message\\\">\\n\\t<!-- <div class=\\\"btn-toolbar\\\" role=\\\"toolbar\\\">\\n\\t\\t<div class=\\\"btn-group\\\" role=\\\"group\\\">\\n\\t\\t\\t<button type='button' class='btn btn-secondary btn-sm' [ngClass]='{\\\"active\\\": isShowingCodeBefore()}' (click)='showCodeBefore()'>Show code before</button> -->\\n\\t\\t\\t<!-- <button *ngIf='isShowingCodeBefore()' type='button' class='btn btn-primary btn-sm' (click)='showLatestCode()'>Show current code</button> -->\\n\\t\\t<!-- </div>\\n\\t</div> -->\\n\\t<div class=\\\"edit_message\\\">\\n\\t\\t<span class=\\\"authors\\\" *ngFor=\\\"let author of authors; let i = index\\\">\\n\\t\\t\\t<span [ngClass]='\\\"user-\\\"+author.getColorIndex()'>{{author.getName()}}</span><span *ngIf=\\\"numAuthors>2 && i<numAuthors-2\\\">, </span><span *ngIf=\\\"numAuthors>2 && i===numAuthors-2\\\">, and</span><span *ngIf=\\\"numAuthors==2 && i==0\\\"> and</span>\\n\\t\\t</span>\\n\\t\\t<span class=\\\"action\\\">edited</span>\\n\\t\\t<span *ngFor=\\\"let editorState of editorStates; let i = index\\\">\\n\\t\\t\\t<span><a (click)='openFile(editorState)' href=\\\"javascript:void(0)\\\">{{editorState.getTitle()}}</a></span><span *ngIf=\\\"numEditorStates>2 && i<numEditorStates-2\\\">, </span><span *ngIf=\\\"numEditorStates>2 && i===numEditorStates-2\\\">, and</span><span *ngIf=\\\"numEditorStates==2 && i==0\\\"> and</span>\\n\\t\\t</span>\\n\\t\\t<timestamp [t]='messageGroup.getLatestTimestamp()' [parens]='true'></timestamp>\\n\\t\\t<a (click)='toggleDetails()' href=\\\"javascript:void(0)\\\">{{showingDetails ? \\\"(less)\\\" : \\\"(more)\\\"}}</a>\\n\\t</div>\\n\\t<!-- <div *ngIf='showingDetails' class=\\\"btn-toolbar\\\" role=\\\"toolbar\\\">\\n\\t\\t<div class=\\\"btn-group\\\" role=\\\"group\\\">\\n\\t\\t\\t<button type='button' class='btn btn-secondary btn-sm' [ngClass]='{\\\"active\\\": isShowingCodeBefore()}' (click)='showCodeBefore()'>Show before</button>\\n\\t\\t\\t<button type='button' class='btn btn-secondary btn-sm' [ngClass]='{\\\"active\\\": isShowingCodeAfter()}' (click)='showCodeAfter()'>Show after</button>\\n\\t\\t\\t<button *ngIf='isShowingCodeAfter()' type='button' class='btn btn-primary btn-sm' (click)='showLatestCode()'>Show current</button>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"btn-group\\\" role=\\\"group\\\">\\n\\t\\t    <button class='btn btn-secondary btn-sm' [ngClass]=\\\"{'active': showingChanges}\\\" (click)=\\\"toggleShowingChanges()\\\">\\n\\t\\t        {{showingChanges ? \\\"Hide diff\\\" : \\\"Show diff\\\"}}\\n\\t\\t    </button>\\n\\t\\t</div>\\n\\t</div> -->\\n\\t<div *ngIf=\\\"showingChanges && showingDetails\\\" class=\\\"diff\\\">\\n\\t\\t<div *ngFor=\\\"let dhtml of diffHTMLs\\\" class=\\\"file_diff\\\">\\n\\t\\t\\t<div [innerHTML]=\\\"dhtml\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-messages/edit-message.component.html\n// module id = ./src/app/chat-messages/edit-message.component.html\n// module chunks = main","import {Component,Injectable,EventEmitter,Output,Input,ViewChild} from '@angular/core';\nimport * as _ from 'underscore';\nimport * as $ from 'jquery';\nimport {MessageGroups, EditGroup} from 'chat-codes-services/src/chat-messages';\nimport {ChatUser} from 'chat-codes-services/src/chat-user';\nimport {EditorStateTracker, EditorState} from 'chat-codes-services/src/editor-state-tracker';\n\nimport {Diff2Html} from 'diff2html';\n\n@Component({\n    selector: 'edit-message-group',\n    templateUrl: './edit-message.component.html',\n    styleUrls: ['./edit-message.component.css'],\n})\n\nexport class EditMessageDisplay {\n    @Input() editorStateTracker:EditorStateTracker;\n    @Input() messageGroup:EditGroup;\n    @Input() editor;\n    @ViewChild('elem') elem;\n    @Output() willExpand:EventEmitter<boolean> = new EventEmitter();\n    @Output() expanded:EventEmitter<boolean> = new EventEmitter();\n    public showingDetails:boolean = false;\n    public authors:Array<ChatUser> = [];\n    public numAuthors:number = 0;\n    public editorStates:Array<EditorState> = [];\n    public numEditorStates:number = 0;\n\n    public showingChanges:boolean = true;\n\n    private diffSummaries:Array<any> = [];\n    private diffHTMLs:Array<string> = [];\n\n    ngOnInit() {\n        setTimeout(() => { this.updateVariables(); }, 0);\n\n        const throttledUpdateVariables = _.throttle(_.bind(this.updateVariables, this), 1000, {leading: false});\n\t\t(this.messageGroup as any).on('item-added', () => {\n            throttledUpdateVariables();\n        });\n    }\n    public toggleDetails() {\n        this.showingDetails = !this.showingDetails;\n        this.willExpand.emit(this.showingDetails);\n        if(this.showingDetails) {\n            this.updateDiffHTMLs();\n        } else {\n            this.showLatestCode();\n        }\n        this.expanded.emit(this.showingDetails);\n    }\n    private updateVariables():void {\n        this.authors = this.messageGroup.getAuthors();\n        this.numAuthors = this.authors.length;\n        this.editorStates = this.messageGroup.getEditorStates();\n        this.numEditorStates = this.editorStates.length;\n\n        if(this.showingChanges && this.showingDetails) {\n            this.updateDiffHTMLs();\n        }\n    }\n    public openFile(editorState:EditorState) {\n        this.editor.selectFile(editorState);\n    }\n    public toggleShowingChanges() {\n        if(this.showingChanges) {\n            this.showingChanges = false;\n        } else {\n            this.updateDiffHTMLs();\n            this.showingChanges = true;\n        }\n    }\n    private updateDiffHTMLs() {\n        this.diffSummaries = this.messageGroup.getDiffSummary();\n        this.diffHTMLs = _.map(this.diffSummaries, (ds) => {\n            const html = Diff2Html.getPrettyHtml(ds.diff);\n            return html;\n        });\n    }\n    public showCodeBefore() {\n  // \t\treturn this.editorStateTracker.goBeforeDelta(this.messageGroup.getEarliestItem(), {editor: this.editor.getEditorInstance()});\n    }\n    public showCodeAfter() {\n  // \t\treturn this.editorStateTracker.goAfterDelta(this.messageGroup.getLatestItem(), {editor: this.editor.getEditorInstance()});\n    }\n    public isShowingCodeBefore():boolean {\n        return false;\n  // \t\treturn this.editorStateTracker.isShowingCodeBefore(this.messageGroup.getEarliestItem());\n    }\n    public isShowingCodeAfter():boolean {\n        return false;\n  // \t\treturn this.editorStateTracker.isShowingCodeAfter(this.messageGroup.getLatestItem());\n    }\n    public showLatestCode() {\n        // this.editorStateTracker.toLatestTimestamp({editor: this.editor.getEditorInstance() });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chat-messages/edit-message.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-messages/single-message.component.css\n// module id = ./src/app/chat-messages/single-message.component.css\n// module chunks = main","module.exports = \"<div #elem>{{message.getMessage()}}</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-messages/single-message.component.html\n// module id = ./src/app/chat-messages/single-message.component.html\n// module chunks = main","import { Component, Injectable, EventEmitter, Output, Input, ViewChild } from '@angular/core';\nimport * as _ from 'underscore';\nimport * as $ from 'jquery';\nimport { MessageGroups, TextMessageGroup, TextMessage, EditGroup } from 'chat-codes-services/src/chat-messages';\nimport { EditorStateTracker } from 'chat-codes-services/src/editor-state-tracker';\n\n@Component({\n\tselector: 'chat-message',\n\ttemplateUrl: './single-message.component.html',\n\tstyleUrls: ['./single-message.component.css'],\n})\n\nexport class ChatMessageDisplay {\n\t@Input() editorStateTracker: EditorStateTracker;\n\t@Input() message: TextMessage;\n\t@Input() editor;\n\t@ViewChild('elem') elem;\n    @Output() public onAddHighlight:EventEmitter<{message:TextMessage, range:any, file:string, version:number}> = new EventEmitter();\n    @Output() public onSetVersion:EventEmitter<{message:TextMessage, version:number}> = new EventEmitter();\n\tngOnInit() {\n\t\tconst $elem = $(this.elem.nativeElement);\n\t\t$elem.html(this.message.getHTML());\n\t\tlet startingVersion: number = -10;\n\t\tlet startingTimestamp:number = -10;\n\t\t$('a.line_ref', $elem).on('mouseenter', (me_event) => {\n\t\t\tstartingTimestamp = this.editorStateTracker.getCurrentTimestamp();\n\t\t\tstartingVersion = this.editorStateTracker.getCurrentVersion();\n\t\t\tconst { file, range } = this.getHighlightInfo(me_event.currentTarget);\n\t\t\tconst highlightID = this.addHighlight(file, range, this.message.getEditorVersion(), this.message.getTimestamp());\n\t\t\t$(me_event.target).on('mouseleave.removeHighlight', (ml_event) => {\n\t\t\t\tif (startingVersion !== -10) {\n\t\t\t\t\tthis.editorStateTracker.setVersion(startingVersion, startingTimestamp, {editor: this.editor.getEditorInstance()});\n\t\t\t\t}\n\t\t\t\tthis.removeHighlight(file, highlightID);\n\t\t\t\t$(me_event.target).off('mouseleave.removeHighlight');\n\t\t\t});\n\t\t\tthis.onAddHighlight.emit({message: this.message, version:this.message.getEditorVersion(), range, file});\n\t\t}).on('click', (c_event) => {\n\t\t\tconst { file, range } = this.getHighlightInfo(c_event.currentTarget);\n\t\t\tthis.focusRange(file, range, this.message.getEditorVersion(), this.message.getTimestamp());\n\t\t\tthis.onSetVersion.emit({message: this.message, version: this.message.getEditorVersion()});\n\n\t\t\tstartingVersion = -10;\n\t\t\tstartingTimestamp = -10;\n\t\t});\n\t}\n\tprivate getHighlightInfo(elem) {\n\t\tconst $elem = $(elem);\n\t\tconst start = $elem.attr('data-start');\n\t\tconst end = $elem.attr('data-end');\n\n\t\treturn {\n\t\t\tfile: $elem.attr('data-file'),\n\t\t\trange: {\n\t\t\t\tstart: _.map(start.split(','), (x: string) => parseInt(x)),\n\t\t\t\tend: _.map(end.split(','), (x: string) => parseInt(x))\n\t\t\t}\n\t\t};\n\t}\n\tprivate addHighlight(editorID, range, version, timestamp) {\n\t\treturn this.editorStateTracker.addHighlight(editorID, range, version, timestamp, {\n\t\t\teditor: this.editor.getEditorInstance()\n\t\t});\n\t}\n\tprivate removeHighlight(editorID, highlightID) {\n\t\tthis.editorStateTracker.removeHighlight(editorID, highlightID, {\n\t\t\teditor: this.editor.getEditorInstance()\n\t\t});\n\t}\n\tprivate focusRange(editorID, range, version, timestamp) {\n\t\tconst editorState = this.editorStateTracker.getEditorState(editorID);\n\t\tthis.editor.selectFile(editorState);\n\t\treturn this.editorStateTracker.focus(editorID, range, version, timestamp, { editor: this.editor.getEditorInstance() });\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chat-messages/single-message.component.ts","import {EditorStateTracker,EditorState,RemoteCursorMarker} from 'chat-codes-services/src/editor-state-tracker';\nimport {ChannelCommunicationService} from 'chat-codes-services/src/communication-service';\nimport {SharedbAceBinding} from './sharedb-ace-binding';\n\ndeclare let ace: any;\nimport * as _ from 'underscore';\n\nexport class AceEditorWrapper {\n\tprivate showingRemoteCursors:boolean = true;\n\tprivate sdbBinding:SharedbAceBinding;\n\tconstructor(state, private channelCommunicationService:ChannelCommunicationService) {\n\t\tconst {id} = state;\n\t\tthis.channelCommunicationService.getShareDBEditors().then((doc) => {\n\t\t\tlet i = 0;\n\t\t\tfor(; i<doc.data.length; i++) {\n\t\t\t\tif(doc.data[i].id === id){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst path = [i, 'contents'];\n\t\t\tthis.sdbBinding = new SharedbAceBinding({\n\t\t\t\tdoc, path, session:this.session\n\t\t\t});\n\t\t\tif(this.channelCommunicationService.getIsObserver()) {\n\t\t\t\tthis.sdbBinding.setInitialValue();\n\t\t\t\tthis.sdbBinding.unlisten();\n\t\t\t}\n\t\t});\n\t\tthis.session.forEditorID = id;\n\t\tthis.session.addDynamicMarker(this);\n\n\t\tconst selection = this.session.getSelection();\n\t\tselection.on('changeCursor', (event) => {\n\t\t\tconst cursor = selection.getCursor();\n\n\t\t\tchannelCommunicationService.onCursorPositionChanged({\n\t\t\t\teditorID: state.id,\n\t\t\t\ttype: 'change-position',\n\t\t\t\tnewBufferPosition: [cursor.row, cursor.column]\n\t\t\t});\n\t\t});\n\t\tselection.on('changeSelection', (event) => {\n\t\t\tconst serializedRanges = _.map(selection.getAllRanges(), (range:any) => {\n\t\t\t\treturn {\n\t\t\t\t\tstart: [range.start.row, range.start.column],\n\t\t\t\t\tend: [range.end.row, range.end.column]\n\t\t\t\t};\n\t\t\t});\n\t\t\tchannelCommunicationService.onCursorSelectionChanged({\n\t\t\t\teditorID: state.id,\n\t\t\t\tnewRange: serializedRanges[0],\n\t\t\t\ttype: 'change-selection'\n\t\t\t});\n\t\t});\n\t}\n\tpublic suspendEditorBinding() {\n\t\tthis.sdbBinding.unlisten();\n\t}\n\tpublic resumeEditorBinding() {\n\t\tthis.sdbBinding.setInitialValue();\n\t\tthis.sdbBinding.listen();\n\t}\n\tpublic setEditorState(editorState) {\n\t\tthis.editorState = editorState;\n\t}\n\tprivate editorState;\n\tprivate session = new (ace.require('ace/edit_session').EditSession)('');\n\tpublic setGrammar(grammarName:string) {\n    \tthis.session.setMode(this.getAceGrammarName(grammarName));\n\t}\n\tpublic replaceText(serializedRange, value:string) {\n\t\tconst range = this.getRangeFromSerializedRange(serializedRange);\n\t\tconst oldText = this.session.getTextRange(range);\n\t\tconst newRange = { start: serializedRange.start, end: serializedRange.end };\n\t\tconst newEnd = this.session.replace(range, value);\n\t\tnewRange.end = [newEnd.row, newEnd.column];\n\t\treturn {\n\t\t\toldText: oldText,\n\t\t\tnewRange: newRange\n\t\t}\n\t\t// const this.session.replace(range, value));\n\t\t// console.log(this.session.replace(range, value));\n\n\t}\n\tpublic setText(value:string) {\n\t\tthis.session.setValue(value);\n\t}\n\tpublic getAnchor(range) {\n\t\tconst doc = this.session.getDocument();\n\t\treturn {\n\t\t\tstart: this.getAnchorFromLocation(doc, range.start),\n\t\t\tend: this.getAnchorFromLocation(doc, range.end)\n\t\t};\n\t}\n\tpublic getCurrentAnchorPosition(anchor) {\n\t\treturn {\n\t\t\tstart: [anchor.start.row, anchor.start.column],\n\t\t\tend: [anchor.end.row, anchor.end.column]\n\t\t};\n\t}\n\tprivate getRangeFromSerializedRange(serializedRange) {\n\t\tconst Range = ace.require('ace/range').Range\n\t\tlet startRow = serializedRange.start[0];\n\t\tlet startColumn = serializedRange.start[1];\n\t\tlet endRow = serializedRange.end[0];\n\t\tlet endColumn = serializedRange.end[1];\n\t\tif(startColumn < 0) {\n\t\t\tstartColumn = 0;\n\t\t}\n\t\tif(endColumn < 0) {\n\t\t\tendRow = endRow+1;\n\t\t\tendColumn = 0;\n\t\t}\n\t\treturn new Range(startRow, startColumn, endRow, endColumn);\n\t}\n\tprivate getAnchorFromLocation(doc, loc) {\n\t\tconst Anchor = ace.require('ace/anchor').Anchor;\n\t\treturn new Anchor(doc, loc[0],loc[1]);\n\t}\n\tprivate getAceGrammarName(grammarName) {\n\t\tif(grammarName === 'TypeScript') {\n\t\t\treturn 'ace/mode/typescript';\n\t\t} else if (grammarName === 'Null Grammar') {\n\t\t\treturn '';\n\t\t} else if(grammarName === 'JavaScript') {\n\t\t\treturn 'ace/mode/javascript';\n\t\t} else if(grammarName === 'HTML') {\n\t\t\treturn 'ace/mode/html';\n\t\t} else if(grammarName === 'CSS') {\n\t\t\treturn 'ace/mode/css';\n\t\t} else if(grammarName === 'JSON') {\n\t\t\treturn 'ace/mode/json';\n\t\t} else if(grammarName === 'PHP') {\n\t\t\treturn 'ace/mode/php';\n\t\t} else if(grammarName === 'Python') {\n\t\t\treturn 'ace/mode/python';\n\t\t} else if(grammarName === 'Markdown') {\n\t\t\treturn 'ace/mode/markdown';\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t}\n\tprivate cursorMarkers:{[cursorID:number]:number} = {};\n\tpublic getSession() { return this.session; }\n\tpublic addRemoteCursor(cursor, remoteCursorMarker) {}\n\tpublic addRemoteCursorSelection(cursor, remoteCursorMarker:RemoteCursorMarker) {}\n\tpublic addRemoteCursorPosition(cursor, remoteCursorMarker:RemoteCursorMarker) {\n\t\tthis.session._signal(\"changeBackMarker\");\n\t}\n\tpublic updateRemoteCursorPosition(cursor, remoteCursorMarker:RemoteCursorMarker) {\n\t\tthis.session._signal(\"changeBackMarker\");\n\t}\n\tpublic removeRemoteCursor(cursor, remoteCursorMarker:RemoteCursorMarker) {\n\t\tconst {id,range,user} = cursor;\n\t\tconst oldMarkerID = this.cursorMarkers[id];\n\t\tif(oldMarkerID) {\n\t\t\tthis.session.removeMarker(oldMarkerID);\n\t\t\tdelete this.cursorMarkers[id];\n\t\t}\n\t}\n\tprivate clazz:string = 'remoteCursor';\n\tpublic updateRemoteCursorSelection(cursor, remoteCursorMarker:RemoteCursorMarker) {\n\t\tif(this.showingRemoteCursors) {\n\t\t\tconst {id,range,user} = cursor;\n\t\t\tconst oldMarkerID = this.cursorMarkers[id];\n\t\t\tif(oldMarkerID) {\n\t\t\t\tthis.session.removeMarker(oldMarkerID);\n\t\t\t\tdelete this.cursorMarkers[id];\n\t\t\t}\n\n\t\t\tconst aceRange = this.getRangeFromSerializedRange(range);\n\t\t\tconst markerID = this.session.addMarker(aceRange, this.clazz + (user ? ' user-'+user.colorIndex : ''), false);\n\t\t\tthis.cursorMarkers[id] = markerID;\n\t\t}\n\t}\n\tpublic saveFile() {};\n\tpublic setReadOnly(isReadOnly:boolean, extraInfo){\n\t\tconst {editor} = extraInfo;\n\t\teditor.setReadOnly(isReadOnly);\n\t}\n\tpublic addHighlight(range) {\n\t\tconst aceRange = this.getRangeFromSerializedRange(range);\n\t\tconst markerID = this.session.addMarker(aceRange, this.clazz + ' user-1', false);\n\t\treturn markerID;\n\t}\n\tpublic removeHighlight(id) {\n\t\tthis.session.removeMarker(id);\n\t}\n\tpublic focus(range, extraInfo) {\n\t\t// scrollToRow(range.start[0]);\n\t\tconst {editor} = extraInfo;\n\n\t\tconst aceRange = this.getRangeFromSerializedRange(range);\n\t\tconst markerID = this.session.addMarker(aceRange, this.clazz + ' user-1', false);\n\n\t\tconst averageRow = Math.round((aceRange.start.row + aceRange.end.row)/2);\n\n\t\teditor.scrollToLine(averageRow, true, true, () => {});\n\t\tsetTimeout(() => {\n\t\t\tthis.session.removeMarker(markerID);\n\t\t}, 2000);\n\t}\n\tpublic hideRemoteCursors() {\n\t\tthis.showingRemoteCursors = false;\n\t\tthis.session._signal(\"changeBackMarker\");\n\t\t_.each(this.cursorMarkers, (markerID, id) => {\n\t\t\tthis.session.removeMarker(markerID);\n\t\t\tdelete this.cursorMarkers[id];\n\t\t});\n\t}\n\tpublic showRemoteCursors(cursorTracker?:RemoteCursorMarker) {\n\t\tthis.showingRemoteCursors = true;\n\t\tthis.session._signal(\"changeBackMarker\");\n\t\tif(cursorTracker) {\n\t\t\tconst serializedCursors = cursorTracker.getCursors();\n\t\t\t_.each(serializedCursors, (serializedCursor:any) => {\n\t\t\t\tconst {range} = serializedCursor;\n\t\t\t\tthis.addRemoteCursorSelection(serializedCursor, cursorTracker);\n\t\t\t\tthis.updateRemoteCursorSelection(serializedCursor, cursorTracker);\n\t\t\t});\n\t\t}\n\t}\n\n    public update(html, markerLayer, session, config)  {\n\t\tif(this.showingRemoteCursors) {\n\t\t    var start = config.firstRow, end = config.lastRow;\n\t\t\tconst remoteCursors = this.editorState.getRemoteCursors();\n\t\t\tconst cursors = remoteCursors.getCursors();\n\t\t\tcursors.forEach((cursorInfo) => {\n\t\t\t\tconst {pos} = cursorInfo;\n\t\t        if (!pos || pos.row < start || pos.row > end) {\n\t\t            return;\n\t\t        } else {\n\t\t            // compute cursor position on screen\n\t\t            // this code is based on ace/layer/marker.js\n\t\t            var screenPos = session.documentToScreenPosition(...pos)\n\n\t\t            var height = config.lineHeight;\n\t\t            var width = config.characterWidth;\n\t\t            var top = markerLayer.$getTop(screenPos.row, config);\n\t\t            var left = markerLayer.$padding + screenPos.column * width;\n\t\t            // can add any html here\n\t\t\t\t\tconst user = cursorInfo.user;\n\t\t            html.push(\n\t\t                \"<div class='carret \"+this.clazz+(user ? ' user-'+user.getColorIndex():'')+\"' style='\",\n\t\t                \"height:\", height, \"px;\",\n\t\t                \"top:\", top, \"px;\",\n\t\t                \"left:\", left, \"px;\", width, \"px'></div>\"\n\t\t            );\n\t\t        }\n\t\t\t});\n\t\t}\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editor/ace-editor-wrapper.ts","module.exports = \"ace-editor {\\n    height: 100%;\\n    border-right: 1px solid #EEE;\\n    border-bottom: 1px solid #EEE;\\n}\\n\\nace-editor.locked {\\n    background: url(\\\"data:image/svg+xml,%3C%3Fxml version%3D%221.0%22 encoding%3D%22UTF-8%22 standalone%3D%22no%22%3F%3E%3C!DOCTYPE svg PUBLIC %22-%2F%2FW3C%2F%2FDTD SVG 1.1%2F%2FEN%22 %22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axl%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22 version%3D%221.1%22 viewBox%3D%22121 -417 1152 1408%22 width%3D%2296pc%22 height%3D%221408pt%22 xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%3E  %3Cmetadata%3E Produced by OmniGraffle 7.4.2     %3Cdc%3Adate%3E2017-09-02 21%3A32%3A26 %2B0000%3C%2Fdc%3Adate%3E  %3C%2Fmetadata%3E  %3Cdefs%2F%3E  %3Cg stroke%3D%22none%22 stroke-opacity%3D%221%22 stroke-dasharray%3D%22none%22 fill%3D%22none%22 fill-opacity%3D%221%22%3E    %3Ctitle%3ECanvas 1%3C%2Ftitle%3E    %3Crect fill%3D%22white%22 width%3D%221152%22 height%3D%221408%22%2F%3E    %3Cg%3E      %3Ctitle%3ELayer 1%3C%2Ftitle%3E      %3Cpath d%3D%22M 825 479 C 825 443.66667 812.5 413.5 787.5 388.5 C 762.5 363.5 732.3333 351 697 351 C 661.6667 351 631.5 363.5 606.5 388.5 C 581.5 413.5 569 443.66667 569 479 C 569 503.66667 575.3333 526 588 546 C 600.6667 566 617.6667 581.6667 639 593 L 570 822 C 566.6667 832 568.3333 841.3333 575 850 C 581.6667 858.6667 590.3333 863 601 863 L 793 863 C 803.6667 863 812.3333 858.6667 819 850 C 825.6667 841.3333 827.3333 832 824 822 L 755 593 C 776.3333 581.6667 793.3333 566 806 546 C 818.6667 526 825 503.66667 825 479 Z M 441 223 L 953 223 L 953 31 C 953 -39.666667 928 -100 878 -150 C 828 -200 767.6667 -225 697 -225 C 626.3333 -225 566 -200 516 -150 C 466 -100 441 -39.666667 441 31 Z M 1273 319 L 1273 895 C 1273 921.6667 1263.6667 944.3333 1245 963 C 1226.3333 981.6667 1203.6667 991 1177 991 L 217 991 C 190.33333 991 167.66667 981.6667 149 963 C 130.33333 944.3333 121 921.6667 121 895 L 121 319 C 121 292.33333 130.33333 269.66667 149 251 C 167.66667 232.33333 190.33333 223 217 223 L 249 223 L 249 31 C 249 -91.66667 293 -197 381 -285 C 469 -373 574.3333 -417 697 -417 C 819.6667 -417 925 -373 1013 -285 C 1101 -197 1145 -91.66667 1145 31 L 1145 223 L 1177 223 C 1203.6667 223 1226.3333 232.33333 1245 251 C 1263.6667 269.66667 1273 292.33333 1273 319 Z%22 fill%3D%22%23dadada%22 fill-opacity%3D%22.19674296%22%2F%3E    %3C%2Fg%3E  %3C%2Fg%3E%3C%2Fsvg%3E\\\") center center;\\n    background-size: 20%;\\n    background-repeat: no-repeat;\\n}\\n\\n.message {\\n    position: absolute;\\n    right: 15px;\\n    top: -40px;\\n    font-size: 0.8em;\\n    z-index: 99;\\n    background-color: #EEE;\\n    padding: 5px;\\n    border: 1px solid #CCC;\\n    opacity: 0.8;\\n    color: #999;\\n}\\n\\n.no-editor-open {\\n    text-align: center;\\n    vertical-align: middle;\\n    font-size: 2em;\\n    color: #AAA;\\n    font-weight: lighter;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/editor/editor.component.css\n// module id = ./src/app/editor/editor.component.css\n// module chunks = main","module.exports = \"<div *ngIf='!editorStateTracker.isAtLatest()' class=\\\"message\\\">Showing code from <timestamp [t]='editorStateTracker.getCurrentTimestamp()'></timestamp>\\n    <div class=\\\"btn-group\\\">\\n        <button *ngIf='canGoBack' class='btn btn-sm btn-secondary' (click)='toEarlier()'>&lt;</button>\\n        <button class='btn btn-sm btn-primary' (click)='toLatest()'>Show current code</button>\\n        <button *ngIf='canGoForward' class='btn btn-sm btn-secondary' (click)='toLater()'>&gt;</button>\\n    </div>\\n</div>\\n<ace-editor [hidden]='selectedEditor==false' [ngClass]='{locked: !this.editorStateTracker.isAtLatest() }' [theme]=\\\"'chrome'\\\" #editor></ace-editor>\\n<div class='no-editor-open' *ngIf='selectedEditor===false'>\\n    (no file is open)\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/editor/editor.component.html\n// module id = ./src/app/editor/editor.component.html\n// module chunks = main","import {Component, ViewChild, EventEmitter, Output, Input} from '@angular/core';\nimport { ChatUserList, ChatUser } from 'chat-codes-services/src/chat-user';\nimport { CommunicationService, ChannelCommunicationService } from 'chat-codes-services/src/communication-service';\nimport {ChatInput} from '../chat-input/chat-input.component'\nimport {EditorStateTracker} from 'chat-codes-services/src/editor-state-tracker';\n\nimport * as _ from 'underscore';\n\ndeclare let ace: any;\n\n@Component({\n\tselector: 'code-editor',\n\ttemplateUrl: './editor.component.html',\n\tstyleUrls: ['./editor.component.css'],\n})\nexport class EditorDisplay {\n    constructor() { }\n\tatomIDToEditSessionMap = {}\n\tfiles: Array<any> = []\n\tselectedEditor:any=false;\n    @Output() public onGoLatest:EventEmitter<{}> = new EventEmitter();\n    @Output() public goNext:EventEmitter<any> = new EventEmitter();\n\t@Output() public goPrevious:EventEmitter<any> = new EventEmitter();\n\tpublic canGoBack:boolean = false;\n\tpublic canGoForward:boolean = false;\n\tupdatePositionsFromAnchor(delta) {\n\t\tconst oldRangeStart = delta.oldRangeStartAnchor.getPosition();\n\t\tconst oldRangeEnd = delta.oldRangeEndAnchor.getPosition();\n\t\tconst newRangeStart = delta.newRangeStartAnchor.getPosition();\n\t\tconst newRangeEnd = delta.newRangeEndAnchor.getPosition();\n\n\t\tdelta.oldRange.start = [oldRangeStart.row, oldRangeStart.column];\n\t\tdelta.oldRange.end =   [oldRangeEnd.row, oldRangeEnd.column];\n\t\tdelta.newRange.start = [newRangeStart.row, newRangeStart.column];\n\t\tdelta.newRange.end =   [newRangeEnd.row, newRangeEnd.column];\n\t\treturn delta;\n\t}\n\tpublic toEarlier():void {\n\t\tconsole.log('earlier');\n\t}\n\tpublic toLater():void {\n\t\tconsole.log('later');\n\t}\n    ngOnInit() {\n\t\tthis.editorStateTracker = this.commLayer.getEditorStateTracker();\n\t\tconst editor = this.editor.getEditor();\n\t    editor.$blockScrolling = Infinity;\n\n\t\teditor.commands.addCommand({\n\t\t\tname: 'saveContents',\n\t\t\tbindKey: {\n\t\t\t\twin: 'Ctrl-s',\n\t\t\t\tmac: 'Command-s'\n\t\t\t},\n\t\t\texec: function(editor) {\n\t\t\t\tconst session = editor.getSession();\n\t\t\t\tconst editorID = session.forEditorID;\n\n\t\t\t\t// this.pusher.emitSave({\n\t\t\t\t// \tid: session.forEditorID,\n\t\t\t\t// \ttype: 'save',\n\t\t\t\t// });\n\t\t\t}\n\t\t});\n\n\t\tif(this.isObserver) {\n\t\t\teditor.setReadOnly(true);\n\t\t} else {\n\t\t\teditor.on('change', (event) => {\n\t\t\t\tconst curOpp = editor.curOp;\n\t\t\t\tif(curOpp && curOpp.command && curOpp.command.name) { // change was made locally\n\t\t\t\t\tconst session = editor.getSession();\n\t\t\t\t\tthis.commLayer.emitEditorChanged({\n\t\t\t\t\t\tid: session.forEditorID,\n\t\t\t\t\t\ttype: 'edit'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tconst activeEditors = this.editorStateTracker.getActiveEditors();\n\t\tif(activeEditors.length > 0) {\n\t\t\tthis.selectFile(activeEditors[0]);\n\t\t}\n    }\n\tprivate getTimestamp():number {\n\t\treturn (new Date()).getTime();\n\t}\n\tpublic getEditorInstance() {\n\t\treturn this.editor.getEditor();\n\t}\n\n\tpublic selectFile(editorState) {\n\t\tif(this.selectedEditor) {\n\t\t\tthis.selectedEditor.selected = false;\n\t\t}\n\t\tconst aceWrapper = editorState.getEditorWrapper();\n\t\tconst session = aceWrapper.getSession();\n\t\teditorState.selected = true;\n\t    const editor = this.getEditorInstance();\n\t\teditor.setSession(session);\n\t\tthis.selectedEditor = editorState;\n\t\tif(this.isObserver) {\n\t\t\teditor.setReadOnly(true);\n\t\t} else {\n\t\t\tconst selection = session.getSelection();\n\t\t\tselection.on('changeSelection', (event) => {\n\t\t\t\tconst serializedRanges = _.map(selection.getAllRanges(), (range:any) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstart: [range.start.row, range.start.column],\n\t\t\t\t\t\tend: [range.end.row, range.end.column]\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tthis.cursorSelectionChanged.emit({\n\t\t\t\t\teditor: editor,\n\t\t\t\t\tsession: session,\n\t\t\t\t\tfileName: editorState.title,\n\t\t\t\t\tnewRange: serializedRanges[0],\n\t\t\t\t\ttype: 'change-selection'\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\n\tprivate getRangeFromSerializedRange(serializedRange) {\n\t\tconst Range = ace.require('ace/range').Range\n\t\treturn new Range(serializedRange.start[0], serializedRange.start[1], serializedRange.end[0], serializedRange.end[1]);\n\t}\n\n\tpublic toLatest() {\n\t\tthis.editorStateTracker.toLatestVersion({editor: this.editor.getEditor() });\n\t\tthis.onGoLatest.emit({});\n\t}\n\n\tpublic editorStateTracker:EditorStateTracker;\n\n    @ViewChild('editor') editor;\n    @Input() commLayer:ChannelCommunicationService;\n    @Input() isObserver:boolean;\n\t\t//@Input() chatInput: ChatInput;\n\t@Output() public editorChanged:EventEmitter<any> = new EventEmitter();\n\t@Output() public cursorPositionChanged:EventEmitter<any> = new EventEmitter();\n\t@Output() public cursorSelectionChanged:EventEmitter<any> = new EventEmitter();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editor/editor.component.ts","/**\n * @fileOverview\n * @name sharedb-ace-binding.js\n * @author Jethro Kuan <jethrokuan95@gmail.com>\n * @license MIT\n */\n\n/* global process.env */\nimport * as Logdown from 'logdown';\n\nexport class SharedbAceBinding {\n\tprivate editor;\n\tprivate session;\n\tprivate newline: string;\n\tprivate path: string;\n\tprivate doc;\n\tprivate pluginWS;\n\tprivate plugins;\n\tprivate logger;\n\t// When ops are applied to sharedb, ace emits edit events.\n\t// This events need to be suppressed to prevent infinite looping\n\tprivate suppress: boolean = false;\n\tprivate $onLocalChange;\n\tprivate $onRemoteChange;\n\tprivate listening:boolean = false;\n\t/**\n\t * Constructs the binding object.\n\t *\n\t * Initializes the Ace document initial value to that of the\n\t * ShareDB document. Also , sets up the local and remote event\n\t * listeners, and begins listening to local and remote change events\n\t *\n\t * @param {Object} options - contains all parameters\n\t * @param {Object} options.ace - ace editor instance\n\t * @param {Object} options.doc - ShareDB document\n\t * @param {Object} options.pluginWS - WebSocket connection for\n\t * sharedb-ace plugins\n\t * @param {string[]} options.path - A lens, describing the nesting\n\t * to the JSON document. It should point to a string.\n\t * @param {Object[]} options.plugins - array of sharedb-ace plugins\n\t * @example\n\t * const binding = new SharedbAceBinding({\n\t *   ace: aceInstance,\n\t *   doc: sharedbDoc,\n\t *   path: [\"path\"],\n\t *   plugins: [ SharedbAceMultipleCursors ],\n\t *   pluginWS: \"http://localhost:3108/ws\",\n\t * })\n\t */\n\tconstructor(options) {\n\t\t// this.editor = options.ace;\n\t\t// this.editor.id = `${options.id}-${options.path}`;\n\t\t// this.editor.$blockScrolling = Infinity;\n\t\t// this.session = this.editor.getSession();\n\t\tthis.session = options.session;\n\t\tthis.newline = this.session.getDocument().getNewLineCharacter();\n\t\tthis.path = options.path;\n\t\tthis.doc = options.doc;\n\t\tthis.pluginWS = options.pluginWS;\n\t\tthis.plugins = options.plugins || [];\n\t\tthis.logger = new Logdown('shareace');\n\n\t\t// Initialize plugins\n\t\tthis.plugins.forEach((plugin) => {\n\t\t\tplugin(this.pluginWS, this.editor);\n\t\t});\n\n\n\t\t// Set value of ace document to ShareDB document value\n\t\tthis.setInitialValue();\n\n\t\t// Event Listeners\n\t\tthis.$onLocalChange = this.onLocalChange.bind(this);\n\t\tthis.$onRemoteChange = this.onRemoteChange.bind(this);\n\n\t\tthis.listen();\n\t}\n\n\t/**\n\t * Sets the ace document value to the ShareDB document value\n\t */\n\tsetInitialValue() {\n\t\tthis.suppress = true;\n\t\tlet data = this.doc.data;\n\t\tfor (let i = 0; i < this.path.length; i++) {\n\t\t\tdata = data[this.path[i]];\n\t\t}\n\t\tthis.session.setValue(data);\n\t\tthis.suppress = false;\n\t}\n\n\t/**\n\t * Listens to the changes\n\t */\n\tlisten() {\n\t\tif(!this.listening) {\n\t\t\tthis.listening = true;\n\t\t\tthis.session.on('change', this.$onLocalChange);\n\t\t\tthis.doc.on('op', this.$onRemoteChange);\n\t\t}\n\t}\n\n\t/**\n\t * Stop listening to changes\n\t */\n\tunlisten() {\n\t\tif(this.listening) {\n\t\t\tthis.listening = false;\n\t\t\tthis.session.removeListener('change', this.$onLocalChange);\n\t\t\tthis.doc.removeListener('op', this.$onRemoteChange);\n\t\t}\n\t}\n\n\t/**\n\t * Delta (Ace Editor) -> Op (ShareDB)\n\t *\n\t * @param {Object} delta - delta created by ace editor\n\t * @returns {Object}  op - op compliant with ShareDB\n\t * @throws {Error} throws error if delta is malformed\n\t */\n\tdeltaTransform(delta) {\n\t\tconst aceDoc = this.session.getDocument();\n\t\tconst op = {};\n\t\tconst start = aceDoc.positionToIndex(delta.start);\n\t\tconst end = aceDoc.positionToIndex(delta.end);\n\t\top['p'] = this.path.concat(start);\n\t\tthis.logger.log(`start: ${start} end: ${end}`);\n\t\tlet action;\n\t\tif (delta.action === 'insert') {\n\t\t\taction = 'si';\n\t\t} else if (delta.action === 'remove') {\n\t\t\taction = 'sd';\n\t\t} else {\n\t\t\tthrow new Error(`action ${action} not supported`);\n\t\t}\n\n\t\tconst str = delta.lines.join('\\n');\n\n\t\top[action] = str;\n\t\treturn op;\n\t}\n\n\t/**\n\t *\n\t * @param {Object[]} ops - array of ShareDB ops\n\t * @returns {Object[]} deltas - array of Ace Editor compliant deltas\n\t * @throws {Error} throws error on malformed op\n\t */\n\topTransform(ops) {\n\t\tconst self = this;\n\t\tfunction opToDelta(op) {\n\t\t\tconst index = op.p[op.p.length - 1];\n\t\t\tconst pos = self.session.doc.indexToPosition(index, 0);\n\t\t\tconst start = pos;\n\t\t\tlet action;\n\t\t\tlet lines;\n\t\t\tlet end;\n\n\t\t\tif ('sd' in op) {\n\t\t\t\taction = 'remove';\n\t\t\t\tlines = op.sd.split('\\n');\n\t\t\t\tconst count = lines.reduce((total, line) => total + line.length, lines.length - 1);\n\t\t\t\tend = self.session.doc.indexToPosition(index + count, 0);\n\t\t\t} else if ('si' in op) {\n\t\t\t\taction = 'insert';\n\t\t\t\tlines = op.si.split('\\n');\n\t\t\t\tif (lines.length === 1) {\n\t\t\t\t\tend = {\n\t\t\t\t\t\trow: start.row,\n\t\t\t\t\t\tcolumn: start.column + op.si.length,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tend = {\n\t\t\t\t\t\trow: start.row + (lines.length - 1),\n\t\t\t\t\t\tcolumn: lines[lines.length - 1].length,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Invalid Operation: ${JSON.stringify(op)}`);\n\t\t\t}\n\n\t\t\tconst delta = {\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t\taction,\n\t\t\t\tlines,\n\t\t\t};\n\n\t\t\treturn delta;\n\t\t}\n\t\tconst deltas = ops.map(opToDelta);\n\t\treturn deltas;\n\t}\n\n\t/**\n\t * Event listener for local changes (ace editor)\n\t *\n\t * transforms delta into ShareDB op and sends it to the server.\n\t *\n\t * @param {} delta - ace editor op (compliant with\n\t * ace editor event listener spec)\n\t */\n\tonLocalChange(delta) {\n\t\tthis.logger.log(`*local*: fired ${Date.now()}`);\n\t\tthis.logger.log(`*local*: delta received: ${JSON.stringify(delta)}`);\n\n\t\tif (this.suppress) {\n\t\t\tthis.logger.log('*local*: local delta, _skipping_');\n\t\t\treturn;\n\t\t}\n\t\tconst op = this.deltaTransform(delta);\n\t\tthis.logger.log(`*local*: transformed op: ${JSON.stringify(op)}`);\n\n\t\tconst docSubmitted = (err) => {\n\t\t\tif (err) throw err;\n\t\t\tthis.logger.log('*local*: op submitted');\n\t\t};\n\n\t\tthis.doc.submitOp(op, { source: this }, docSubmitted);\n\t}\n\n\t/**\n\t * Event Listener for remote events (ShareDB)\n\t *\n\t * @param {Object[]} ops - array of ShareDB ops\n\t * @param {Object} source - which sharedb-ace-binding instance\n\t * created the op. If self, don't apply the op.\n\t */\n\tonRemoteChange(ops, source) {\n\t\tthis.logger.log(`*remote*: fired ${Date.now()}`);\n\t\tconst self = this;\n\n\t\tconst opsPath = ops[0].p.slice(0, ops[0].p.length - 1).toString();\n\t\tthis.logger.log(opsPath);\n\t\tif (source === self) {\n\t\t\tthis.logger.log('*remote*: op origin is self; _skipping_');\n\t\t\treturn;\n\t\t} else if (opsPath !== this.path.toString()) {\n\t\t\tthis.logger.log('*remote*: not from my path; _skipping_');\n\t\t\treturn;\n\t\t}\n\n\t\tconst deltas = this.opTransform(ops);\n\t\tthis.logger.log(`*remote*: op received: ${JSON.stringify(ops)}`);\n\t\tthis.logger.log(`*remote*: transformed delta: ${JSON.stringify(deltas)}`);\n\n\t\tself.suppress = true;\n\t\tself.session.getDocument().applyDeltas(deltas);\n\t\tself.suppress = false;\n\n\t\tthis.logger.log('*remote*: session value');\n\t\tthis.logger.log(JSON.stringify(this.session.getValue()));\n\t\tthis.logger.log('*remote*: delta applied');\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/editor/sharedb-ace-binding.ts","module.exports = \".name-entry {\\n    /*height: 100%;\\n    padding-top: 20%;\\n    margin: auto;\\n    padding-left: 20%;*/\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/name-entry/name-entry.component.css\n// module id = ./src/app/name-entry/name-entry.component.css\n// module chunks = main","module.exports = \"<div class=\\\"container-fluid\\\">\\n    <div class=\\\"name-label row\\\">\\n        <div class=\\\"col-12\\\">\\n            <label for=\\\"uname\\\">Username:</label>\\n        </div>\\n    </div>\\n    <div class=\\\"name-entry row\\\">\\n        <div class=\\\"col-12\\\">\\n            <div class=\\\"input-group input-group-lg\\\">\\n                <input #inp id='uname' class='form-control' [class]=\\\"feedbackClass\\\" placeholder=\\\"Your name\\\" type='text' (ngModelChange)=\\\"valueChange($event)\\\" [(ngModel)]=\\\"value\\\" (keydown)=\\\"onKeydown($event)\\\"/>\\n                <span class=\\\"input-group-btn\\\">\\n                    <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" (click)='doSubmit()'>Go</button>\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"feedback row\\\">\\n        <div class=\\\"col-12\\\">\\n            {{feedback}}\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/name-entry/name-entry.component.html\n// module id = ./src/app/name-entry/name-entry.component.html\n// module chunks = main","import {Component,Injectable,EventEmitter,ViewChild, Output} from '@angular/core';\nimport * as _ from 'underscore';\n\n@Component({\n    selector: 'name-entry',\n    templateUrl: './name-entry.component.html',\n    styleUrls: ['./name-entry.component.css'],\n})\n\nexport class NameEntry {\n    public ngOnInit() {\n        const inpElem = this.inp.nativeElement;\n        setTimeout(() => {\n            inpElem.focus();\n            inpElem.select();\n        }, 100);\n\t}\n\n    public valueChange(name:string):void {\n        const value = name.trim();\n\n        if(value.length === 0) {\n            this.feedback = 'Must be more than 0 characters';\n            this.feedbackClass = 'error';\n        } else if(value.length > this.MAX_LENGTH) {\n            this.feedback = 'Must be ' + this.MAX_LENGTH + ' characters or fewer';\n            this.feedbackClass = 'error';\n        } else {\n            this.feedback = '';\n            this.feedbackClass = '';\n        }\n    }\n\n    public onKeydown(event):void {\n        if(event.keyCode === 13) {\n            this.doSubmit();\n        }\n    }\n\n    public doSubmit() {\n        const value = this.value.trim();\n        if(value.length > 0 && value.length < this.MAX_LENGTH) {\n            localStorage.setItem('default-username', value);\n            this.onEnter.emit(value);\n        }\n    }\n\n    @Output()\n    public onEnter:EventEmitter<any> = new EventEmitter();\n    public value:string = localStorage.getItem('default-username') || '';\n    public feedback:string='';\n    public feedbackClass:string='';\n    private MAX_LENGTH = 20;\n    @ViewChild('inp') inp;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/name-entry/name-entry.component.ts","module.exports = \".terminalContainer {\\n    height: 100%;\\n    background-color: #333;\\n}\\n\\n.run {\\n    position: absolute;\\n    right: 30px;\\n    z-index: 5;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/python_out/python_out.component.css\n// module id = ./src/app/python_out/python_out.component.css\n// module chunks = main","module.exports = \"<button class='run btn-sm btn btn-success' (click)='run()'>Run</button>\\n<div #terminal class='terminalContainer'></div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/python_out/python_out.component.html\n// module id = ./src/app/python_out/python_out.component.html\n// module chunks = main","import {ViewChild, Component, EventEmitter, Output, Input} from '@angular/core';\nimport * as Terminal from 'xterm';\nimport * as skulpt from 'skulpt';\nimport {EditorDisplay} from '../editor/editor.component';\nimport { CommunicationService, ChannelCommunicationService } from 'chat-codes-services/src/communication-service';\n\n@Component({\n    selector: 'python-output',\n    templateUrl: './python_out.component.html',\n    styleUrls: ['./python_out.component.css'],\n})\n\nexport class PythonOutputDisplay {\n    constructor() {\n    }\n    ngOnInit() {\n        Terminal.loadAddon('fit');  // Load the `fit` addon\n        this.term = new Terminal();\n        this.term.open(this.terminalElement.nativeElement, false);\n        this.term.fit();  // Make the terminal's size and geometry fit the size of #terminal-container\n        // this.term.write('$ ');\n    }\n    run():void {\n        const editorStateTracker = this.commLayer.getEditorStateTracker();\n        function builtinRead(x) {\n            if (skulpt.builtinFiles === undefined || skulpt.builtinFiles[\"files\"][x] === undefined) {\n                throw \"File not found: '\" + x + \"'\";\n            }\n            return skulpt.builtinFiles[\"files\"][x];\n        }\n        skulpt.python3 = true;\n        skulpt.configure({output:(text) => {\n            this.term.write(text);\n        }, read:builtinRead});\n\n        const editorInstance = this.editor.getEditorInstance();\n        const editorValue:string = editorInstance.getValue();\n\n        this.onRun.emit({ editorValue });\n\n        this.term.clear();\n        this.term.reset();\n        const myPromise = skulpt.misceval.asyncToPromise(function() {\n            return skulpt.importMainWithBody(\"<stdin>\", false, editorValue, true);\n        });\n\n        myPromise.then((mod) => {\n        }, (err) => {\n            this.term.writeln(err.toString());\n        });\n    }\n\n    private term:Terminal;\n    @Output() public onRun:EventEmitter<{editorValue:string}> = new EventEmitter();\n    @Input() commLayer: ChannelCommunicationService;\n    @Input() editor:EditorDisplay;\n    @ViewChild('terminal') terminalElement;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/python_out/python_out.component.ts","module.exports = \".terminalContainer {\\n    height: 100%;\\n    background-color: black;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/terminal/terminal.component.css\n// module id = ./src/app/terminal/terminal.component.css\n// module chunks = main","module.exports = \"<div #terminal class='terminalContainer'></div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/terminal/terminal.component.html\n// module id = ./src/app/terminal/terminal.component.html\n// module chunks = main","import {ViewChild, Component, EventEmitter, Output, Input} from '@angular/core';\nimport * as Terminal from 'xterm';\nimport { CommunicationService, ChannelCommunicationService } from 'chat-codes-services/src/communication-service';\n\n@Component({\n    selector: 'terminal',\n    templateUrl: './terminal.component.html',\n    styleUrls: ['./terminal.component.css'],\n})\n\nexport class TerminalDisplay {\n    constructor() { }\n    ngOnInit() {\n        Terminal.loadAddon('fit');  // Load the `fit` addon\n        const term = new Terminal();\n\n        term.open(this.terminalElement.nativeElement, false);\n\n        term.fit();  // Make the terminal's size and geometry fit the size of #terminal-container\n\n        term.write('$ ');\n        term.on('data', (key) => {\n            this.commLayer.writeToTerminal(key);\n        });\n        (this.commLayer as any).on('terminal-data', (event) => {\n            term.write(event.data);\n        });\n    }\n    @Input() commLayer: ChannelCommunicationService;\n    @ViewChild('terminal') terminalElement;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/terminal/terminal.component.ts","module.exports = \"<span class=\\\"time\\\">{{parens ? '(':''}}{{t | amTimeAgo}}{{parens ? ')':''}}</span>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/timestamp/timestamp.component.html\n// module id = ./src/app/timestamp/timestamp.component.html\n// module chunks = main","import {ViewChild, Component, Output, Input} from '@angular/core';\n@Component({\n    selector: 'timestamp',\n    templateUrl: './timestamp.component.html',\n    styleUrls: [],\n})\n\nexport class TimestampDisplay {\n    constructor() { }\n    @Input() t:number;\n    @Input() parens:boolean=false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/timestamp/timestamp.component.ts","module.exports = \".user {\\n    font-size: 1em;\\n    -webkit-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    background-color: #EEE;\\n}\\n\\n.user.typing {\\n    -webkit-animation: jiggle 0.2s infinite;\\n    -moz-animation-duration: 0.2s;\\n    -moz-animation-name: jiggle;\\n    -moz-animation-iteration-count: infinite;\\n    -webkit-transform: rotate(-3deg);\\n    -moz-transform: rotate(-3deg);\\n}\\n\\n.user.typing::after {\\n    content: '...';\\n}\\n\\n.user.typed::after {\\n    content: '...'\\n}\\n\\n@-webkit-keyframes jiggle {\\n    0% {\\n        -webkit-transform: rotate(-1deg);\\n    }\\n    50% {\\n        -webkit-transform: rotate(1deg);\\n    }\\n}\\n\\n.user.isme.user-1 { border: 1px solid #007bff; }\\n\\n.user.isme.user-2 { border: 1px solid #dc3545; }\\n\\n.user.isme.user-3 { border: 1px solid #fd7e14; }\\n\\n.user.isme.user-4 { border: 1px solid #ffc107; }\\n\\n.user.isme.user-5 { border: 1px solid #28a745; }\\n\\n.user-1 { color: #007bff; }\\n\\n/* blue */\\n\\n.user-2 { color: #dc3545; }\\n\\n/* red */\\n\\n.user-3 { color: #fd7e14; }\\n\\n/* orange */\\n\\n.user-4 { color: #ffc107; }\\n\\n/* yellow */\\n\\n.user-5 { color: #28a745; }\\n\\n/* green */\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/user/user-display.component.css\n// module id = ./src/app/user/user-display.component.css\n// module chunks = main","module.exports = \"<span class='user badge badge-default' [class.typing]=\\\"typingStatus=='ACTIVE_TYPING'\\\" [class.typed]=\\\"typingStatus=='IDLE_TYPED'\\\" [class.isme]=\\\"user.getIsMe()\\\" [ngClass]=\\\"'user-'+user.getColorIndex()\\\">\\n    {{user.getName()}}\\n</span>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/user/user-display.component.html\n// module id = ./src/app/user/user-display.component.html\n// module chunks = main","import {ViewChild, Component, EventEmitter, Output, Input} from '@angular/core';\nimport { ChatUser } from 'chat-codes-services/src/chat-user';\n\n@Component({\n    selector: 'user-display',\n    templateUrl: './user-display.component.html',\n    styleUrls: ['./user-display.component.css'],\n})\nexport class UserDisplay {\n    public typingStatus:string = 'IDLE'\n    ngOnInit() {\n        this.typingStatus = this.user.getTypingStatus();\n        (this.user as any).on('typingStatus', (status) => {\n            setTimeout(() => {\n                this.typingStatus = this.user.getTypingStatus();\n            }, 0);\n        });\n    }\n    @Input() user: ChatUser;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/user/user-display.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n    enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// fs (ignored)\n// module id = 1\n// module chunks = main"],"sourceRoot":"webpack:///"}